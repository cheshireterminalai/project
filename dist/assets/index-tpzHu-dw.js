import{b as Te,P as Bn,S as Hn,B as Gn,G as Vn,L as Yn,a as zn,T as Kn,C as Xn,W as Jn,c as Zn,r as We,s as Qn,d as ln,e as $e,f as ei,g as ti,u as fn,h as ri}from"./solana-vendor-DJ9Nagnm.js";import{r as he,b as ni,a as ii}from"./react-vendor-MNm3ExxM.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const S of document.querySelectorAll('link[rel="modulepreload"]'))y(S);new MutationObserver(S=>{for(const i of S)if(i.type==="childList")for(const T of i.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&y(T)}).observe(document,{childList:!0,subtree:!0});function a(S){const i={};return S.integrity&&(i.integrity=S.integrity),S.referrerPolicy&&(i.referrerPolicy=S.referrerPolicy),S.crossOrigin==="use-credentials"?i.credentials="include":S.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function y(S){if(S.ep)return;S.ep=!0;const i=a(S);fetch(S.href,i)}})();window.Buffer=Te.Buffer;var un={exports:{}},lt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oi=he,ai=Symbol.for("react.element"),si=Symbol.for("react.fragment"),li=Object.prototype.hasOwnProperty,fi=oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ui={key:!0,ref:!0,__self:!0,__source:!0};function dn(t,r,a){var y,S={},i=null,T=null;a!==void 0&&(i=""+a),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(T=r.ref);for(y in r)li.call(r,y)&&!ui.hasOwnProperty(y)&&(S[y]=r[y]);if(t&&t.defaultProps)for(y in r=t.defaultProps,r)S[y]===void 0&&(S[y]=r[y]);return{$$typeof:ai,type:t,key:i,ref:T,props:S,_owner:fi.current}}lt.Fragment=si;lt.jsx=dn;lt.jsxs=dn;un.exports=lt;var z=un.exports,cn,gr=ni;cn=gr.createRoot,gr.hydrateRoot;const qe={replicate:{apiToken:void 0,modelVersion:"140176772be3b423d14fdaf5403e6d4e38b85646ccad0c3fd2ed07c211f0cad1"},elevenLabs:{apiKey:void 0,agentId:"lwiJrJFJXhXCJTiYfQxV"},helius:{rpcUrl:"https://mainnet.helius-rpc.com/?api-key=e4e7f06a-1e90-4628-8b07-d4f3c30fc5c9"},openRouter:{apiKey:void 0,model:void 0},supabase:{url:"https://guzlanuvzfgcekmupcrx.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd1emxhbnV2emZnY2VrbXVwY3J4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDk2NzY5MTUsImV4cCI6MjAyNTI1MjkxNX0.Bh9_xPvXGYB_P2_LqK9_zBPVhXkzxkBJl_xwRzUu_KE"},grin:{tokenAddress:"7JofsgKgD3MerQDa7hEe4dfkY3c3nMnsThZzUuYyTFpE",requiredAmount:1,receiverAddress:"7JofsgKgD3MerQDa7hEe4dfkY3c3nMnsThZzUuYyTFpE"},images:{cheshireLogo:"https://guzlanuvzfgcekmupcrx.supabase.co/storage/v1/object/public/Art/dope.png",bottomLogo:"https://guzlanuvzfgcekmupcrx.supabase.co/storage/v1/object/public/Art/https___replicate.delivery_xezq_xWuO38pdsHL0BJVadHgoTZLY3kR6WjrKQ27ftncQEcxfLgwTA_out-0.png",solanaLogo:"https://guzlanuvzfgcekmupcrx.supabase.co/storage/v1/object/public/Art/oslana.png"}};function di({children:t}){const r=he.useMemo(()=>qe.helius.rpcUrl,[]),a=he.useMemo(()=>[new Bn,new Hn,new Gn,new Vn,new Yn,new zn,new Kn],[]);return z.jsx(Xn,{endpoint:r,children:z.jsx(Jn,{wallets:a,autoConnect:!0,children:z.jsx(Zn,{children:t})})})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ci={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ze=(t,r)=>{const a=he.forwardRef(({color:y="currentColor",size:S=24,strokeWidth:i=2,absoluteStrokeWidth:T,className:d="",children:_,...u},m)=>he.createElement("svg",{ref:m,...ci,width:S,height:S,stroke:y,strokeWidth:T?Number(i)*24/Number(S):i,className:["lucide",`lucide-${hi(t)}`,d].join(" "),...u},[...r.map(([v,h])=>he.createElement(v,h)),...Array.isArray(_)?_:[_]]));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=Ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=Ze("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Ze("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);let wi=class extends Error{constructor(r,a,y){super(r),this.name="ApiError",this.request=a,this.response=y}};var pn=wi;let yi=class bn{constructor(r,a,y=null){this.owner=r,this.name=a,this.version=y}static parse(r){const a=r.match(/^(?<owner>[^/]+)\/(?<name>[^/:]+)(:(?<version>.+))?$/);if(!a)throw new Error(`Invalid reference to model version: ${r}. Expected format: owner/name or owner/name:version`);const{owner:y,name:S,version:i}=a.groups;return new bn(y,S,i)}};var _i=yi,wt={exports:{}},yt={exports:{}},_t,yr;function be(){return yr||(yr=1,_t={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,r){return t.includes(r)},ArrayPrototypeIndexOf(t,r){return t.indexOf(r)},ArrayPrototypeJoin(t,r){return t.join(r)},ArrayPrototypeMap(t,r){return t.map(r)},ArrayPrototypePop(t,r){return t.pop(r)},ArrayPrototypePush(t,r){return t.push(r)},ArrayPrototypeSlice(t,r,a){return t.slice(r,a)},Error,FunctionPrototypeCall(t,r,...a){return t.call(r,...a)},FunctionPrototypeSymbolHasInstance(t,r){return Function.prototype[Symbol.hasInstance].call(t,r)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,r){return Object.defineProperties(t,r)},ObjectDefineProperty(t,r,a){return Object.defineProperty(t,r,a)},ObjectGetOwnPropertyDescriptor(t,r){return Object.getOwnPropertyDescriptor(t,r)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,r){return Object.setPrototypeOf(t,r)},Promise,PromisePrototypeCatch(t,r){return t.catch(r)},PromisePrototypeThen(t,r,a){return t.then(r,a)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,r){return t.test(r)},SafeSet:Set,String,StringPrototypeSlice(t,r,a){return t.slice(r,a)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,r,a){return t.set(r,a)},Boolean,Uint8Array}),_t}var mt={exports:{}},ze={exports:{}},_r;function Je(){if(_r)return ze.exports;_r=1;const{AbortController:t,AbortSignal:r}=typeof self<"u"?self:typeof window<"u"?window:void 0;return ze.exports=t,ze.exports.AbortSignal=r,ze.exports.default=t,ze.exports}var mr;function Se(){return mr||(mr=1,function(t){const r=Te,{kResistStopPropagation:a,SymbolDispose:y}=be(),S=globalThis.AbortSignal||Je().AbortSignal,i=globalThis.AbortController||Je().AbortController,T=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||r.Blob,_=typeof d<"u"?function(L){return L instanceof d}:function(L){return!1},u=(h,L)=>{if(h!==void 0&&(h===null||typeof h!="object"||!("aborted"in h)))throw new ERR_INVALID_ARG_TYPE(L,"AbortSignal",h)},m=(h,L)=>{if(typeof h!="function")throw new ERR_INVALID_ARG_TYPE(L,"Function",h)};class v extends Error{constructor(L){if(!Array.isArray(L))throw new TypeError(`Expected input to be an Array, got ${typeof L}`);let N="";for(let M=0;M<L.length;M++)N+=`    ${L[M].stack}
`;super(N),this.name="AggregateError",this.errors=L}}t.exports={AggregateError:v,kEmptyObject:Object.freeze({}),once(h){let L=!1;return function(...N){L||(L=!0,h.apply(this,N))}},createDeferredPromise:function(){let h,L;return{promise:new Promise((M,p)=>{h=M,L=p}),resolve:h,reject:L}},promisify(h){return new Promise((L,N)=>{h((M,...p)=>M?N(M):L(...p))})},debuglog(){return function(){}},format(h,...L){return h.replace(/%([sdifj])/g,function(...[N,M]){const p=L.shift();return M==="f"?p.toFixed(6):M==="j"?JSON.stringify(p):M==="s"&&typeof p=="object"?`${p.constructor!==Object?p.constructor.name:""} {}`.trim():p.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof T},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:_,deprecate(h,L){return h},addAbortListener:We().addAbortListener||function(L,N){if(L===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",L);u(L,"signal"),m(N,"listener");let M;return L.aborted?queueMicrotask(()=>N()):(L.addEventListener("abort",N,{__proto__:null,once:!0,[a]:!0}),M=()=>{L.removeEventListener("abort",N)}),{__proto__:null,[y](){var p;(p=M)===null||p===void 0||p()}}},AbortSignalAny:S.any||function(L){if(L.length===1)return L[0];const N=new i,M=()=>N.abort();return L.forEach(p=>{u(p,"signals"),p.addEventListener("abort",M,{once:!0})}),N.signal.addEventListener("abort",()=>{L.forEach(p=>p.removeEventListener("abort",M))},{once:!0}),N.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(mt)),mt.exports}var tt={},vt,vr;function Ee(){if(vr)return vt;vr=1;const{format:t,inspect:r,AggregateError:a}=Se(),y=globalThis.AggregateError||a,S=Symbol("kIsNodeError"),i=["string","function","number","object","Function","Object","boolean","bigint","symbol"],T=/^([A-Z][a-z0-9]*)+$/,d="__node_internal_",_={};function u(p,s){if(!p)throw new _.ERR_INTERNAL_ASSERTION(s)}function m(p){let s="",w=p.length;const b=p[0]==="-"?1:0;for(;w>=b+4;w-=3)s=`_${p.slice(w-3,w)}${s}`;return`${p.slice(0,w)}${s}`}function v(p,s,w){if(typeof s=="function")return u(s.length<=w.length,`Code: ${p}; The provided arguments length (${w.length}) does not match the required ones (${s.length}).`),s(...w);const b=(s.match(/%[dfijoOs]/g)||[]).length;return u(b===w.length,`Code: ${p}; The provided arguments length (${w.length}) does not match the required ones (${b}).`),w.length===0?s:t(s,...w)}function h(p,s,w){w||(w=Error);class b extends w{constructor(...k){super(v(p,s,k))}toString(){return`${this.name} [${p}]: ${this.message}`}}Object.defineProperties(b.prototype,{name:{value:w.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${p}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),b.prototype.code=p,b.prototype[S]=!0,_[p]=b}function L(p){const s=d+p.name;return Object.defineProperty(p,"name",{value:s}),p}function N(p,s){if(p&&s&&p!==s){if(Array.isArray(s.errors))return s.errors.push(p),s;const w=new y([s,p],s.message);return w.code=s.code,w}return p||s}class M extends Error{constructor(s="The operation was aborted",w=void 0){if(w!==void 0&&typeof w!="object")throw new _.ERR_INVALID_ARG_TYPE("options","Object",w);super(s,w),this.code="ABORT_ERR",this.name="AbortError"}}return h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",(p,s,w)=>{u(typeof p=="string","'name' must be a string"),Array.isArray(s)||(s=[s]);let b="The ";p.endsWith(" argument")?b+=`${p} `:b+=`"${p}" ${p.includes(".")?"property":"argument"} `,b+="must be ";const D=[],k=[],Z=[];for(const K of s)u(typeof K=="string","All expected entries have to be of type string"),i.includes(K)?D.push(K.toLowerCase()):T.test(K)?k.push(K):(u(K!=="object",'The value "object" should be written as "Object"'),Z.push(K));if(k.length>0){const K=D.indexOf("object");K!==-1&&(D.splice(D,K,1),k.push("Object"))}if(D.length>0){switch(D.length){case 1:b+=`of type ${D[0]}`;break;case 2:b+=`one of type ${D[0]} or ${D[1]}`;break;default:{const K=D.pop();b+=`one of type ${D.join(", ")}, or ${K}`}}(k.length>0||Z.length>0)&&(b+=" or ")}if(k.length>0){switch(k.length){case 1:b+=`an instance of ${k[0]}`;break;case 2:b+=`an instance of ${k[0]} or ${k[1]}`;break;default:{const K=k.pop();b+=`an instance of ${k.join(", ")}, or ${K}`}}Z.length>0&&(b+=" or ")}switch(Z.length){case 0:break;case 1:Z[0].toLowerCase()!==Z[0]&&(b+="an "),b+=`${Z[0]}`;break;case 2:b+=`one of ${Z[0]} or ${Z[1]}`;break;default:{const K=Z.pop();b+=`one of ${Z.join(", ")}, or ${K}`}}if(w==null)b+=`. Received ${w}`;else if(typeof w=="function"&&w.name)b+=`. Received function ${w.name}`;else if(typeof w=="object"){var ne;if((ne=w.constructor)!==null&&ne!==void 0&&ne.name)b+=`. Received an instance of ${w.constructor.name}`;else{const K=r(w,{depth:-1});b+=`. Received ${K}`}}else{let K=r(w,{colors:!1});K.length>25&&(K=`${K.slice(0,25)}...`),b+=`. Received type ${typeof w} (${K})`}return b},TypeError),h("ERR_INVALID_ARG_VALUE",(p,s,w="is invalid")=>{let b=r(s);return b.length>128&&(b=b.slice(0,128)+"..."),`The ${p.includes(".")?"property":"argument"} '${p}' ${w}. Received ${b}`},TypeError),h("ERR_INVALID_RETURN_VALUE",(p,s,w)=>{var b;const D=w!=null&&(b=w.constructor)!==null&&b!==void 0&&b.name?`instance of ${w.constructor.name}`:`type ${typeof w}`;return`Expected ${p} to be returned from the "${s}" function but got ${D}.`},TypeError),h("ERR_MISSING_ARGS",(...p)=>{u(p.length>0,"At least one arg needs to be specified");let s;const w=p.length;switch(p=(Array.isArray(p)?p:[p]).map(b=>`"${b}"`).join(" or "),w){case 1:s+=`The ${p[0]} argument`;break;case 2:s+=`The ${p[0]} and ${p[1]} arguments`;break;default:{const b=p.pop();s+=`The ${p.join(", ")}, and ${b} arguments`}break}return`${s} must be specified`},TypeError),h("ERR_OUT_OF_RANGE",(p,s,w)=>{u(s,'Missing "range" argument');let b;return Number.isInteger(w)&&Math.abs(w)>2**32?b=m(String(w)):typeof w=="bigint"?(b=String(w),(w>2n**32n||w<-(2n**32n))&&(b=m(b)),b+="n"):b=r(w),`The value of "${p}" is out of range. It must be ${s}. Received ${b}`},RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),vt={AbortError:M,aggregateTwoErrors:L(N),hideStackFrames:L,codes:_},vt}var St,Sr;function Qe(){if(Sr)return St;Sr=1;const{ArrayIsArray:t,ArrayPrototypeIncludes:r,ArrayPrototypeJoin:a,ArrayPrototypeMap:y,NumberIsInteger:S,NumberIsNaN:i,NumberMAX_SAFE_INTEGER:T,NumberMIN_SAFE_INTEGER:d,NumberParseInt:_,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:m,String:v,StringPrototypeToUpperCase:h,StringPrototypeTrim:L}=be(),{hideStackFrames:N,codes:{ERR_SOCKET_BAD_PORT:M,ERR_INVALID_ARG_TYPE:p,ERR_INVALID_ARG_VALUE:s,ERR_OUT_OF_RANGE:w,ERR_UNKNOWN_SIGNAL:b}}=Ee(),{normalizeEncoding:D}=Se(),{isAsyncFunction:k,isArrayBufferView:Z}=Se().types,ne={};function K(R){return R===(R|0)}function oe(R){return R===R>>>0}const I=/^[0-7]+$/,P="must be a 32-bit unsigned integer or an octal string";function G(R,B,V){if(typeof R>"u"&&(R=V),typeof R=="string"){if(m(I,R)===null)throw new s(B,R,P);R=_(R,8)}return re(R,B),R}const O=N((R,B,V=d,q=T)=>{if(typeof R!="number")throw new p(B,"number",R);if(!S(R))throw new w(B,"an integer",R);if(R<V||R>q)throw new w(B,`>= ${V} && <= ${q}`,R)}),Q=N((R,B,V=-2147483648,q=2147483647)=>{if(typeof R!="number")throw new p(B,"number",R);if(!S(R))throw new w(B,"an integer",R);if(R<V||R>q)throw new w(B,`>= ${V} && <= ${q}`,R)}),re=N((R,B,V=!1)=>{if(typeof R!="number")throw new p(B,"number",R);if(!S(R))throw new w(B,"an integer",R);const q=V?1:0,de=4294967295;if(R<q||R>de)throw new w(B,`>= ${q} && <= ${de}`,R)});function ae(R,B){if(typeof R!="string")throw new p(B,"string",R)}function fe(R,B,V=void 0,q){if(typeof R!="number")throw new p(B,"number",R);if(V!=null&&R<V||q!=null&&R>q||(V!=null||q!=null)&&i(R))throw new w(B,`${V!=null?`>= ${V}`:""}${V!=null&&q!=null?" && ":""}${q!=null?`<= ${q}`:""}`,R)}const j=N((R,B,V)=>{if(!r(V,R)){const de="must be one of: "+a(y(V,we=>typeof we=="string"?`'${we}'`:v(we)),", ");throw new s(B,R,de)}});function ie(R,B){if(typeof R!="boolean")throw new p(B,"boolean",R)}function g(R,B,V){return R==null||!u(R,B)?V:R[B]}const F=N((R,B,V=null)=>{const q=g(V,"allowArray",!1),de=g(V,"allowFunction",!1);if(!g(V,"nullable",!1)&&R===null||!q&&t(R)||typeof R!="object"&&(!de||typeof R!="function"))throw new p(B,"Object",R)}),ee=N((R,B)=>{if(R!=null&&typeof R!="object"&&typeof R!="function")throw new p(B,"a dictionary",R)}),C=N((R,B,V=0)=>{if(!t(R))throw new p(B,"Array",R);if(R.length<V){const q=`must be longer than ${V}`;throw new s(B,R,q)}});function te(R,B){C(R,B);for(let V=0;V<R.length;V++)ae(R[V],`${B}[${V}]`)}function le(R,B){C(R,B);for(let V=0;V<R.length;V++)ie(R[V],`${B}[${V}]`)}function ue(R,B){C(R,B);for(let V=0;V<R.length;V++){const q=R[V],de=`${B}[${V}]`;if(q==null)throw new p(de,"AbortSignal",q);Y(q,de)}}function x(R,B="signal"){if(ae(R,B),ne[R]===void 0)throw ne[h(R)]!==void 0?new b(R+" (signals must use all capital letters)"):new b(R)}const l=N((R,B="buffer")=>{if(!Z(R))throw new p(B,["Buffer","TypedArray","DataView"],R)});function A(R,B){const V=D(B),q=R.length;if(V==="hex"&&q%2!==0)throw new s("encoding",B,`is invalid for data of length ${q}`)}function $(R,B="Port",V=!0){if(typeof R!="number"&&typeof R!="string"||typeof R=="string"&&L(R).length===0||+R!==+R>>>0||R>65535||R===0&&!V)throw new M(B,R,V);return R|0}const Y=N((R,B)=>{if(R!==void 0&&(R===null||typeof R!="object"||!("aborted"in R)))throw new p(B,"AbortSignal",R)}),n=N((R,B)=>{if(typeof R!="function")throw new p(B,"Function",R)}),e=N((R,B)=>{if(typeof R!="function"||k(R))throw new p(B,"Function",R)}),f=N((R,B)=>{if(R!==void 0)throw new p(B,"undefined",R)});function E(R,B,V){if(!r(V,R))throw new p(B,`('${a(V,"|")}')`,R)}const H=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function W(R,B){if(typeof R>"u"||!m(H,R))throw new s(B,R,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function U(R){if(typeof R=="string")return W(R,"hints"),R;if(t(R)){const B=R.length;let V="";if(B===0)return V;for(let q=0;q<B;q++){const de=R[q];W(de,"hints"),V+=de,q!==B-1&&(V+=", ")}return V}throw new s("hints",R,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return St={isInt32:K,isUint32:oe,parseFileMode:G,validateArray:C,validateStringArray:te,validateBooleanArray:le,validateAbortSignalArray:ue,validateBoolean:ie,validateBuffer:l,validateDictionary:ee,validateEncoding:A,validateFunction:n,validateInt32:Q,validateInteger:O,validateNumber:fe,validateObject:F,validateOneOf:j,validatePlainFunction:e,validatePort:$,validateSignalName:x,validateString:ae,validateUint32:re,validateUndefined:f,validateUnion:E,validateAbortSignal:Y,validateLinkHeaderValue:U},St}var rt={exports:{}},gn={exports:{}},ge=gn.exports={},xe,Ne;function Qt(){throw new Error("setTimeout has not been defined")}function er(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?xe=setTimeout:xe=Qt}catch{xe=Qt}try{typeof clearTimeout=="function"?Ne=clearTimeout:Ne=er}catch{Ne=er}})();function wn(t){if(xe===setTimeout)return setTimeout(t,0);if((xe===Qt||!xe)&&setTimeout)return xe=setTimeout,setTimeout(t,0);try{return xe(t,0)}catch{try{return xe.call(null,t,0)}catch{return xe.call(this,t,0)}}}function mi(t){if(Ne===clearTimeout)return clearTimeout(t);if((Ne===er||!Ne)&&clearTimeout)return Ne=clearTimeout,clearTimeout(t);try{return Ne(t)}catch{try{return Ne.call(null,t)}catch{return Ne.call(this,t)}}}var Le=[],Ue=!1,je,at=-1;function vi(){!Ue||!je||(Ue=!1,je.length?Le=je.concat(Le):at=-1,Le.length&&yn())}function yn(){if(!Ue){var t=wn(vi);Ue=!0;for(var r=Le.length;r;){for(je=Le,Le=[];++at<r;)je&&je[at].run();at=-1,r=Le.length}je=null,Ue=!1,mi(t)}}ge.nextTick=function(t){var r=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)r[a-1]=arguments[a];Le.push(new _n(t,r)),Le.length===1&&!Ue&&wn(yn)};function _n(t,r){this.fun=t,this.array=r}_n.prototype.run=function(){this.fun.apply(null,this.array)};ge.title="browser";ge.browser=!0;ge.env={};ge.argv=[];ge.version="";ge.versions={};function Oe(){}ge.on=Oe;ge.addListener=Oe;ge.once=Oe;ge.off=Oe;ge.removeListener=Oe;ge.removeAllListeners=Oe;ge.emit=Oe;ge.prependListener=Oe;ge.prependOnceListener=Oe;ge.listeners=function(t){return[]};ge.binding=function(t){throw new Error("process.binding is not supported")};ge.cwd=function(){return"/"};ge.chdir=function(t){throw new Error("process.chdir is not supported")};ge.umask=function(){return 0};var Fe=gn.exports,Et,Er;function ke(){if(Er)return Et;Er=1;const{SymbolAsyncIterator:t,SymbolIterator:r,SymbolFor:a}=be(),y=a("nodejs.stream.destroyed"),S=a("nodejs.stream.errored"),i=a("nodejs.stream.readable"),T=a("nodejs.stream.writable"),d=a("nodejs.stream.disturbed"),_=a("nodejs.webstream.isClosedPromise"),u=a("nodejs.webstream.controllerErrorFunction");function m(g,F=!1){var ee;return!!(g&&typeof g.pipe=="function"&&typeof g.on=="function"&&(!F||typeof g.pause=="function"&&typeof g.resume=="function")&&(!g._writableState||((ee=g._readableState)===null||ee===void 0?void 0:ee.readable)!==!1)&&(!g._writableState||g._readableState))}function v(g){var F;return!!(g&&typeof g.write=="function"&&typeof g.on=="function"&&(!g._readableState||((F=g._writableState)===null||F===void 0?void 0:F.writable)!==!1))}function h(g){return!!(g&&typeof g.pipe=="function"&&g._readableState&&typeof g.on=="function"&&typeof g.write=="function")}function L(g){return g&&(g._readableState||g._writableState||typeof g.write=="function"&&typeof g.on=="function"||typeof g.pipe=="function"&&typeof g.on=="function")}function N(g){return!!(g&&!L(g)&&typeof g.pipeThrough=="function"&&typeof g.getReader=="function"&&typeof g.cancel=="function")}function M(g){return!!(g&&!L(g)&&typeof g.getWriter=="function"&&typeof g.abort=="function")}function p(g){return!!(g&&!L(g)&&typeof g.readable=="object"&&typeof g.writable=="object")}function s(g){return N(g)||M(g)||p(g)}function w(g,F){return g==null?!1:F===!0?typeof g[t]=="function":F===!1?typeof g[r]=="function":typeof g[t]=="function"||typeof g[r]=="function"}function b(g){if(!L(g))return null;const F=g._writableState,ee=g._readableState,C=F||ee;return!!(g.destroyed||g[y]||C!=null&&C.destroyed)}function D(g){if(!v(g))return null;if(g.writableEnded===!0)return!0;const F=g._writableState;return F!=null&&F.errored?!1:typeof(F==null?void 0:F.ended)!="boolean"?null:F.ended}function k(g,F){if(!v(g))return null;if(g.writableFinished===!0)return!0;const ee=g._writableState;return ee!=null&&ee.errored?!1:typeof(ee==null?void 0:ee.finished)!="boolean"?null:!!(ee.finished||F===!1&&ee.ended===!0&&ee.length===0)}function Z(g){if(!m(g))return null;if(g.readableEnded===!0)return!0;const F=g._readableState;return!F||F.errored?!1:typeof(F==null?void 0:F.ended)!="boolean"?null:F.ended}function ne(g,F){if(!m(g))return null;const ee=g._readableState;return ee!=null&&ee.errored?!1:typeof(ee==null?void 0:ee.endEmitted)!="boolean"?null:!!(ee.endEmitted||F===!1&&ee.ended===!0&&ee.length===0)}function K(g){return g&&g[i]!=null?g[i]:typeof(g==null?void 0:g.readable)!="boolean"?null:b(g)?!1:m(g)&&g.readable&&!ne(g)}function oe(g){return g&&g[T]!=null?g[T]:typeof(g==null?void 0:g.writable)!="boolean"?null:b(g)?!1:v(g)&&g.writable&&!D(g)}function I(g,F){return L(g)?b(g)?!0:!((F==null?void 0:F.readable)!==!1&&K(g)||(F==null?void 0:F.writable)!==!1&&oe(g)):null}function P(g){var F,ee;return L(g)?g.writableErrored?g.writableErrored:(F=(ee=g._writableState)===null||ee===void 0?void 0:ee.errored)!==null&&F!==void 0?F:null:null}function G(g){var F,ee;return L(g)?g.readableErrored?g.readableErrored:(F=(ee=g._readableState)===null||ee===void 0?void 0:ee.errored)!==null&&F!==void 0?F:null:null}function O(g){if(!L(g))return null;if(typeof g.closed=="boolean")return g.closed;const F=g._writableState,ee=g._readableState;return typeof(F==null?void 0:F.closed)=="boolean"||typeof(ee==null?void 0:ee.closed)=="boolean"?(F==null?void 0:F.closed)||(ee==null?void 0:ee.closed):typeof g._closed=="boolean"&&Q(g)?g._closed:null}function Q(g){return typeof g._closed=="boolean"&&typeof g._defaultKeepAlive=="boolean"&&typeof g._removedConnection=="boolean"&&typeof g._removedContLen=="boolean"}function re(g){return typeof g._sent100=="boolean"&&Q(g)}function ae(g){var F;return typeof g._consuming=="boolean"&&typeof g._dumped=="boolean"&&((F=g.req)===null||F===void 0?void 0:F.upgradeOrConnect)===void 0}function fe(g){if(!L(g))return null;const F=g._writableState,ee=g._readableState,C=F||ee;return!C&&re(g)||!!(C&&C.autoDestroy&&C.emitClose&&C.closed===!1)}function j(g){var F;return!!(g&&((F=g[d])!==null&&F!==void 0?F:g.readableDidRead||g.readableAborted))}function ie(g){var F,ee,C,te,le,ue,x,l,A,$;return!!(g&&((F=(ee=(C=(te=(le=(ue=g[S])!==null&&ue!==void 0?ue:g.readableErrored)!==null&&le!==void 0?le:g.writableErrored)!==null&&te!==void 0?te:(x=g._readableState)===null||x===void 0?void 0:x.errorEmitted)!==null&&C!==void 0?C:(l=g._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&ee!==void 0?ee:(A=g._readableState)===null||A===void 0?void 0:A.errored)!==null&&F!==void 0?F:!(($=g._writableState)===null||$===void 0)&&$.errored))}return Et={isDestroyed:b,kIsDestroyed:y,isDisturbed:j,kIsDisturbed:d,isErrored:ie,kIsErrored:S,isReadable:K,kIsReadable:i,kIsClosedPromise:_,kControllerErrorFunction:u,kIsWritable:T,isClosed:O,isDuplexNodeStream:h,isFinished:I,isIterable:w,isReadableNodeStream:m,isReadableStream:N,isReadableEnded:Z,isReadableFinished:ne,isReadableErrored:G,isNodeStream:L,isWebStream:s,isWritable:oe,isWritableNodeStream:v,isWritableStream:M,isWritableEnded:D,isWritableFinished:k,isWritableErrored:P,isServerRequest:ae,isServerResponse:re,willEmitClose:fe,isTransformStream:p},Et}var Rr;function Pe(){if(Rr)return rt.exports;Rr=1;const t=Fe,{AbortError:r,codes:a}=Ee(),{ERR_INVALID_ARG_TYPE:y,ERR_STREAM_PREMATURE_CLOSE:S}=a,{kEmptyObject:i,once:T}=Se(),{validateAbortSignal:d,validateFunction:_,validateObject:u,validateBoolean:m}=Qe(),{Promise:v,PromisePrototypeThen:h,SymbolDispose:L}=be(),{isClosed:N,isReadable:M,isReadableNodeStream:p,isReadableStream:s,isReadableFinished:w,isReadableErrored:b,isWritable:D,isWritableNodeStream:k,isWritableStream:Z,isWritableFinished:ne,isWritableErrored:K,isNodeStream:oe,willEmitClose:I,kIsClosedPromise:P}=ke();let G;function O(j){return j.setHeader&&typeof j.abort=="function"}const Q=()=>{};function re(j,ie,g){var F,ee;if(arguments.length===2?(g=ie,ie=i):ie==null?ie=i:u(ie,"options"),_(g,"callback"),d(ie.signal,"options.signal"),g=T(g),s(j)||Z(j))return ae(j,ie,g);if(!oe(j))throw new y("stream",["ReadableStream","WritableStream","Stream"],j);const C=(F=ie.readable)!==null&&F!==void 0?F:p(j),te=(ee=ie.writable)!==null&&ee!==void 0?ee:k(j),le=j._writableState,ue=j._readableState,x=()=>{j.writable||$()};let l=I(j)&&p(j)===C&&k(j)===te,A=ne(j,!1);const $=()=>{A=!0,j.destroyed&&(l=!1),!(l&&(!j.readable||C))&&(!C||Y)&&g.call(j)};let Y=w(j,!1);const n=()=>{Y=!0,j.destroyed&&(l=!1),!(l&&(!j.writable||te))&&(!te||A)&&g.call(j)},e=R=>{g.call(j,R)};let f=N(j);const E=()=>{f=!0;const R=K(j)||b(j);if(R&&typeof R!="boolean")return g.call(j,R);if(C&&!Y&&p(j,!0)&&!w(j,!1))return g.call(j,new S);if(te&&!A&&!ne(j,!1))return g.call(j,new S);g.call(j)},H=()=>{f=!0;const R=K(j)||b(j);if(R&&typeof R!="boolean")return g.call(j,R);g.call(j)},W=()=>{j.req.on("finish",$)};O(j)?(j.on("complete",$),l||j.on("abort",E),j.req?W():j.on("request",W)):te&&!le&&(j.on("end",x),j.on("close",x)),!l&&typeof j.aborted=="boolean"&&j.on("aborted",E),j.on("end",n),j.on("finish",$),ie.error!==!1&&j.on("error",e),j.on("close",E),f?t.nextTick(E):le!=null&&le.errorEmitted||ue!=null&&ue.errorEmitted?l||t.nextTick(H):(!C&&(!l||M(j))&&(A||D(j)===!1)||!te&&(!l||D(j))&&(Y||M(j)===!1)||ue&&j.req&&j.aborted)&&t.nextTick(H);const U=()=>{g=Q,j.removeListener("aborted",E),j.removeListener("complete",$),j.removeListener("abort",E),j.removeListener("request",W),j.req&&j.req.removeListener("finish",$),j.removeListener("end",x),j.removeListener("close",x),j.removeListener("finish",$),j.removeListener("end",n),j.removeListener("error",e),j.removeListener("close",E)};if(ie.signal&&!f){const R=()=>{const B=g;U(),B.call(j,new r(void 0,{cause:ie.signal.reason}))};if(ie.signal.aborted)t.nextTick(R);else{G=G||Se().addAbortListener;const B=G(ie.signal,R),V=g;g=T((...q)=>{B[L](),V.apply(j,q)})}}return U}function ae(j,ie,g){let F=!1,ee=Q;if(ie.signal)if(ee=()=>{F=!0,g.call(j,new r(void 0,{cause:ie.signal.reason}))},ie.signal.aborted)t.nextTick(ee);else{G=G||Se().addAbortListener;const te=G(ie.signal,ee),le=g;g=T((...ue)=>{te[L](),le.apply(j,ue)})}const C=(...te)=>{F||t.nextTick(()=>g.apply(j,te))};return h(j[P].promise,C,C),Q}function fe(j,ie){var g;let F=!1;return ie===null&&(ie=i),(g=ie)!==null&&g!==void 0&&g.cleanup&&(m(ie.cleanup,"cleanup"),F=ie.cleanup),new v((ee,C)=>{const te=re(j,ie,le=>{F&&te(),le?C(le):ee()})})}return rt.exports=re,rt.exports.finished=fe,rt.exports}var Rt,Ar;function He(){if(Ar)return Rt;Ar=1;const t=Fe,{aggregateTwoErrors:r,codes:{ERR_MULTIPLE_CALLBACK:a},AbortError:y}=Ee(),{Symbol:S}=be(),{kIsDestroyed:i,isDestroyed:T,isFinished:d,isServerRequest:_}=ke(),u=S("kDestroy"),m=S("kConstruct");function v(I,P,G){I&&(I.stack,P&&!P.errored&&(P.errored=I),G&&!G.errored&&(G.errored=I))}function h(I,P){const G=this._readableState,O=this._writableState,Q=O||G;return O!=null&&O.destroyed||G!=null&&G.destroyed?(typeof P=="function"&&P(),this):(v(I,O,G),O&&(O.destroyed=!0),G&&(G.destroyed=!0),Q.constructed?L(this,I,P):this.once(u,function(re){L(this,r(re,I),P)}),this)}function L(I,P,G){let O=!1;function Q(re){if(O)return;O=!0;const ae=I._readableState,fe=I._writableState;v(re,fe,ae),fe&&(fe.closed=!0),ae&&(ae.closed=!0),typeof G=="function"&&G(re),re?t.nextTick(N,I,re):t.nextTick(M,I)}try{I._destroy(P||null,Q)}catch(re){Q(re)}}function N(I,P){p(I,P),M(I)}function M(I){const P=I._readableState,G=I._writableState;G&&(G.closeEmitted=!0),P&&(P.closeEmitted=!0),(G!=null&&G.emitClose||P!=null&&P.emitClose)&&I.emit("close")}function p(I,P){const G=I._readableState,O=I._writableState;O!=null&&O.errorEmitted||G!=null&&G.errorEmitted||(O&&(O.errorEmitted=!0),G&&(G.errorEmitted=!0),I.emit("error",P))}function s(){const I=this._readableState,P=this._writableState;I&&(I.constructed=!0,I.closed=!1,I.closeEmitted=!1,I.destroyed=!1,I.errored=null,I.errorEmitted=!1,I.reading=!1,I.ended=I.readable===!1,I.endEmitted=I.readable===!1),P&&(P.constructed=!0,P.destroyed=!1,P.closed=!1,P.closeEmitted=!1,P.errored=null,P.errorEmitted=!1,P.finalCalled=!1,P.prefinished=!1,P.ended=P.writable===!1,P.ending=P.writable===!1,P.finished=P.writable===!1)}function w(I,P,G){const O=I._readableState,Q=I._writableState;if(Q!=null&&Q.destroyed||O!=null&&O.destroyed)return this;O!=null&&O.autoDestroy||Q!=null&&Q.autoDestroy?I.destroy(P):P&&(P.stack,Q&&!Q.errored&&(Q.errored=P),O&&!O.errored&&(O.errored=P),G?t.nextTick(p,I,P):p(I,P))}function b(I,P){if(typeof I._construct!="function")return;const G=I._readableState,O=I._writableState;G&&(G.constructed=!1),O&&(O.constructed=!1),I.once(m,P),!(I.listenerCount(m)>1)&&t.nextTick(D,I)}function D(I){let P=!1;function G(O){if(P){w(I,O??new a);return}P=!0;const Q=I._readableState,re=I._writableState,ae=re||Q;Q&&(Q.constructed=!0),re&&(re.constructed=!0),ae.destroyed?I.emit(u,O):O?w(I,O,!0):t.nextTick(k,I)}try{I._construct(O=>{t.nextTick(G,O)})}catch(O){t.nextTick(G,O)}}function k(I){I.emit(m)}function Z(I){return(I==null?void 0:I.setHeader)&&typeof I.abort=="function"}function ne(I){I.emit("close")}function K(I,P){I.emit("error",P),t.nextTick(ne,I)}function oe(I,P){!I||T(I)||(!P&&!d(I)&&(P=new y),_(I)?(I.socket=null,I.destroy(P)):Z(I)?I.abort():Z(I.req)?I.req.abort():typeof I.destroy=="function"?I.destroy(P):typeof I.close=="function"?I.close():P?t.nextTick(K,I,P):t.nextTick(ne,I),I.destroyed||(I[i]=!0))}return Rt={construct:b,destroyer:oe,destroy:h,undestroy:s,errorOrDestroy:w},Rt}var At,Tr;function nr(){if(Tr)return At;Tr=1;const{ArrayIsArray:t,ObjectSetPrototypeOf:r}=be(),{EventEmitter:a}=We();function y(i){a.call(this,i)}r(y.prototype,a.prototype),r(y,a),y.prototype.pipe=function(i,T){const d=this;function _(M){i.writable&&i.write(M)===!1&&d.pause&&d.pause()}d.on("data",_);function u(){d.readable&&d.resume&&d.resume()}i.on("drain",u),!i._isStdio&&(!T||T.end!==!1)&&(d.on("end",v),d.on("close",h));let m=!1;function v(){m||(m=!0,i.end())}function h(){m||(m=!0,typeof i.destroy=="function"&&i.destroy())}function L(M){N(),a.listenerCount(this,"error")===0&&this.emit("error",M)}S(d,"error",L),S(i,"error",L);function N(){d.removeListener("data",_),i.removeListener("drain",u),d.removeListener("end",v),d.removeListener("close",h),d.removeListener("error",L),i.removeListener("error",L),d.removeListener("end",N),d.removeListener("close",N),i.removeListener("close",N)}return d.on("end",N),d.on("close",N),i.on("close",N),i.emit("pipe",d),i};function S(i,T,d){if(typeof i.prependListener=="function")return i.prependListener(T,d);!i._events||!i._events[T]?i.on(T,d):t(i._events[T])?i._events[T].unshift(d):i._events[T]=[d,i._events[T]]}return At={Stream:y,prependListener:S},At}var Tt={exports:{}},xr;function ft(){return xr||(xr=1,function(t){const{SymbolDispose:r}=be(),{AbortError:a,codes:y}=Ee(),{isNodeStream:S,isWebStream:i,kControllerErrorFunction:T}=ke(),d=Pe(),{ERR_INVALID_ARG_TYPE:_}=y;let u;const m=(v,h)=>{if(typeof v!="object"||!("aborted"in v))throw new _(h,"AbortSignal",v)};t.exports.addAbortSignal=function(h,L){if(m(h,"signal"),!S(L)&&!i(L))throw new _("stream",["ReadableStream","WritableStream","Stream"],L);return t.exports.addAbortSignalNoValidate(h,L)},t.exports.addAbortSignalNoValidate=function(v,h){if(typeof v!="object"||!("aborted"in v))return h;const L=S(h)?()=>{h.destroy(new a(void 0,{cause:v.reason}))}:()=>{h[T](new a(void 0,{cause:v.reason}))};if(v.aborted)L();else{u=u||Se().addAbortListener;const N=u(v,L);d(h,N[r])}return h}}(Tt)),Tt.exports}var xt,Nr;function Si(){if(Nr)return xt;Nr=1;const{StringPrototypeSlice:t,SymbolIterator:r,TypedArrayPrototypeSet:a,Uint8Array:y}=be(),{Buffer:S}=Te,{inspect:i}=Se();return xt=class{constructor(){this.head=null,this.tail=null,this.length=0}push(d){const _={data:d,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}unshift(d){const _={data:d,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}shift(){if(this.length===0)return;const d=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,d}clear(){this.head=this.tail=null,this.length=0}join(d){if(this.length===0)return"";let _=this.head,u=""+_.data;for(;(_=_.next)!==null;)u+=d+_.data;return u}concat(d){if(this.length===0)return S.alloc(0);const _=S.allocUnsafe(d>>>0);let u=this.head,m=0;for(;u;)a(_,u.data,m),m+=u.data.length,u=u.next;return _}consume(d,_){const u=this.head.data;if(d<u.length){const m=u.slice(0,d);return this.head.data=u.slice(d),m}return d===u.length?this.shift():_?this._getString(d):this._getBuffer(d)}first(){return this.head.data}*[r](){for(let d=this.head;d;d=d.next)yield d.data}_getString(d){let _="",u=this.head,m=0;do{const v=u.data;if(d>v.length)_+=v,d-=v.length;else{d===v.length?(_+=v,++m,u.next?this.head=u.next:this.head=this.tail=null):(_+=t(v,0,d),this.head=u,u.data=t(v,d));break}++m}while((u=u.next)!==null);return this.length-=m,_}_getBuffer(d){const _=S.allocUnsafe(d),u=d;let m=this.head,v=0;do{const h=m.data;if(d>h.length)a(_,h,u-d),d-=h.length;else{d===h.length?(a(_,h,u-d),++v,m.next?this.head=m.next:this.head=this.tail=null):(a(_,new y(h.buffer,h.byteOffset,d),u-d),this.head=m,m.data=h.slice(d));break}++v}while((m=m.next)!==null);return this.length-=v,_}[Symbol.for("nodejs.util.inspect.custom")](d,_){return i(this,{..._,depth:0,customInspect:!1})}},xt}var Nt,Mr;function ut(){if(Mr)return Nt;Mr=1;const{MathFloor:t,NumberIsInteger:r}=be(),{validateInteger:a}=Qe(),{ERR_INVALID_ARG_VALUE:y}=Ee().codes;let S=16*1024,i=16;function T(m,v,h){return m.highWaterMark!=null?m.highWaterMark:v?m[h]:null}function d(m){return m?i:S}function _(m,v){a(v,"value",0),m?i=v:S=v}function u(m,v,h,L){const N=T(v,L,h);if(N!=null){if(!r(N)||N<0){const M=L?`options.${h}`:"options.highWaterMark";throw new y(M,N)}return t(N)}return d(m.objectMode)}return Nt={getHighWaterMark:u,getDefaultHighWaterMark:d,setDefaultHighWaterMark:_},Nt}var Mt={},Lr;function tr(){if(Lr)return Mt;Lr=1;var t=Qn.Buffer,r=t.isEncoding||function(s){switch(s=""+s,s&&s.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(s){if(!s)return"utf8";for(var w;;)switch(s){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return s;default:if(w)return;s=(""+s).toLowerCase(),w=!0}}function y(s){var w=a(s);if(typeof w!="string"&&(t.isEncoding===r||!r(s)))throw new Error("Unknown encoding: "+s);return w||s}Mt.StringDecoder=S;function S(s){this.encoding=y(s);var w;switch(this.encoding){case"utf16le":this.text=v,this.end=h,w=4;break;case"utf8":this.fillLast=_,w=4;break;case"base64":this.text=L,this.end=N,w=3;break;default:this.write=M,this.end=p;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(w)}S.prototype.write=function(s){if(s.length===0)return"";var w,b;if(this.lastNeed){if(w=this.fillLast(s),w===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<s.length?w?w+this.text(s,b):this.text(s,b):w||""},S.prototype.end=m,S.prototype.text=u,S.prototype.fillLast=function(s){if(this.lastNeed<=s.length)return s.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);s.copy(this.lastChar,this.lastTotal-this.lastNeed,0,s.length),this.lastNeed-=s.length};function i(s){return s<=127?0:s>>5===6?2:s>>4===14?3:s>>3===30?4:s>>6===2?-1:-2}function T(s,w,b){var D=w.length-1;if(D<b)return 0;var k=i(w[D]);return k>=0?(k>0&&(s.lastNeed=k-1),k):--D<b||k===-2?0:(k=i(w[D]),k>=0?(k>0&&(s.lastNeed=k-2),k):--D<b||k===-2?0:(k=i(w[D]),k>=0?(k>0&&(k===2?k=0:s.lastNeed=k-3),k):0))}function d(s,w,b){if((w[0]&192)!==128)return s.lastNeed=0,"�";if(s.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return s.lastNeed=1,"�";if(s.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return s.lastNeed=2,"�"}}function _(s){var w=this.lastTotal-this.lastNeed,b=d(this,s);if(b!==void 0)return b;if(this.lastNeed<=s.length)return s.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);s.copy(this.lastChar,w,0,s.length),this.lastNeed-=s.length}function u(s,w){var b=T(this,s,w);if(!this.lastNeed)return s.toString("utf8",w);this.lastTotal=b;var D=s.length-(b-this.lastNeed);return s.copy(this.lastChar,0,D),s.toString("utf8",w,D)}function m(s){var w=s&&s.length?this.write(s):"";return this.lastNeed?w+"�":w}function v(s,w){if((s.length-w)%2===0){var b=s.toString("utf16le",w);if(b){var D=b.charCodeAt(b.length-1);if(D>=55296&&D<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=s[s.length-2],this.lastChar[1]=s[s.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=s[s.length-1],s.toString("utf16le",w,s.length-1)}function h(s){var w=s&&s.length?this.write(s):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,b)}return w}function L(s,w){var b=(s.length-w)%3;return b===0?s.toString("base64",w):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=s[s.length-1]:(this.lastChar[0]=s[s.length-2],this.lastChar[1]=s[s.length-1]),s.toString("base64",w,s.length-b))}function N(s){var w=s&&s.length?this.write(s):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function M(s){return s.toString(this.encoding)}function p(s){return s&&s.length?this.write(s):""}return Mt}var Lt,Ir;function mn(){if(Ir)return Lt;Ir=1;const t=Fe,{PromisePrototypeThen:r,SymbolAsyncIterator:a,SymbolIterator:y}=be(),{Buffer:S}=Te,{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_NULL_VALUES:T}=Ee().codes;function d(_,u,m){let v;if(typeof u=="string"||u instanceof S)return new _({objectMode:!0,...m,read(){this.push(u),this.push(null)}});let h;if(u&&u[a])h=!0,v=u[a]();else if(u&&u[y])h=!1,v=u[y]();else throw new i("iterable",["Iterable"],u);const L=new _({objectMode:!0,highWaterMark:1,...m});let N=!1;L._read=function(){N||(N=!0,p())},L._destroy=function(s,w){r(M(s),()=>t.nextTick(w,s),b=>t.nextTick(w,b||s))};async function M(s){const w=s!=null,b=typeof v.throw=="function";if(w&&b){const{value:D,done:k}=await v.throw(s);if(await D,k)return}if(typeof v.return=="function"){const{value:D}=await v.return();await D}}async function p(){for(;;){try{const{value:s,done:w}=h?await v.next():v.next();if(w)L.push(null);else{const b=s&&typeof s.then=="function"?await s:s;if(b===null)throw N=!1,new T;if(L.push(b))continue;N=!1}}catch(s){L.destroy(s)}break}}return L}return Lt=d,Lt}var It,Or;function dt(){if(Or)return It;Or=1;const t=Fe,{ArrayPrototypeIndexOf:r,NumberIsInteger:a,NumberIsNaN:y,NumberParseInt:S,ObjectDefineProperties:i,ObjectKeys:T,ObjectSetPrototypeOf:d,Promise:_,SafeSet:u,SymbolAsyncDispose:m,SymbolAsyncIterator:v,Symbol:h}=be();It=q,q.ReadableState=V;const{EventEmitter:L}=We(),{Stream:N,prependListener:M}=nr(),{Buffer:p}=Te,{addAbortSignal:s}=ft(),w=Pe();let b=Se().debuglog("stream",o=>{b=o});const D=Si(),k=He(),{getHighWaterMark:Z,getDefaultHighWaterMark:ne}=ut(),{aggregateTwoErrors:K,codes:{ERR_INVALID_ARG_TYPE:oe,ERR_METHOD_NOT_IMPLEMENTED:I,ERR_OUT_OF_RANGE:P,ERR_STREAM_PUSH_AFTER_EOF:G,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:O},AbortError:Q}=Ee(),{validateObject:re}=Qe(),ae=h("kPaused"),{StringDecoder:fe}=tr(),j=mn();d(q.prototype,N.prototype),d(q,N);const ie=()=>{},{errorOrDestroy:g}=k,F=1,ee=2,C=4,te=8,le=16,ue=32,x=64,l=128,A=256,$=512,Y=1024,n=2048,e=4096,f=8192,E=16384,H=32768,W=65536,U=1<<17,R=1<<18;function B(o){return{enumerable:!1,get(){return(this.state&o)!==0},set(c){c?this.state|=o:this.state&=~o}}}i(V.prototype,{objectMode:B(F),ended:B(ee),endEmitted:B(C),reading:B(te),constructed:B(le),sync:B(ue),needReadable:B(x),emittedReadable:B(l),readableListening:B(A),resumeScheduled:B($),errorEmitted:B(Y),emitClose:B(n),autoDestroy:B(e),destroyed:B(f),closed:B(E),closeEmitted:B(H),multiAwaitDrain:B(W),readingMore:B(U),dataEmitted:B(R)});function V(o,c,X){typeof X!="boolean"&&(X=c instanceof Ie()),this.state=n|e|le|ue,o&&o.objectMode&&(this.state|=F),X&&o&&o.readableObjectMode&&(this.state|=F),this.highWaterMark=o?Z(this,o,"readableHighWaterMark",X):ne(!1),this.buffer=new D,this.length=0,this.pipes=[],this.flowing=null,this[ae]=null,o&&o.emitClose===!1&&(this.state&=~n),o&&o.autoDestroy===!1&&(this.state&=~e),this.errored=null,this.defaultEncoding=o&&o.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,o&&o.encoding&&(this.decoder=new fe(o.encoding),this.encoding=o.encoding)}function q(o){if(!(this instanceof q))return new q(o);const c=this instanceof Ie();this._readableState=new V(o,this,c),o&&(typeof o.read=="function"&&(this._read=o.read),typeof o.destroy=="function"&&(this._destroy=o.destroy),typeof o.construct=="function"&&(this._construct=o.construct),o.signal&&!c&&s(o.signal,this)),N.call(this,o),k.construct(this,()=>{this._readableState.needReadable&&Re(this,this._readableState)})}q.prototype.destroy=k.destroy,q.prototype._undestroy=k.undestroy,q.prototype._destroy=function(o,c){c(o)},q.prototype[L.captureRejectionSymbol]=function(o){this.destroy(o)},q.prototype[m]=function(){let o;return this.destroyed||(o=this.readableEnded?null:new Q,this.destroy(o)),new _((c,X)=>w(this,J=>J&&J!==o?X(J):c(null)))},q.prototype.push=function(o,c){return de(this,o,c,!1)},q.prototype.unshift=function(o,c){return de(this,o,c,!0)};function de(o,c,X,J){b("readableAddChunk",c);const se=o._readableState;let me;if(se.state&F||(typeof c=="string"?(X=X||se.defaultEncoding,se.encoding!==X&&(J&&se.encoding?c=p.from(c,X).toString(se.encoding):(c=p.from(c,X),X=""))):c instanceof p?X="":N._isUint8Array(c)?(c=N._uint8ArrayToBuffer(c),X=""):c!=null&&(me=new oe("chunk",["string","Buffer","Uint8Array"],c))),me)g(o,me);else if(c===null)se.state&=~te,ye(o,se);else if(se.state&F||c&&c.length>0)if(J)if(se.state&C)g(o,new O);else{if(se.destroyed||se.errored)return!1;we(o,se,c,!0)}else if(se.ended)g(o,new G);else{if(se.destroyed||se.errored)return!1;se.state&=~te,se.decoder&&!X?(c=se.decoder.write(c),se.objectMode||c.length!==0?we(o,se,c,!1):Re(o,se)):we(o,se,c,!1)}else J||(se.state&=~te,Re(o,se));return!se.ended&&(se.length<se.highWaterMark||se.length===0)}function we(o,c,X,J){c.flowing&&c.length===0&&!c.sync&&o.listenerCount("data")>0?(c.state&W?c.awaitDrainWriters.clear():c.awaitDrainWriters=null,c.dataEmitted=!0,o.emit("data",X)):(c.length+=c.objectMode?1:X.length,J?c.buffer.unshift(X):c.buffer.push(X),c.state&x&&ve(o)),Re(o,c)}q.prototype.isPaused=function(){const o=this._readableState;return o[ae]===!0||o.flowing===!1},q.prototype.setEncoding=function(o){const c=new fe(o);this._readableState.decoder=c,this._readableState.encoding=this._readableState.decoder.encoding;const X=this._readableState.buffer;let J="";for(const se of X)J+=c.write(se);return X.clear(),J!==""&&X.push(J),this._readableState.length=J.length,this};const ce=1073741824;function _e(o){if(o>ce)throw new P("size","<= 1GiB",o);return o--,o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o++,o}function pe(o,c){return o<=0||c.length===0&&c.ended?0:c.state&F?1:y(o)?c.flowing&&c.length?c.buffer.first().length:c.length:o<=c.length?o:c.ended?c.length:0}q.prototype.read=function(o){b("read",o),o===void 0?o=NaN:a(o)||(o=S(o,10));const c=this._readableState,X=o;if(o>c.highWaterMark&&(c.highWaterMark=_e(o)),o!==0&&(c.state&=~l),o===0&&c.needReadable&&((c.highWaterMark!==0?c.length>=c.highWaterMark:c.length>0)||c.ended))return b("read: emitReadable",c.length,c.ended),c.length===0&&c.ended?ct(this):ve(this),null;if(o=pe(o,c),o===0&&c.ended)return c.length===0&&ct(this),null;let J=(c.state&x)!==0;if(b("need readable",J),(c.length===0||c.length-o<c.highWaterMark)&&(J=!0,b("length less than watermark",J)),c.ended||c.reading||c.destroyed||c.errored||!c.constructed)J=!1,b("reading, ended or constructing",J);else if(J){b("do read"),c.state|=te|ue,c.length===0&&(c.state|=x);try{this._read(c.highWaterMark)}catch(me){g(this,me)}c.state&=~ue,c.reading||(o=pe(X,c))}let se;return o>0?se=ur(o,c):se=null,se===null?(c.needReadable=c.length<=c.highWaterMark,o=0):(c.length-=o,c.multiAwaitDrain?c.awaitDrainWriters.clear():c.awaitDrainWriters=null),c.length===0&&(c.ended||(c.needReadable=!0),X!==o&&c.ended&&ct(this)),se!==null&&!c.errorEmitted&&!c.closeEmitted&&(c.dataEmitted=!0,this.emit("data",se)),se};function ye(o,c){if(b("onEofChunk"),!c.ended){if(c.decoder){const X=c.decoder.end();X&&X.length&&(c.buffer.push(X),c.length+=c.objectMode?1:X.length)}c.ended=!0,c.sync?ve(o):(c.needReadable=!1,c.emittedReadable=!0,et(o))}}function ve(o){const c=o._readableState;b("emitReadable",c.needReadable,c.emittedReadable),c.needReadable=!1,c.emittedReadable||(b("emitReadable",c.flowing),c.emittedReadable=!0,t.nextTick(et,o))}function et(o){const c=o._readableState;b("emitReadable_",c.destroyed,c.length,c.ended),!c.destroyed&&!c.errored&&(c.length||c.ended)&&(o.emit("readable"),c.emittedReadable=!1),c.needReadable=!c.flowing&&!c.ended&&c.length<=c.highWaterMark,lr(o)}function Re(o,c){!c.readingMore&&c.constructed&&(c.readingMore=!0,t.nextTick(Pn,o,c))}function Pn(o,c){for(;!c.reading&&!c.ended&&(c.length<c.highWaterMark||c.flowing&&c.length===0);){const X=c.length;if(b("maybeReadMore read 0"),o.read(0),X===c.length)break}c.readingMore=!1}q.prototype._read=function(o){throw new I("_read()")},q.prototype.pipe=function(o,c){const X=this,J=this._readableState;J.pipes.length===1&&(J.multiAwaitDrain||(J.multiAwaitDrain=!0,J.awaitDrainWriters=new u(J.awaitDrainWriters?[J.awaitDrainWriters]:[]))),J.pipes.push(o),b("pipe count=%d opts=%j",J.pipes.length,c);const me=(!c||c.end!==!1)&&o!==t.stdout&&o!==t.stderr?cr:Ye;J.endEmitted?t.nextTick(me):X.once("end",me),o.on("unpipe",Ae);function Ae(Ce,Me){b("onunpipe"),Ce===X&&Me&&Me.hasUnpiped===!1&&(Me.hasUnpiped=!0,Un())}function cr(){b("onend"),o.end()}let De,hr=!1;function Un(){b("cleanup"),o.removeListener("close",bt),o.removeListener("finish",gt),De&&o.removeListener("drain",De),o.removeListener("error",pt),o.removeListener("unpipe",Ae),X.removeListener("end",cr),X.removeListener("end",Ye),X.removeListener("data",br),hr=!0,De&&J.awaitDrainWriters&&(!o._writableState||o._writableState.needDrain)&&De()}function pr(){hr||(J.pipes.length===1&&J.pipes[0]===o?(b("false write response, pause",0),J.awaitDrainWriters=o,J.multiAwaitDrain=!1):J.pipes.length>1&&J.pipes.includes(o)&&(b("false write response, pause",J.awaitDrainWriters.size),J.awaitDrainWriters.add(o)),X.pause()),De||(De=Dn(X,o),o.on("drain",De))}X.on("data",br);function br(Ce){b("ondata");const Me=o.write(Ce);b("dest.write",Me),Me===!1&&pr()}function pt(Ce){if(b("onerror",Ce),Ye(),o.removeListener("error",pt),o.listenerCount("error")===0){const Me=o._writableState||o._readableState;Me&&!Me.errorEmitted?g(o,Ce):o.emit("error",Ce)}}M(o,"error",pt);function bt(){o.removeListener("finish",gt),Ye()}o.once("close",bt);function gt(){b("onfinish"),o.removeListener("close",bt),Ye()}o.once("finish",gt);function Ye(){b("unpipe"),X.unpipe(o)}return o.emit("pipe",X),o.writableNeedDrain===!0?pr():J.flowing||(b("pipe resume"),X.resume()),o};function Dn(o,c){return function(){const J=o._readableState;J.awaitDrainWriters===c?(b("pipeOnDrain",1),J.awaitDrainWriters=null):J.multiAwaitDrain&&(b("pipeOnDrain",J.awaitDrainWriters.size),J.awaitDrainWriters.delete(c)),(!J.awaitDrainWriters||J.awaitDrainWriters.size===0)&&o.listenerCount("data")&&o.resume()}}q.prototype.unpipe=function(o){const c=this._readableState,X={hasUnpiped:!1};if(c.pipes.length===0)return this;if(!o){const se=c.pipes;c.pipes=[],this.pause();for(let me=0;me<se.length;me++)se[me].emit("unpipe",this,{hasUnpiped:!1});return this}const J=r(c.pipes,o);return J===-1?this:(c.pipes.splice(J,1),c.pipes.length===0&&this.pause(),o.emit("unpipe",this,X),this)},q.prototype.on=function(o,c){const X=N.prototype.on.call(this,o,c),J=this._readableState;return o==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):o==="readable"&&!J.endEmitted&&!J.readableListening&&(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,b("on readable",J.length,J.reading),J.length?ve(this):J.reading||t.nextTick(Cn,this)),X},q.prototype.addListener=q.prototype.on,q.prototype.removeListener=function(o,c){const X=N.prototype.removeListener.call(this,o,c);return o==="readable"&&t.nextTick(sr,this),X},q.prototype.off=q.prototype.removeListener,q.prototype.removeAllListeners=function(o){const c=N.prototype.removeAllListeners.apply(this,arguments);return(o==="readable"||o===void 0)&&t.nextTick(sr,this),c};function sr(o){const c=o._readableState;c.readableListening=o.listenerCount("readable")>0,c.resumeScheduled&&c[ae]===!1?c.flowing=!0:o.listenerCount("data")>0?o.resume():c.readableListening||(c.flowing=null)}function Cn(o){b("readable nexttick read 0"),o.read(0)}q.prototype.resume=function(){const o=this._readableState;return o.flowing||(b("resume"),o.flowing=!o.readableListening,jn(this,o)),o[ae]=!1,this};function jn(o,c){c.resumeScheduled||(c.resumeScheduled=!0,t.nextTick(Wn,o,c))}function Wn(o,c){b("resume",c.reading),c.reading||o.read(0),c.resumeScheduled=!1,o.emit("resume"),lr(o),c.flowing&&!c.reading&&o.read(0)}q.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ae]=!0,this};function lr(o){const c=o._readableState;for(b("flow",c.flowing);c.flowing&&o.read()!==null;);}q.prototype.wrap=function(o){let c=!1;o.on("data",J=>{!this.push(J)&&o.pause&&(c=!0,o.pause())}),o.on("end",()=>{this.push(null)}),o.on("error",J=>{g(this,J)}),o.on("close",()=>{this.destroy()}),o.on("destroy",()=>{this.destroy()}),this._read=()=>{c&&o.resume&&(c=!1,o.resume())};const X=T(o);for(let J=1;J<X.length;J++){const se=X[J];this[se]===void 0&&typeof o[se]=="function"&&(this[se]=o[se].bind(o))}return this},q.prototype[v]=function(){return fr(this)},q.prototype.iterator=function(o){return o!==void 0&&re(o,"options"),fr(this,o)};function fr(o,c){typeof o.read!="function"&&(o=q.wrap(o,{objectMode:!0}));const X=$n(o,c);return X.stream=o,X}async function*$n(o,c){let X=ie;function J(Ae){this===o?(X(),X=ie):X=Ae}o.on("readable",J);let se;const me=w(o,{writable:!1},Ae=>{se=Ae?K(se,Ae):null,X(),X=ie});try{for(;;){const Ae=o.destroyed?null:o.read();if(Ae!==null)yield Ae;else{if(se)throw se;if(se===null)return;await new _(J)}}}catch(Ae){throw se=K(se,Ae),se}finally{(se||(c==null?void 0:c.destroyOnReturn)!==!1)&&(se===void 0||o._readableState.autoDestroy)?k.destroyer(o,null):(o.off("readable",J),me())}}i(q.prototype,{readable:{__proto__:null,get(){const o=this._readableState;return!!o&&o.readable!==!1&&!o.destroyed&&!o.errorEmitted&&!o.endEmitted},set(o){this._readableState&&(this._readableState.readable=!!o)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(o){this._readableState&&(this._readableState.flowing=o)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(o){this._readableState&&(this._readableState.destroyed=o)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),i(V.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ae]!==!1},set(o){this[ae]=!!o}}}),q._fromList=ur;function ur(o,c){if(c.length===0)return null;let X;return c.objectMode?X=c.buffer.shift():!o||o>=c.length?(c.decoder?X=c.buffer.join(""):c.buffer.length===1?X=c.buffer.first():X=c.buffer.concat(c.length),c.buffer.clear()):X=c.buffer.consume(o,c.decoder),X}function ct(o){const c=o._readableState;b("endReadable",c.endEmitted),c.endEmitted||(c.ended=!0,t.nextTick(qn,c,o))}function qn(o,c){if(b("endReadableNT",o.endEmitted,o.length),!o.errored&&!o.closeEmitted&&!o.endEmitted&&o.length===0){if(o.endEmitted=!0,c.emit("end"),c.writable&&c.allowHalfOpen===!1)t.nextTick(Fn,c);else if(o.autoDestroy){const X=c._writableState;(!X||X.autoDestroy&&(X.finished||X.writable===!1))&&c.destroy()}}}function Fn(o){o.writable&&!o.writableEnded&&!o.destroyed&&o.end()}q.from=function(o,c){return j(q,o,c)};let ht;function dr(){return ht===void 0&&(ht={}),ht}return q.fromWeb=function(o,c){return dr().newStreamReadableFromReadableStream(o,c)},q.toWeb=function(o,c){return dr().newReadableStreamFromStreamReadable(o,c)},q.wrap=function(o,c){var X,J;return new q({objectMode:(X=(J=o.readableObjectMode)!==null&&J!==void 0?J:o.objectMode)!==null&&X!==void 0?X:!0,...c,destroy(se,me){k.destroyer(o,se),me(se)}}).wrap(o)},It}var Ot,kr;function ir(){if(kr)return Ot;kr=1;const t=Fe,{ArrayPrototypeSlice:r,Error:a,FunctionPrototypeSymbolHasInstance:y,ObjectDefineProperty:S,ObjectDefineProperties:i,ObjectSetPrototypeOf:T,StringPrototypeToLowerCase:d,Symbol:_,SymbolHasInstance:u}=be();Ot=re,re.WritableState=O;const{EventEmitter:m}=We(),v=nr().Stream,{Buffer:h}=Te,L=He(),{addAbortSignal:N}=ft(),{getHighWaterMark:M,getDefaultHighWaterMark:p}=ut(),{ERR_INVALID_ARG_TYPE:s,ERR_METHOD_NOT_IMPLEMENTED:w,ERR_MULTIPLE_CALLBACK:b,ERR_STREAM_CANNOT_PIPE:D,ERR_STREAM_DESTROYED:k,ERR_STREAM_ALREADY_FINISHED:Z,ERR_STREAM_NULL_VALUES:ne,ERR_STREAM_WRITE_AFTER_END:K,ERR_UNKNOWN_ENCODING:oe}=Ee().codes,{errorOrDestroy:I}=L;T(re.prototype,v.prototype),T(re,v);function P(){}const G=_("kOnFinished");function O(e,f,E){typeof E!="boolean"&&(E=f instanceof Ie()),this.objectMode=!!(e&&e.objectMode),E&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?M(this,e,"writableHighWaterMark",E):p(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const H=!!(e&&e.decodeStrings===!1);this.decodeStrings=!H,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=g.bind(void 0,f),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Q(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||e.emitClose!==!1,this.autoDestroy=!e||e.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[G]=[]}function Q(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}O.prototype.getBuffer=function(){return r(this.buffered,this.bufferedIndex)},S(O.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function re(e){const f=this instanceof Ie();if(!f&&!y(re,this))return new re(e);this._writableState=new O(e,this,f),e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&N(e.signal,this)),v.call(this,e),L.construct(this,()=>{const E=this._writableState;E.writing||te(this,E),l(this,E)})}S(re,u,{__proto__:null,value:function(e){return y(this,e)?!0:this!==re?!1:e&&e._writableState instanceof O}}),re.prototype.pipe=function(){I(this,new D)};function ae(e,f,E,H){const W=e._writableState;if(typeof E=="function")H=E,E=W.defaultEncoding;else{if(!E)E=W.defaultEncoding;else if(E!=="buffer"&&!h.isEncoding(E))throw new oe(E);typeof H!="function"&&(H=P)}if(f===null)throw new ne;if(!W.objectMode)if(typeof f=="string")W.decodeStrings!==!1&&(f=h.from(f,E),E="buffer");else if(f instanceof h)E="buffer";else if(v._isUint8Array(f))f=v._uint8ArrayToBuffer(f),E="buffer";else throw new s("chunk",["string","Buffer","Uint8Array"],f);let U;return W.ending?U=new K:W.destroyed&&(U=new k("write")),U?(t.nextTick(H,U),I(e,U,!0),U):(W.pendingcb++,fe(e,W,f,E,H))}re.prototype.write=function(e,f,E){return ae(this,e,f,E)===!0},re.prototype.cork=function(){this._writableState.corked++},re.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||te(this,e))},re.prototype.setDefaultEncoding=function(f){if(typeof f=="string"&&(f=d(f)),!h.isEncoding(f))throw new oe(f);return this._writableState.defaultEncoding=f,this};function fe(e,f,E,H,W){const U=f.objectMode?1:E.length;f.length+=U;const R=f.length<f.highWaterMark;return R||(f.needDrain=!0),f.writing||f.corked||f.errored||!f.constructed?(f.buffered.push({chunk:E,encoding:H,callback:W}),f.allBuffers&&H!=="buffer"&&(f.allBuffers=!1),f.allNoop&&W!==P&&(f.allNoop=!1)):(f.writelen=U,f.writecb=W,f.writing=!0,f.sync=!0,e._write(E,H,f.onwrite),f.sync=!1),R&&!f.errored&&!f.destroyed}function j(e,f,E,H,W,U,R){f.writelen=H,f.writecb=R,f.writing=!0,f.sync=!0,f.destroyed?f.onwrite(new k("write")):E?e._writev(W,f.onwrite):e._write(W,U,f.onwrite),f.sync=!1}function ie(e,f,E,H){--f.pendingcb,H(E),C(f),I(e,E)}function g(e,f){const E=e._writableState,H=E.sync,W=E.writecb;if(typeof W!="function"){I(e,new b);return}E.writing=!1,E.writecb=null,E.length-=E.writelen,E.writelen=0,f?(f.stack,E.errored||(E.errored=f),e._readableState&&!e._readableState.errored&&(e._readableState.errored=f),H?t.nextTick(ie,e,E,f,W):ie(e,E,f,W)):(E.buffered.length>E.bufferedIndex&&te(e,E),H?E.afterWriteTickInfo!==null&&E.afterWriteTickInfo.cb===W?E.afterWriteTickInfo.count++:(E.afterWriteTickInfo={count:1,cb:W,stream:e,state:E},t.nextTick(F,E.afterWriteTickInfo)):ee(e,E,1,W))}function F({stream:e,state:f,count:E,cb:H}){return f.afterWriteTickInfo=null,ee(e,f,E,H)}function ee(e,f,E,H){for(!f.ending&&!e.destroyed&&f.length===0&&f.needDrain&&(f.needDrain=!1,e.emit("drain"));E-- >0;)f.pendingcb--,H();f.destroyed&&C(f),l(e,f)}function C(e){if(e.writing)return;for(let W=e.bufferedIndex;W<e.buffered.length;++W){var f;const{chunk:U,callback:R}=e.buffered[W],B=e.objectMode?1:U.length;e.length-=B,R((f=e.errored)!==null&&f!==void 0?f:new k("write"))}const E=e[G].splice(0);for(let W=0;W<E.length;W++){var H;E[W]((H=e.errored)!==null&&H!==void 0?H:new k("end"))}Q(e)}function te(e,f){if(f.corked||f.bufferProcessing||f.destroyed||!f.constructed)return;const{buffered:E,bufferedIndex:H,objectMode:W}=f,U=E.length-H;if(!U)return;let R=H;if(f.bufferProcessing=!0,U>1&&e._writev){f.pendingcb-=U-1;const B=f.allNoop?P:q=>{for(let de=R;de<E.length;++de)E[de].callback(q)},V=f.allNoop&&R===0?E:r(E,R);V.allBuffers=f.allBuffers,j(e,f,!0,f.length,V,"",B),Q(f)}else{do{const{chunk:B,encoding:V,callback:q}=E[R];E[R++]=null;const de=W?1:B.length;j(e,f,!1,de,B,V,q)}while(R<E.length&&!f.writing);R===E.length?Q(f):R>256?(E.splice(0,R),f.bufferedIndex=0):f.bufferedIndex=R}f.bufferProcessing=!1}re.prototype._write=function(e,f,E){if(this._writev)this._writev([{chunk:e,encoding:f}],E);else throw new w("_write()")},re.prototype._writev=null,re.prototype.end=function(e,f,E){const H=this._writableState;typeof e=="function"?(E=e,e=null,f=null):typeof f=="function"&&(E=f,f=null);let W;if(e!=null){const U=ae(this,e,f);U instanceof a&&(W=U)}return H.corked&&(H.corked=1,this.uncork()),W||(!H.errored&&!H.ending?(H.ending=!0,l(this,H,!0),H.ended=!0):H.finished?W=new Z("end"):H.destroyed&&(W=new k("end"))),typeof E=="function"&&(W||H.finished?t.nextTick(E,W):H[G].push(E)),this};function le(e){return e.ending&&!e.destroyed&&e.constructed&&e.length===0&&!e.errored&&e.buffered.length===0&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function ue(e,f){let E=!1;function H(W){if(E){I(e,W??b());return}if(E=!0,f.pendingcb--,W){const U=f[G].splice(0);for(let R=0;R<U.length;R++)U[R](W);I(e,W,f.sync)}else le(f)&&(f.prefinished=!0,e.emit("prefinish"),f.pendingcb++,t.nextTick(A,e,f))}f.sync=!0,f.pendingcb++;try{e._final(H)}catch(W){H(W)}f.sync=!1}function x(e,f){!f.prefinished&&!f.finalCalled&&(typeof e._final=="function"&&!f.destroyed?(f.finalCalled=!0,ue(e,f)):(f.prefinished=!0,e.emit("prefinish")))}function l(e,f,E){le(f)&&(x(e,f),f.pendingcb===0&&(E?(f.pendingcb++,t.nextTick((H,W)=>{le(W)?A(H,W):W.pendingcb--},e,f)):le(f)&&(f.pendingcb++,A(e,f))))}function A(e,f){f.pendingcb--,f.finished=!0;const E=f[G].splice(0);for(let H=0;H<E.length;H++)E[H]();if(e.emit("finish"),f.autoDestroy){const H=e._readableState;(!H||H.autoDestroy&&(H.endEmitted||H.readable===!1))&&e.destroy()}}i(re.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!!e&&e.writable!==!1&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return e?!e.destroyed&&!e.ending&&e.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const $=L.destroy;re.prototype.destroy=function(e,f){const E=this._writableState;return!E.destroyed&&(E.bufferedIndex<E.buffered.length||E[G].length)&&t.nextTick(C,E),$.call(this,e,f),this},re.prototype._undestroy=L.undestroy,re.prototype._destroy=function(e,f){f(e)},re.prototype[m.captureRejectionSymbol]=function(e){this.destroy(e)};let Y;function n(){return Y===void 0&&(Y={}),Y}return re.fromWeb=function(e,f){return n().newStreamWritableFromWritableStream(e,f)},re.toWeb=function(e){return n().newWritableStreamFromStreamWritable(e)},Ot}var kt,Pr;function Ei(){if(Pr)return kt;Pr=1;const t=Fe,r=Te,{isReadable:a,isWritable:y,isIterable:S,isNodeStream:i,isReadableNodeStream:T,isWritableNodeStream:d,isDuplexNodeStream:_,isReadableStream:u,isWritableStream:m}=ke(),v=Pe(),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:L,ERR_INVALID_RETURN_VALUE:N}}=Ee(),{destroyer:M}=He(),p=Ie(),s=dt(),w=ir(),{createDeferredPromise:b}=Se(),D=mn(),k=globalThis.Blob||r.Blob,Z=typeof k<"u"?function(O){return O instanceof k}:function(O){return!1},ne=globalThis.AbortController||Je().AbortController,{FunctionPrototypeCall:K}=be();class oe extends p{constructor(O){super(O),(O==null?void 0:O.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(O==null?void 0:O.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}kt=function G(O,Q){if(_(O))return O;if(T(O))return P({readable:O});if(d(O))return P({writable:O});if(i(O))return P({writable:!1,readable:!1});if(u(O))return P({readable:s.fromWeb(O)});if(m(O))return P({writable:w.fromWeb(O)});if(typeof O=="function"){const{value:ae,write:fe,final:j,destroy:ie}=I(O);if(S(ae))return D(oe,ae,{objectMode:!0,write:fe,final:j,destroy:ie});const g=ae==null?void 0:ae.then;if(typeof g=="function"){let F;const ee=K(g,ae,C=>{if(C!=null)throw new N("nully","body",C)},C=>{M(F,C)});return F=new oe({objectMode:!0,readable:!1,write:fe,final(C){j(async()=>{try{await ee,t.nextTick(C,null)}catch(te){t.nextTick(C,te)}})},destroy:ie})}throw new N("Iterable, AsyncIterable or AsyncFunction",Q,ae)}if(Z(O))return G(O.arrayBuffer());if(S(O))return D(oe,O,{objectMode:!0,writable:!1});if(u(O==null?void 0:O.readable)&&m(O==null?void 0:O.writable))return oe.fromWeb(O);if(typeof(O==null?void 0:O.writable)=="object"||typeof(O==null?void 0:O.readable)=="object"){const ae=O!=null&&O.readable?T(O==null?void 0:O.readable)?O==null?void 0:O.readable:G(O.readable):void 0,fe=O!=null&&O.writable?d(O==null?void 0:O.writable)?O==null?void 0:O.writable:G(O.writable):void 0;return P({readable:ae,writable:fe})}const re=O==null?void 0:O.then;if(typeof re=="function"){let ae;return K(re,O,fe=>{fe!=null&&ae.push(fe),ae.push(null)},fe=>{M(ae,fe)}),ae=new oe({objectMode:!0,writable:!1,read(){}})}throw new L(Q,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],O)};function I(G){let{promise:O,resolve:Q}=b();const re=new ne,ae=re.signal;return{value:G(async function*(){for(;;){const j=O;O=null;const{chunk:ie,done:g,cb:F}=await j;if(t.nextTick(F),g)return;if(ae.aborted)throw new h(void 0,{cause:ae.reason});({promise:O,resolve:Q}=b()),yield ie}}(),{signal:ae}),write(j,ie,g){const F=Q;Q=null,F({chunk:j,done:!1,cb:g})},final(j){const ie=Q;Q=null,ie({done:!0,cb:j})},destroy(j,ie){re.abort(),ie(j)}}}function P(G){const O=G.readable&&typeof G.readable.read!="function"?s.wrap(G.readable):G.readable,Q=G.writable;let re=!!a(O),ae=!!y(Q),fe,j,ie,g,F;function ee(C){const te=g;g=null,te?te(C):C&&F.destroy(C)}return F=new oe({readableObjectMode:!!(O!=null&&O.readableObjectMode),writableObjectMode:!!(Q!=null&&Q.writableObjectMode),readable:re,writable:ae}),ae&&(v(Q,C=>{ae=!1,C&&M(O,C),ee(C)}),F._write=function(C,te,le){Q.write(C,te)?le():fe=le},F._final=function(C){Q.end(),j=C},Q.on("drain",function(){if(fe){const C=fe;fe=null,C()}}),Q.on("finish",function(){if(j){const C=j;j=null,C()}})),re&&(v(O,C=>{re=!1,C&&M(O,C),ee(C)}),O.on("readable",function(){if(ie){const C=ie;ie=null,C()}}),O.on("end",function(){F.push(null)}),F._read=function(){for(;;){const C=O.read();if(C===null){ie=F._read;return}if(!F.push(C))return}}),F._destroy=function(C,te){!C&&g!==null&&(C=new h),ie=null,fe=null,j=null,g===null?te(C):(g=te,M(Q,C),M(O,C))},F}return kt}var Pt,Dr;function Ie(){if(Dr)return Pt;Dr=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:r,ObjectKeys:a,ObjectSetPrototypeOf:y}=be();Pt=T;const S=dt(),i=ir();y(T.prototype,S.prototype),y(T,S);{const m=a(i.prototype);for(let v=0;v<m.length;v++){const h=m[v];T.prototype[h]||(T.prototype[h]=i.prototype[h])}}function T(m){if(!(this instanceof T))return new T(m);S.call(this,m),i.call(this,m),m?(this.allowHalfOpen=m.allowHalfOpen!==!1,m.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),m.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(T.prototype,{writable:{__proto__:null,...r(i.prototype,"writable")},writableHighWaterMark:{__proto__:null,...r(i.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...r(i.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...r(i.prototype,"writableBuffer")},writableLength:{__proto__:null,...r(i.prototype,"writableLength")},writableFinished:{__proto__:null,...r(i.prototype,"writableFinished")},writableCorked:{__proto__:null,...r(i.prototype,"writableCorked")},writableEnded:{__proto__:null,...r(i.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...r(i.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(m){this._readableState&&this._writableState&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}});let d;function _(){return d===void 0&&(d={}),d}T.fromWeb=function(m,v){return _().newStreamDuplexFromReadableWritablePair(m,v)},T.toWeb=function(m){return _().newReadableWritablePairFromDuplex(m)};let u;return T.from=function(m){return u||(u=Ei()),u(m,"body")},Pt}var Dt,Cr;function vn(){if(Cr)return Dt;Cr=1;const{ObjectSetPrototypeOf:t,Symbol:r}=be();Dt=T;const{ERR_METHOD_NOT_IMPLEMENTED:a}=Ee().codes,y=Ie(),{getHighWaterMark:S}=ut();t(T.prototype,y.prototype),t(T,y);const i=r("kCallback");function T(u){if(!(this instanceof T))return new T(u);const m=u?S(this,u,"readableHighWaterMark",!0):null;m===0&&(u={...u,highWaterMark:null,readableHighWaterMark:m,writableHighWaterMark:u.writableHighWaterMark||0}),y.call(this,u),this._readableState.sync=!1,this[i]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",_)}function d(u){typeof this._flush=="function"&&!this.destroyed?this._flush((m,v)=>{if(m){u?u(m):this.destroy(m);return}v!=null&&this.push(v),this.push(null),u&&u()}):(this.push(null),u&&u())}function _(){this._final!==d&&d.call(this)}return T.prototype._final=d,T.prototype._transform=function(u,m,v){throw new a("_transform()")},T.prototype._write=function(u,m,v){const h=this._readableState,L=this._writableState,N=h.length;this._transform(u,m,(M,p)=>{if(M){v(M);return}p!=null&&this.push(p),L.ended||N===h.length||h.length<h.highWaterMark?v():this[i]=v})},T.prototype._read=function(){if(this[i]){const u=this[i];this[i]=null,u()}},Dt}var Ct,jr;function Sn(){if(jr)return Ct;jr=1;const{ObjectSetPrototypeOf:t}=be();Ct=a;const r=vn();t(a.prototype,r.prototype),t(a,r);function a(y){if(!(this instanceof a))return new a(y);r.call(this,y)}return a.prototype._transform=function(y,S,i){i(null,y)},Ct}var jt,Wr;function or(){if(Wr)return jt;Wr=1;const t=Fe,{ArrayIsArray:r,Promise:a,SymbolAsyncIterator:y,SymbolDispose:S}=be(),i=Pe(),{once:T}=Se(),d=He(),_=Ie(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:v,ERR_MISSING_ARGS:h,ERR_STREAM_DESTROYED:L,ERR_STREAM_PREMATURE_CLOSE:N},AbortError:M}=Ee(),{validateFunction:p,validateAbortSignal:s}=Qe(),{isIterable:w,isReadable:b,isReadableNodeStream:D,isNodeStream:k,isTransformStream:Z,isWebStream:ne,isReadableStream:K,isReadableFinished:oe}=ke(),I=globalThis.AbortController||Je().AbortController;let P,G,O;function Q(C,te,le){let ue=!1;C.on("close",()=>{ue=!0});const x=i(C,{readable:te,writable:le},l=>{ue=!l});return{destroy:l=>{ue||(ue=!0,d.destroyer(C,l||new L("pipe")))},cleanup:x}}function re(C){return p(C[C.length-1],"streams[stream.length - 1]"),C.pop()}function ae(C){if(w(C))return C;if(D(C))return fe(C);throw new m("val",["Readable","Iterable","AsyncIterable"],C)}async function*fe(C){G||(G=dt()),yield*G.prototype[y].call(C)}async function j(C,te,le,{end:ue}){let x,l=null;const A=n=>{if(n&&(x=n),l){const e=l;l=null,e()}},$=()=>new a((n,e)=>{x?e(x):l=()=>{x?e(x):n()}});te.on("drain",A);const Y=i(te,{readable:!1},A);try{te.writableNeedDrain&&await $();for await(const n of C)te.write(n)||await $();ue&&(te.end(),await $()),le()}catch(n){le(x!==n?u(x,n):n)}finally{Y(),te.off("drain",A)}}async function ie(C,te,le,{end:ue}){Z(te)&&(te=te.writable);const x=te.getWriter();try{for await(const l of C)await x.ready,x.write(l).catch(()=>{});await x.ready,ue&&await x.close(),le()}catch(l){try{await x.abort(l),le(l)}catch(A){le(A)}}}function g(...C){return F(C,T(re(C)))}function F(C,te,le){if(C.length===1&&r(C[0])&&(C=C[0]),C.length<2)throw new h("streams");const ue=new I,x=ue.signal,l=le==null?void 0:le.signal,A=[];s(l,"options.signal");function $(){W(new M)}O=O||Se().addAbortListener;let Y;l&&(Y=O(l,$));let n,e;const f=[];let E=0;function H(V){W(V,--E===0)}function W(V,q){var de;if(V&&(!n||n.code==="ERR_STREAM_PREMATURE_CLOSE")&&(n=V),!(!n&&!q)){for(;f.length;)f.shift()(n);(de=Y)===null||de===void 0||de[S](),ue.abort(),q&&(n||A.forEach(we=>we()),t.nextTick(te,n,e))}}let U;for(let V=0;V<C.length;V++){const q=C[V],de=V<C.length-1,we=V>0,ce=de||(le==null?void 0:le.end)!==!1,_e=V===C.length-1;if(k(q)){let pe=function(ye){ye&&ye.name!=="AbortError"&&ye.code!=="ERR_STREAM_PREMATURE_CLOSE"&&H(ye)};if(ce){const{destroy:ye,cleanup:ve}=Q(q,de,we);f.push(ye),b(q)&&_e&&A.push(ve)}q.on("error",pe),b(q)&&_e&&A.push(()=>{q.removeListener("error",pe)})}if(V===0)if(typeof q=="function"){if(U=q({signal:x}),!w(U))throw new v("Iterable, AsyncIterable or Stream","source",U)}else w(q)||D(q)||Z(q)?U=q:U=_.from(q);else if(typeof q=="function"){if(Z(U)){var R;U=ae((R=U)===null||R===void 0?void 0:R.readable)}else U=ae(U);if(U=q(U,{signal:x}),de){if(!w(U,!0))throw new v("AsyncIterable",`transform[${V-1}]`,U)}else{var B;P||(P=Sn());const pe=new P({objectMode:!0}),ye=(B=U)===null||B===void 0?void 0:B.then;if(typeof ye=="function")E++,ye.call(U,Re=>{e=Re,Re!=null&&pe.write(Re),ce&&pe.end(),t.nextTick(H)},Re=>{pe.destroy(Re),t.nextTick(H,Re)});else if(w(U,!0))E++,j(U,pe,H,{end:ce});else if(K(U)||Z(U)){const Re=U.readable||U;E++,j(Re,pe,H,{end:ce})}else throw new v("AsyncIterable or Promise","destination",U);U=pe;const{destroy:ve,cleanup:et}=Q(U,!1,!0);f.push(ve),_e&&A.push(et)}}else if(k(q)){if(D(U)){E+=2;const pe=ee(U,q,H,{end:ce});b(q)&&_e&&A.push(pe)}else if(Z(U)||K(U)){const pe=U.readable||U;E++,j(pe,q,H,{end:ce})}else if(w(U))E++,j(U,q,H,{end:ce});else throw new m("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],U);U=q}else if(ne(q)){if(D(U))E++,ie(ae(U),q,H,{end:ce});else if(K(U)||w(U))E++,ie(U,q,H,{end:ce});else if(Z(U))E++,ie(U.readable,q,H,{end:ce});else throw new m("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],U);U=q}else U=_.from(q)}return(x!=null&&x.aborted||l!=null&&l.aborted)&&t.nextTick($),U}function ee(C,te,le,{end:ue}){let x=!1;if(te.on("close",()=>{x||le(new N)}),C.pipe(te,{end:!1}),ue){let l=function(){x=!0,te.end()};oe(C)?t.nextTick(l):C.once("end",l)}else le();return i(C,{readable:!0,writable:!1},l=>{const A=C._readableState;l&&l.code==="ERR_STREAM_PREMATURE_CLOSE"&&A&&A.ended&&!A.errored&&!A.errorEmitted?C.once("end",le).once("error",le):le(l)}),i(te,{readable:!1,writable:!0},le)}return jt={pipelineImpl:F,pipeline:g},jt}var Wt,$r;function En(){if($r)return Wt;$r=1;const{pipeline:t}=or(),r=Ie(),{destroyer:a}=He(),{isNodeStream:y,isReadable:S,isWritable:i,isWebStream:T,isTransformStream:d,isWritableStream:_,isReadableStream:u}=ke(),{AbortError:m,codes:{ERR_INVALID_ARG_VALUE:v,ERR_MISSING_ARGS:h}}=Ee(),L=Pe();return Wt=function(...M){if(M.length===0)throw new h("streams");if(M.length===1)return r.from(M[0]);const p=[...M];if(typeof M[0]=="function"&&(M[0]=r.from(M[0])),typeof M[M.length-1]=="function"){const P=M.length-1;M[P]=r.from(M[P])}for(let P=0;P<M.length;++P)if(!(!y(M[P])&&!T(M[P]))){if(P<M.length-1&&!(S(M[P])||u(M[P])||d(M[P])))throw new v(`streams[${P}]`,p[P],"must be readable");if(P>0&&!(i(M[P])||_(M[P])||d(M[P])))throw new v(`streams[${P}]`,p[P],"must be writable")}let s,w,b,D,k;function Z(P){const G=D;D=null,G?G(P):P?k.destroy(P):!I&&!oe&&k.destroy()}const ne=M[0],K=t(M,Z),oe=!!(i(ne)||_(ne)||d(ne)),I=!!(S(K)||u(K)||d(K));if(k=new r({writableObjectMode:!!(ne!=null&&ne.writableObjectMode),readableObjectMode:!!(K!=null&&K.readableObjectMode),writable:oe,readable:I}),oe){if(y(ne))k._write=function(G,O,Q){ne.write(G,O)?Q():s=Q},k._final=function(G){ne.end(),w=G},ne.on("drain",function(){if(s){const G=s;s=null,G()}});else if(T(ne)){const O=(d(ne)?ne.writable:ne).getWriter();k._write=async function(Q,re,ae){try{await O.ready,O.write(Q).catch(()=>{}),ae()}catch(fe){ae(fe)}},k._final=async function(Q){try{await O.ready,O.close().catch(()=>{}),w=Q}catch(re){Q(re)}}}const P=d(K)?K.readable:K;L(P,()=>{if(w){const G=w;w=null,G()}})}if(I){if(y(K))K.on("readable",function(){if(b){const P=b;b=null,P()}}),K.on("end",function(){k.push(null)}),k._read=function(){for(;;){const P=K.read();if(P===null){b=k._read;return}if(!k.push(P))return}};else if(T(K)){const G=(d(K)?K.readable:K).getReader();k._read=async function(){for(;;)try{const{value:O,done:Q}=await G.read();if(!k.push(O))return;if(Q){k.push(null);return}}catch{return}}}}return k._destroy=function(P,G){!P&&D!==null&&(P=new m),b=null,s=null,w=null,D===null?G(P):(D=G,y(K)&&a(K,P))},k},Wt}var qr;function Ri(){if(qr)return tt;qr=1;const t=globalThis.AbortController||Je().AbortController,{codes:{ERR_INVALID_ARG_VALUE:r,ERR_INVALID_ARG_TYPE:a,ERR_MISSING_ARGS:y,ERR_OUT_OF_RANGE:S},AbortError:i}=Ee(),{validateAbortSignal:T,validateInteger:d,validateObject:_}=Qe(),u=be().Symbol("kWeak"),m=be().Symbol("kResistStopPropagation"),{finished:v}=Pe(),h=En(),{addAbortSignalNoValidate:L}=ft(),{isWritable:N,isNodeStream:M}=ke(),{deprecate:p}=Se(),{ArrayPrototypePush:s,Boolean:w,MathFloor:b,Number:D,NumberIsNaN:k,Promise:Z,PromiseReject:ne,PromiseResolve:K,PromisePrototypeThen:oe,Symbol:I}=be(),P=I("kEmpty"),G=I("kEof");function O(l,A){if(A!=null&&_(A,"options"),(A==null?void 0:A.signal)!=null&&T(A.signal,"options.signal"),M(l)&&!N(l))throw new r("stream",l,"must be writable");const $=h(this,l);return A!=null&&A.signal&&L(A.signal,$),$}function Q(l,A){if(typeof l!="function")throw new a("fn",["Function","AsyncFunction"],l);A!=null&&_(A,"options"),(A==null?void 0:A.signal)!=null&&T(A.signal,"options.signal");let $=1;(A==null?void 0:A.concurrency)!=null&&($=b(A.concurrency));let Y=$-1;return(A==null?void 0:A.highWaterMark)!=null&&(Y=b(A.highWaterMark)),d($,"options.concurrency",1),d(Y,"options.highWaterMark",0),Y+=$,(async function*(){const e=Se().AbortSignalAny([A==null?void 0:A.signal].filter(w)),f=this,E=[],H={signal:e};let W,U,R=!1,B=0;function V(){R=!0,q()}function q(){B-=1,de()}function de(){U&&!R&&B<$&&E.length<Y&&(U(),U=null)}async function we(){try{for await(let ce of f){if(R)return;if(e.aborted)throw new i;try{if(ce=l(ce,H),ce===P)continue;ce=K(ce)}catch(_e){ce=ne(_e)}B+=1,oe(ce,q,V),E.push(ce),W&&(W(),W=null),!R&&(E.length>=Y||B>=$)&&await new Z(_e=>{U=_e})}E.push(G)}catch(ce){const _e=ne(ce);oe(_e,q,V),E.push(_e)}finally{R=!0,W&&(W(),W=null)}}we();try{for(;;){for(;E.length>0;){const ce=await E[0];if(ce===G)return;if(e.aborted)throw new i;ce!==P&&(yield ce),E.shift(),de()}await new Z(ce=>{W=ce})}}finally{R=!0,U&&(U(),U=null)}}).call(this)}function re(l=void 0){return l!=null&&_(l,"options"),(l==null?void 0:l.signal)!=null&&T(l.signal,"options.signal"),(async function*(){let $=0;for await(const n of this){var Y;if(l!=null&&(Y=l.signal)!==null&&Y!==void 0&&Y.aborted)throw new i({cause:l.signal.reason});yield[$++,n]}}).call(this)}async function ae(l,A=void 0){for await(const $ of g.call(this,l,A))return!0;return!1}async function fe(l,A=void 0){if(typeof l!="function")throw new a("fn",["Function","AsyncFunction"],l);return!await ae.call(this,async(...$)=>!await l(...$),A)}async function j(l,A){for await(const $ of g.call(this,l,A))return $}async function ie(l,A){if(typeof l!="function")throw new a("fn",["Function","AsyncFunction"],l);async function $(Y,n){return await l(Y,n),P}for await(const Y of Q.call(this,$,A));}function g(l,A){if(typeof l!="function")throw new a("fn",["Function","AsyncFunction"],l);async function $(Y,n){return await l(Y,n)?Y:P}return Q.call(this,$,A)}class F extends y{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function ee(l,A,$){var Y;if(typeof l!="function")throw new a("reducer",["Function","AsyncFunction"],l);$!=null&&_($,"options"),($==null?void 0:$.signal)!=null&&T($.signal,"options.signal");let n=arguments.length>1;if($!=null&&(Y=$.signal)!==null&&Y!==void 0&&Y.aborted){const W=new i(void 0,{cause:$.signal.reason});throw this.once("error",()=>{}),await v(this.destroy(W)),W}const e=new t,f=e.signal;if($!=null&&$.signal){const W={once:!0,[u]:this,[m]:!0};$.signal.addEventListener("abort",()=>e.abort(),W)}let E=!1;try{for await(const W of this){var H;if(E=!0,$!=null&&(H=$.signal)!==null&&H!==void 0&&H.aborted)throw new i;n?A=await l(A,W,{signal:f}):(A=W,n=!0)}if(!E&&!n)throw new F}finally{e.abort()}return A}async function C(l){l!=null&&_(l,"options"),(l==null?void 0:l.signal)!=null&&T(l.signal,"options.signal");const A=[];for await(const Y of this){var $;if(l!=null&&($=l.signal)!==null&&$!==void 0&&$.aborted)throw new i(void 0,{cause:l.signal.reason});s(A,Y)}return A}function te(l,A){const $=Q.call(this,l,A);return(async function*(){for await(const n of $)yield*n}).call(this)}function le(l){if(l=D(l),k(l))return 0;if(l<0)throw new S("number",">= 0",l);return l}function ue(l,A=void 0){return A!=null&&_(A,"options"),(A==null?void 0:A.signal)!=null&&T(A.signal,"options.signal"),l=le(l),(async function*(){var Y;if(A!=null&&(Y=A.signal)!==null&&Y!==void 0&&Y.aborted)throw new i;for await(const e of this){var n;if(A!=null&&(n=A.signal)!==null&&n!==void 0&&n.aborted)throw new i;l--<=0&&(yield e)}}).call(this)}function x(l,A=void 0){return A!=null&&_(A,"options"),(A==null?void 0:A.signal)!=null&&T(A.signal,"options.signal"),l=le(l),(async function*(){var Y;if(A!=null&&(Y=A.signal)!==null&&Y!==void 0&&Y.aborted)throw new i;for await(const e of this){var n;if(A!=null&&(n=A.signal)!==null&&n!==void 0&&n.aborted)throw new i;if(l-- >0&&(yield e),l<=0)return}}).call(this)}return tt.streamReturningOperators={asIndexedPairs:p(re,"readable.asIndexedPairs will be removed in a future version."),drop:ue,filter:g,flatMap:te,map:Q,take:x,compose:O},tt.promiseReturningOperators={every:fe,forEach:ie,reduce:ee,toArray:C,some:ae,find:j},tt}var $t,Fr;function Rn(){if(Fr)return $t;Fr=1;const{ArrayPrototypePop:t,Promise:r}=be(),{isIterable:a,isNodeStream:y,isWebStream:S}=ke(),{pipelineImpl:i}=or(),{finished:T}=Pe();An();function d(..._){return new r((u,m)=>{let v,h;const L=_[_.length-1];if(L&&typeof L=="object"&&!y(L)&&!a(L)&&!S(L)){const N=t(_);v=N.signal,h=N.end}i(_,(N,M)=>{N?m(N):u(M)},{signal:v,end:h})})}return $t={finished:T,pipeline:d},$t}var Ur;function An(){if(Ur)return yt.exports;Ur=1;const{Buffer:t}=Te,{ObjectDefineProperty:r,ObjectKeys:a,ReflectApply:y}=be(),{promisify:{custom:S}}=Se(),{streamReturningOperators:i,promiseReturningOperators:T}=Ri(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:d}}=Ee(),_=En(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:m}=ut(),{pipeline:v}=or(),{destroyer:h}=He(),L=Pe(),N=Rn(),M=ke(),p=yt.exports=nr().Stream;p.isDestroyed=M.isDestroyed,p.isDisturbed=M.isDisturbed,p.isErrored=M.isErrored,p.isReadable=M.isReadable,p.isWritable=M.isWritable,p.Readable=dt();for(const w of a(i)){let D=function(...k){if(new.target)throw d();return p.Readable.from(y(b,this,k))};const b=i[w];r(D,"name",{__proto__:null,value:b.name}),r(D,"length",{__proto__:null,value:b.length}),r(p.Readable.prototype,w,{__proto__:null,value:D,enumerable:!1,configurable:!0,writable:!0})}for(const w of a(T)){let D=function(...k){if(new.target)throw d();return y(b,this,k)};const b=T[w];r(D,"name",{__proto__:null,value:b.name}),r(D,"length",{__proto__:null,value:b.length}),r(p.Readable.prototype,w,{__proto__:null,value:D,enumerable:!1,configurable:!0,writable:!0})}p.Writable=ir(),p.Duplex=Ie(),p.Transform=vn(),p.PassThrough=Sn(),p.pipeline=v;const{addAbortSignal:s}=ft();return p.addAbortSignal=s,p.finished=L,p.destroy=h,p.compose=_,p.setDefaultHighWaterMark=u,p.getDefaultHighWaterMark=m,r(p,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return N}}),r(v,S,{__proto__:null,enumerable:!0,get(){return N.pipeline}}),r(L,S,{__proto__:null,enumerable:!0,get(){return N.finished}}),p.Stream=p,p._isUint8Array=function(b){return b instanceof Uint8Array},p._uint8ArrayToBuffer=function(b){return t.from(b.buffer,b.byteOffset,b.byteLength)},yt.exports}var Br;function Ai(){return Br||(Br=1,function(t){const r=An(),a=Rn(),y=r.Readable.destroy;t.exports=r.Readable,t.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,t.exports._isUint8Array=r._isUint8Array,t.exports.isDisturbed=r.isDisturbed,t.exports.isErrored=r.isErrored,t.exports.isReadable=r.isReadable,t.exports.Readable=r.Readable,t.exports.Writable=r.Writable,t.exports.Duplex=r.Duplex,t.exports.Transform=r.Transform,t.exports.PassThrough=r.PassThrough,t.exports.addAbortSignal=r.addAbortSignal,t.exports.finished=r.finished,t.exports.destroy=r.destroy,t.exports.destroy=y,t.exports.pipeline=r.pipeline,t.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return a}}),t.exports.Stream=r.Stream,t.exports.default=t.exports}(wt)),wt.exports}var nt={exports:{}},Hr;function Ge(){return Hr||(Hr=1,typeof Object.create=="function"?nt.exports=function(r,a){a&&(r.super_=a,r.prototype=Object.create(a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:nt.exports=function(r,a){if(a){r.super_=a;var y=function(){};y.prototype=a.prototype,r.prototype=new y,r.prototype.constructor=r}}),nt.exports}var Tn=We().EventEmitter,qt,Gr;function Ti(){if(Gr)return qt;Gr=1;function t(N,M){var p=Object.keys(N);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(N);M&&(s=s.filter(function(w){return Object.getOwnPropertyDescriptor(N,w).enumerable})),p.push.apply(p,s)}return p}function r(N){for(var M=1;M<arguments.length;M++){var p=arguments[M]!=null?arguments[M]:{};M%2?t(Object(p),!0).forEach(function(s){a(N,s,p[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(p)):t(Object(p)).forEach(function(s){Object.defineProperty(N,s,Object.getOwnPropertyDescriptor(p,s))})}return N}function a(N,M,p){return M=T(M),M in N?Object.defineProperty(N,M,{value:p,enumerable:!0,configurable:!0,writable:!0}):N[M]=p,N}function y(N,M){if(!(N instanceof M))throw new TypeError("Cannot call a class as a function")}function S(N,M){for(var p=0;p<M.length;p++){var s=M[p];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(N,T(s.key),s)}}function i(N,M,p){return M&&S(N.prototype,M),Object.defineProperty(N,"prototype",{writable:!1}),N}function T(N){var M=d(N,"string");return typeof M=="symbol"?M:String(M)}function d(N,M){if(typeof N!="object"||N===null)return N;var p=N[Symbol.toPrimitive];if(p!==void 0){var s=p.call(N,M||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(N)}var _=Te,u=_.Buffer,m=ln,v=m.inspect,h=v&&v.custom||"inspect";function L(N,M,p){u.prototype.copy.call(N,M,p)}return qt=function(){function N(){y(this,N),this.head=null,this.tail=null,this.length=0}return i(N,[{key:"push",value:function(p){var s={data:p,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length}},{key:"unshift",value:function(p){var s={data:p,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var s=this.head,w=""+s.data;s=s.next;)w+=p+s.data;return w}},{key:"concat",value:function(p){if(this.length===0)return u.alloc(0);for(var s=u.allocUnsafe(p>>>0),w=this.head,b=0;w;)L(w.data,s,b),b+=w.data.length,w=w.next;return s}},{key:"consume",value:function(p,s){var w;return p<this.head.data.length?(w=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?w=this.shift():w=s?this._getString(p):this._getBuffer(p),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var s=this.head,w=1,b=s.data;for(p-=b.length;s=s.next;){var D=s.data,k=p>D.length?D.length:p;if(k===D.length?b+=D:b+=D.slice(0,p),p-=k,p===0){k===D.length?(++w,s.next?this.head=s.next:this.head=this.tail=null):(this.head=s,s.data=D.slice(k));break}++w}return this.length-=w,b}},{key:"_getBuffer",value:function(p){var s=u.allocUnsafe(p),w=this.head,b=1;for(w.data.copy(s),p-=w.data.length;w=w.next;){var D=w.data,k=p>D.length?D.length:p;if(D.copy(s,s.length-p,0,k),p-=k,p===0){k===D.length?(++b,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=D.slice(k));break}++b}return this.length-=b,s}},{key:h,value:function(p,s){return v(this,r(r({},s),{},{depth:0,customInspect:!1}))}}]),N}(),qt}function xi(t,r){var a=this,y=this._readableState&&this._readableState.destroyed,S=this._writableState&&this._writableState.destroyed;return y||S?(r?r(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(rr,this,t)):process.nextTick(rr,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(i){!r&&i?a._writableState?a._writableState.errorEmitted?process.nextTick(st,a):(a._writableState.errorEmitted=!0,process.nextTick(Vr,a,i)):process.nextTick(Vr,a,i):r?(process.nextTick(st,a),r(i)):process.nextTick(st,a)}),this)}function Vr(t,r){rr(t,r),st(t)}function st(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Ni(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function rr(t,r){t.emit("error",r)}function Mi(t,r){var a=t._readableState,y=t._writableState;a&&a.autoDestroy||y&&y.autoDestroy?t.destroy(r):t.emit("error",r)}var xn={destroy:xi,undestroy:Ni,errorOrDestroy:Mi},Ft={},Yr;function Ve(){if(Yr)return Ft;Yr=1;function t(d,_){d.prototype=Object.create(_.prototype),d.prototype.constructor=d,d.__proto__=_}var r={};function a(d,_,u){u||(u=Error);function m(h,L,N){return typeof _=="string"?_:_(h,L,N)}var v=function(h){t(L,h);function L(N,M,p){return h.call(this,m(N,M,p))||this}return L}(u);v.prototype.name=u.name,v.prototype.code=d,r[d]=v}function y(d,_){if(Array.isArray(d)){var u=d.length;return d=d.map(function(m){return String(m)}),u>2?"one of ".concat(_," ").concat(d.slice(0,u-1).join(", "),", or ")+d[u-1]:u===2?"one of ".concat(_," ").concat(d[0]," or ").concat(d[1]):"of ".concat(_," ").concat(d[0])}else return"of ".concat(_," ").concat(String(d))}function S(d,_,u){return d.substr(0,_.length)===_}function i(d,_,u){return(u===void 0||u>d.length)&&(u=d.length),d.substring(u-_.length,u)===_}function T(d,_,u){return typeof u!="number"&&(u=0),u+_.length>d.length?!1:d.indexOf(_,u)!==-1}return a("ERR_INVALID_OPT_VALUE",function(d,_){return'The value "'+_+'" is invalid for option "'+d+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(d,_,u){var m;typeof _=="string"&&S(_,"not ")?(m="must not be",_=_.replace(/^not /,"")):m="must be";var v;if(i(d," argument"))v="The ".concat(d," ").concat(m," ").concat(y(_,"type"));else{var h=T(d,".")?"property":"argument";v='The "'.concat(d,'" ').concat(h," ").concat(m," ").concat(y(_,"type"))}return v+=". Received type ".concat(typeof u),v},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(d){return"The "+d+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(d){return"Cannot call "+d+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(d){return"Unknown encoding: "+d},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ft.codes=r,Ft}var Li=Ve().codes.ERR_INVALID_OPT_VALUE;function Ii(t,r,a){return t.highWaterMark!=null?t.highWaterMark:r?t[a]:null}function Oi(t,r,a,y){var S=Ii(r,y,a);if(S!=null){if(!(isFinite(S)&&Math.floor(S)===S)||S<0){var i=y?a:"highWaterMark";throw new Li(i,S)}return Math.floor(S)}return t.objectMode?16:16*1024}var Nn={getHighWaterMark:Oi},zr={},ki=Pi;function Pi(t,r){if(Ut("noDeprecation"))return t;var a=!1;function y(){if(!a){if(Ut("throwDeprecation"))throw new Error(r);Ut("traceDeprecation")?console.trace(r):console.warn(r),a=!0}return t.apply(this,arguments)}return y}function Ut(t){try{if(!zr.localStorage)return!1}catch{return!1}var r=zr.localStorage[t];return r==null?!1:String(r).toLowerCase()==="true"}var Bt,Kr;function Mn(){if(Kr)return Bt;Kr=1;var t={};Bt=oe;function r(x){var l=this;this.next=null,this.entry=null,this.finish=function(){ue(l,x)}}var a;oe.WritableState=ne;var y={deprecate:ki},S=Tn,i=Te.Buffer,T=(typeof t<"u"?t:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function d(x){return i.from(x)}function _(x){return i.isBuffer(x)||x instanceof T}var u=xn,m=Nn,v=m.getHighWaterMark,h=Ve().codes,L=h.ERR_INVALID_ARG_TYPE,N=h.ERR_METHOD_NOT_IMPLEMENTED,M=h.ERR_MULTIPLE_CALLBACK,p=h.ERR_STREAM_CANNOT_PIPE,s=h.ERR_STREAM_DESTROYED,w=h.ERR_STREAM_NULL_VALUES,b=h.ERR_STREAM_WRITE_AFTER_END,D=h.ERR_UNKNOWN_ENCODING,k=u.errorOrDestroy;Ge()(oe,S);function Z(){}function ne(x,l,A){a=a||Be(),x=x||{},typeof A!="boolean"&&(A=l instanceof a),this.objectMode=!!x.objectMode,A&&(this.objectMode=this.objectMode||!!x.writableObjectMode),this.highWaterMark=v(this,x,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $=x.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=x.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Y){fe(l,Y)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=x.emitClose!==!1,this.autoDestroy=!!x.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}ne.prototype.getBuffer=function(){for(var l=this.bufferedRequest,A=[];l;)A.push(l),l=l.next;return A},function(){try{Object.defineProperty(ne.prototype,"buffer",{get:y.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var K;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(K=Function.prototype[Symbol.hasInstance],Object.defineProperty(oe,Symbol.hasInstance,{value:function(l){return K.call(this,l)?!0:this!==oe?!1:l&&l._writableState instanceof ne}})):K=function(l){return l instanceof this};function oe(x){a=a||Be();var l=this instanceof a;if(!l&&!K.call(oe,this))return new oe(x);this._writableState=new ne(x,this,l),this.writable=!0,x&&(typeof x.write=="function"&&(this._write=x.write),typeof x.writev=="function"&&(this._writev=x.writev),typeof x.destroy=="function"&&(this._destroy=x.destroy),typeof x.final=="function"&&(this._final=x.final)),S.call(this)}oe.prototype.pipe=function(){k(this,new p)};function I(x,l){var A=new b;k(x,A),process.nextTick(l,A)}function P(x,l,A,$){var Y;return A===null?Y=new w:typeof A!="string"&&!l.objectMode&&(Y=new L("chunk",["string","Buffer"],A)),Y?(k(x,Y),process.nextTick($,Y),!1):!0}oe.prototype.write=function(x,l,A){var $=this._writableState,Y=!1,n=!$.objectMode&&_(x);return n&&!i.isBuffer(x)&&(x=d(x)),typeof l=="function"&&(A=l,l=null),n?l="buffer":l||(l=$.defaultEncoding),typeof A!="function"&&(A=Z),$.ending?I(this,A):(n||P(this,$,x,A))&&($.pendingcb++,Y=O(this,$,n,x,l,A)),Y},oe.prototype.cork=function(){this._writableState.corked++},oe.prototype.uncork=function(){var x=this._writableState;x.corked&&(x.corked--,!x.writing&&!x.corked&&!x.bufferProcessing&&x.bufferedRequest&&g(this,x))},oe.prototype.setDefaultEncoding=function(l){if(typeof l=="string"&&(l=l.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((l+"").toLowerCase())>-1))throw new D(l);return this._writableState.defaultEncoding=l,this},Object.defineProperty(oe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function G(x,l,A){return!x.objectMode&&x.decodeStrings!==!1&&typeof l=="string"&&(l=i.from(l,A)),l}Object.defineProperty(oe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function O(x,l,A,$,Y,n){if(!A){var e=G(l,$,Y);$!==e&&(A=!0,Y="buffer",$=e)}var f=l.objectMode?1:$.length;l.length+=f;var E=l.length<l.highWaterMark;if(E||(l.needDrain=!0),l.writing||l.corked){var H=l.lastBufferedRequest;l.lastBufferedRequest={chunk:$,encoding:Y,isBuf:A,callback:n,next:null},H?H.next=l.lastBufferedRequest:l.bufferedRequest=l.lastBufferedRequest,l.bufferedRequestCount+=1}else Q(x,l,!1,f,$,Y,n);return E}function Q(x,l,A,$,Y,n,e){l.writelen=$,l.writecb=e,l.writing=!0,l.sync=!0,l.destroyed?l.onwrite(new s("write")):A?x._writev(Y,l.onwrite):x._write(Y,n,l.onwrite),l.sync=!1}function re(x,l,A,$,Y){--l.pendingcb,A?(process.nextTick(Y,$),process.nextTick(te,x,l),x._writableState.errorEmitted=!0,k(x,$)):(Y($),x._writableState.errorEmitted=!0,k(x,$),te(x,l))}function ae(x){x.writing=!1,x.writecb=null,x.length-=x.writelen,x.writelen=0}function fe(x,l){var A=x._writableState,$=A.sync,Y=A.writecb;if(typeof Y!="function")throw new M;if(ae(A),l)re(x,A,$,l,Y);else{var n=F(A)||x.destroyed;!n&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&g(x,A),$?process.nextTick(j,x,A,n,Y):j(x,A,n,Y)}}function j(x,l,A,$){A||ie(x,l),l.pendingcb--,$(),te(x,l)}function ie(x,l){l.length===0&&l.needDrain&&(l.needDrain=!1,x.emit("drain"))}function g(x,l){l.bufferProcessing=!0;var A=l.bufferedRequest;if(x._writev&&A&&A.next){var $=l.bufferedRequestCount,Y=new Array($),n=l.corkedRequestsFree;n.entry=A;for(var e=0,f=!0;A;)Y[e]=A,A.isBuf||(f=!1),A=A.next,e+=1;Y.allBuffers=f,Q(x,l,!0,l.length,Y,"",n.finish),l.pendingcb++,l.lastBufferedRequest=null,n.next?(l.corkedRequestsFree=n.next,n.next=null):l.corkedRequestsFree=new r(l),l.bufferedRequestCount=0}else{for(;A;){var E=A.chunk,H=A.encoding,W=A.callback,U=l.objectMode?1:E.length;if(Q(x,l,!1,U,E,H,W),A=A.next,l.bufferedRequestCount--,l.writing)break}A===null&&(l.lastBufferedRequest=null)}l.bufferedRequest=A,l.bufferProcessing=!1}oe.prototype._write=function(x,l,A){A(new N("_write()"))},oe.prototype._writev=null,oe.prototype.end=function(x,l,A){var $=this._writableState;return typeof x=="function"?(A=x,x=null,l=null):typeof l=="function"&&(A=l,l=null),x!=null&&this.write(x,l),$.corked&&($.corked=1,this.uncork()),$.ending||le(this,$,A),this},Object.defineProperty(oe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function F(x){return x.ending&&x.length===0&&x.bufferedRequest===null&&!x.finished&&!x.writing}function ee(x,l){x._final(function(A){l.pendingcb--,A&&k(x,A),l.prefinished=!0,x.emit("prefinish"),te(x,l)})}function C(x,l){!l.prefinished&&!l.finalCalled&&(typeof x._final=="function"&&!l.destroyed?(l.pendingcb++,l.finalCalled=!0,process.nextTick(ee,x,l)):(l.prefinished=!0,x.emit("prefinish")))}function te(x,l){var A=F(l);if(A&&(C(x,l),l.pendingcb===0&&(l.finished=!0,x.emit("finish"),l.autoDestroy))){var $=x._readableState;(!$||$.autoDestroy&&$.endEmitted)&&x.destroy()}return A}function le(x,l,A){l.ending=!0,te(x,l),A&&(l.finished?process.nextTick(A):x.once("finish",A)),l.ended=!0,x.writable=!1}function ue(x,l,A){var $=x.entry;for(x.entry=null;$;){var Y=$.callback;l.pendingcb--,Y(A),$=$.next}l.corkedRequestsFree.next=x}return Object.defineProperty(oe.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(l){this._writableState&&(this._writableState.destroyed=l)}}),oe.prototype.destroy=u.destroy,oe.prototype._undestroy=u.undestroy,oe.prototype._destroy=function(x,l){l(x)},Bt}var Ht,Xr;function Be(){if(Xr)return Ht;Xr=1;var t=Object.keys||function(u){var m=[];for(var v in u)m.push(v);return m};Ht=T;var r=Ln(),a=Mn();Ge()(T,r);for(var y=t(a.prototype),S=0;S<y.length;S++){var i=y[S];T.prototype[i]||(T.prototype[i]=a.prototype[i])}function T(u){if(!(this instanceof T))return new T(u);r.call(this,u),a.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function d(){this._writableState.ended||process.nextTick(_,this)}function _(u){u.end()}return Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),Ht}var Gt,Jr;function ar(){if(Jr)return Gt;Jr=1;var t=Ve().codes.ERR_STREAM_PREMATURE_CLOSE;function r(i){var T=!1;return function(){if(!T){T=!0;for(var d=arguments.length,_=new Array(d),u=0;u<d;u++)_[u]=arguments[u];i.apply(this,_)}}}function a(){}function y(i){return i.setHeader&&typeof i.abort=="function"}function S(i,T,d){if(typeof T=="function")return S(i,null,T);T||(T={}),d=r(d||a);var _=T.readable||T.readable!==!1&&i.readable,u=T.writable||T.writable!==!1&&i.writable,m=function(){i.writable||h()},v=i._writableState&&i._writableState.finished,h=function(){u=!1,v=!0,_||d.call(i)},L=i._readableState&&i._readableState.endEmitted,N=function(){_=!1,L=!0,u||d.call(i)},M=function(b){d.call(i,b)},p=function(){var b;if(_&&!L)return(!i._readableState||!i._readableState.ended)&&(b=new t),d.call(i,b);if(u&&!v)return(!i._writableState||!i._writableState.ended)&&(b=new t),d.call(i,b)},s=function(){i.req.on("finish",h)};return y(i)?(i.on("complete",h),i.on("abort",p),i.req?s():i.on("request",s)):u&&!i._writableState&&(i.on("end",m),i.on("close",m)),i.on("end",N),i.on("finish",h),T.error!==!1&&i.on("error",M),i.on("close",p),function(){i.removeListener("complete",h),i.removeListener("abort",p),i.removeListener("request",s),i.req&&i.req.removeListener("finish",h),i.removeListener("end",m),i.removeListener("close",m),i.removeListener("finish",h),i.removeListener("end",N),i.removeListener("error",M),i.removeListener("close",p)}}return Gt=S,Gt}var Vt,Zr;function Di(){if(Zr)return Vt;Zr=1;var t;function r(b,D,k){return D=a(D),D in b?Object.defineProperty(b,D,{value:k,enumerable:!0,configurable:!0,writable:!0}):b[D]=k,b}function a(b){var D=y(b,"string");return typeof D=="symbol"?D:String(D)}function y(b,D){if(typeof b!="object"||b===null)return b;var k=b[Symbol.toPrimitive];if(k!==void 0){var Z=k.call(b,D||"default");if(typeof Z!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(b)}var S=ar(),i=Symbol("lastResolve"),T=Symbol("lastReject"),d=Symbol("error"),_=Symbol("ended"),u=Symbol("lastPromise"),m=Symbol("handlePromise"),v=Symbol("stream");function h(b,D){return{value:b,done:D}}function L(b){var D=b[i];if(D!==null){var k=b[v].read();k!==null&&(b[u]=null,b[i]=null,b[T]=null,D(h(k,!1)))}}function N(b){process.nextTick(L,b)}function M(b,D){return function(k,Z){b.then(function(){if(D[_]){k(h(void 0,!0));return}D[m](k,Z)},Z)}}var p=Object.getPrototypeOf(function(){}),s=Object.setPrototypeOf((t={get stream(){return this[v]},next:function(){var D=this,k=this[d];if(k!==null)return Promise.reject(k);if(this[_])return Promise.resolve(h(void 0,!0));if(this[v].destroyed)return new Promise(function(oe,I){process.nextTick(function(){D[d]?I(D[d]):oe(h(void 0,!0))})});var Z=this[u],ne;if(Z)ne=new Promise(M(Z,this));else{var K=this[v].read();if(K!==null)return Promise.resolve(h(K,!1));ne=new Promise(this[m])}return this[u]=ne,ne}},r(t,Symbol.asyncIterator,function(){return this}),r(t,"return",function(){var D=this;return new Promise(function(k,Z){D[v].destroy(null,function(ne){if(ne){Z(ne);return}k(h(void 0,!0))})})}),t),p),w=function(D){var k,Z=Object.create(s,(k={},r(k,v,{value:D,writable:!0}),r(k,i,{value:null,writable:!0}),r(k,T,{value:null,writable:!0}),r(k,d,{value:null,writable:!0}),r(k,_,{value:D._readableState.endEmitted,writable:!0}),r(k,m,{value:function(K,oe){var I=Z[v].read();I?(Z[u]=null,Z[i]=null,Z[T]=null,K(h(I,!1))):(Z[i]=K,Z[T]=oe)},writable:!0}),k));return Z[u]=null,S(D,function(ne){if(ne&&ne.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=Z[T];K!==null&&(Z[u]=null,Z[i]=null,Z[T]=null,K(ne)),Z[d]=ne;return}var oe=Z[i];oe!==null&&(Z[u]=null,Z[i]=null,Z[T]=null,oe(h(void 0,!0))),Z[_]=!0}),D.on("readable",N.bind(null,Z)),Z};return Vt=w,Vt}var Yt,Qr;function Ci(){return Qr||(Qr=1,Yt=function(){throw new Error("Readable.from is not available in the browser")}),Yt}var zt,en;function Ln(){if(en)return zt;en=1;var t={};zt=I;var r;I.ReadableState=oe,We().EventEmitter;var a=function(e,f){return e.listeners(f).length},y=Tn,S=Te.Buffer,i=(typeof t<"u"?t:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function T(n){return S.from(n)}function d(n){return S.isBuffer(n)||n instanceof i}var _=ln,u;_&&_.debuglog?u=_.debuglog("stream"):u=function(){};var m=Ti(),v=xn,h=Nn,L=h.getHighWaterMark,N=Ve().codes,M=N.ERR_INVALID_ARG_TYPE,p=N.ERR_STREAM_PUSH_AFTER_EOF,s=N.ERR_METHOD_NOT_IMPLEMENTED,w=N.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b,D,k;Ge()(I,y);var Z=v.errorOrDestroy,ne=["error","close","destroy","pause","resume"];function K(n,e,f){if(typeof n.prependListener=="function")return n.prependListener(e,f);!n._events||!n._events[e]?n.on(e,f):Array.isArray(n._events[e])?n._events[e].unshift(f):n._events[e]=[f,n._events[e]]}function oe(n,e,f){r=r||Be(),n=n||{},typeof f!="boolean"&&(f=e instanceof r),this.objectMode=!!n.objectMode,f&&(this.objectMode=this.objectMode||!!n.readableObjectMode),this.highWaterMark=L(this,n,"readableHighWaterMark",f),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=n.emitClose!==!1,this.autoDestroy=!!n.autoDestroy,this.destroyed=!1,this.defaultEncoding=n.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,n.encoding&&(b||(b=tr().StringDecoder),this.decoder=new b(n.encoding),this.encoding=n.encoding)}function I(n){if(r=r||Be(),!(this instanceof I))return new I(n);var e=this instanceof r;this._readableState=new oe(n,this,e),this.readable=!0,n&&(typeof n.read=="function"&&(this._read=n.read),typeof n.destroy=="function"&&(this._destroy=n.destroy)),y.call(this)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),I.prototype.destroy=v.destroy,I.prototype._undestroy=v.undestroy,I.prototype._destroy=function(n,e){e(n)},I.prototype.push=function(n,e){var f=this._readableState,E;return f.objectMode?E=!0:typeof n=="string"&&(e=e||f.defaultEncoding,e!==f.encoding&&(n=S.from(n,e),e=""),E=!0),P(this,n,e,!1,E)},I.prototype.unshift=function(n){return P(this,n,null,!0,!1)};function P(n,e,f,E,H){u("readableAddChunk",e);var W=n._readableState;if(e===null)W.reading=!1,fe(n,W);else{var U;if(H||(U=O(W,e)),U)Z(n,U);else if(W.objectMode||e&&e.length>0)if(typeof e!="string"&&!W.objectMode&&Object.getPrototypeOf(e)!==S.prototype&&(e=T(e)),E)W.endEmitted?Z(n,new w):G(n,W,e,!0);else if(W.ended)Z(n,new p);else{if(W.destroyed)return!1;W.reading=!1,W.decoder&&!f?(e=W.decoder.write(e),W.objectMode||e.length!==0?G(n,W,e,!1):g(n,W)):G(n,W,e,!1)}else E||(W.reading=!1,g(n,W))}return!W.ended&&(W.length<W.highWaterMark||W.length===0)}function G(n,e,f,E){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,n.emit("data",f)):(e.length+=e.objectMode?1:f.length,E?e.buffer.unshift(f):e.buffer.push(f),e.needReadable&&j(n)),g(n,e)}function O(n,e){var f;return!d(e)&&typeof e!="string"&&e!==void 0&&!n.objectMode&&(f=new M("chunk",["string","Buffer","Uint8Array"],e)),f}I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(n){b||(b=tr().StringDecoder);var e=new b(n);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var f=this._readableState.buffer.head,E="";f!==null;)E+=e.write(f.data),f=f.next;return this._readableState.buffer.clear(),E!==""&&this._readableState.buffer.push(E),this._readableState.length=E.length,this};var Q=1073741824;function re(n){return n>=Q?n=Q:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function ae(n,e){return n<=0||e.length===0&&e.ended?0:e.objectMode?1:n!==n?e.flowing&&e.length?e.buffer.head.data.length:e.length:(n>e.highWaterMark&&(e.highWaterMark=re(n)),n<=e.length?n:e.ended?e.length:(e.needReadable=!0,0))}I.prototype.read=function(n){u("read",n),n=parseInt(n,10);var e=this._readableState,f=n;if(n!==0&&(e.emittedReadable=!1),n===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return u("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?A(this):j(this),null;if(n=ae(n,e),n===0&&e.ended)return e.length===0&&A(this),null;var E=e.needReadable;u("need readable",E),(e.length===0||e.length-n<e.highWaterMark)&&(E=!0,u("length less than watermark",E)),e.ended||e.reading?(E=!1,u("reading or ended",E)):E&&(u("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(n=ae(f,e)));var H;return n>0?H=l(n,e):H=null,H===null?(e.needReadable=e.length<=e.highWaterMark,n=0):(e.length-=n,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),f!==n&&e.ended&&A(this)),H!==null&&this.emit("data",H),H};function fe(n,e){if(u("onEofChunk"),!e.ended){if(e.decoder){var f=e.decoder.end();f&&f.length&&(e.buffer.push(f),e.length+=e.objectMode?1:f.length)}e.ended=!0,e.sync?j(n):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,ie(n)))}}function j(n){var e=n._readableState;u("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(u("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(ie,n))}function ie(n){var e=n._readableState;u("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(n.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,x(n)}function g(n,e){e.readingMore||(e.readingMore=!0,process.nextTick(F,n,e))}function F(n,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var f=e.length;if(u("maybeReadMore read 0"),n.read(0),f===e.length)break}e.readingMore=!1}I.prototype._read=function(n){Z(this,new s("_read()"))},I.prototype.pipe=function(n,e){var f=this,E=this._readableState;switch(E.pipesCount){case 0:E.pipes=n;break;case 1:E.pipes=[E.pipes,n];break;default:E.pipes.push(n);break}E.pipesCount+=1,u("pipe count=%d opts=%j",E.pipesCount,e);var H=(!e||e.end!==!1)&&n!==process.stdout&&n!==process.stderr,W=H?R:pe;E.endEmitted?process.nextTick(W):f.once("end",W),n.on("unpipe",U);function U(ye,ve){u("onunpipe"),ye===f&&ve&&ve.hasUnpiped===!1&&(ve.hasUnpiped=!0,q())}function R(){u("onend"),n.end()}var B=ee(f);n.on("drain",B);var V=!1;function q(){u("cleanup"),n.removeListener("close",ce),n.removeListener("finish",_e),n.removeListener("drain",B),n.removeListener("error",we),n.removeListener("unpipe",U),f.removeListener("end",R),f.removeListener("end",pe),f.removeListener("data",de),V=!0,E.awaitDrain&&(!n._writableState||n._writableState.needDrain)&&B()}f.on("data",de);function de(ye){u("ondata");var ve=n.write(ye);u("dest.write",ve),ve===!1&&((E.pipesCount===1&&E.pipes===n||E.pipesCount>1&&Y(E.pipes,n)!==-1)&&!V&&(u("false write response, pause",E.awaitDrain),E.awaitDrain++),f.pause())}function we(ye){u("onerror",ye),pe(),n.removeListener("error",we),a(n,"error")===0&&Z(n,ye)}K(n,"error",we);function ce(){n.removeListener("finish",_e),pe()}n.once("close",ce);function _e(){u("onfinish"),n.removeListener("close",ce),pe()}n.once("finish",_e);function pe(){u("unpipe"),f.unpipe(n)}return n.emit("pipe",f),E.flowing||(u("pipe resume"),f.resume()),n};function ee(n){return function(){var f=n._readableState;u("pipeOnDrain",f.awaitDrain),f.awaitDrain&&f.awaitDrain--,f.awaitDrain===0&&a(n,"data")&&(f.flowing=!0,x(n))}}I.prototype.unpipe=function(n){var e=this._readableState,f={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return n&&n!==e.pipes?this:(n||(n=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,n&&n.emit("unpipe",this,f),this);if(!n){var E=e.pipes,H=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var W=0;W<H;W++)E[W].emit("unpipe",this,{hasUnpiped:!1});return this}var U=Y(e.pipes,n);return U===-1?this:(e.pipes.splice(U,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),n.emit("unpipe",this,f),this)},I.prototype.on=function(n,e){var f=y.prototype.on.call(this,n,e),E=this._readableState;return n==="data"?(E.readableListening=this.listenerCount("readable")>0,E.flowing!==!1&&this.resume()):n==="readable"&&!E.endEmitted&&!E.readableListening&&(E.readableListening=E.needReadable=!0,E.flowing=!1,E.emittedReadable=!1,u("on readable",E.length,E.reading),E.length?j(this):E.reading||process.nextTick(te,this)),f},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(n,e){var f=y.prototype.removeListener.call(this,n,e);return n==="readable"&&process.nextTick(C,this),f},I.prototype.removeAllListeners=function(n){var e=y.prototype.removeAllListeners.apply(this,arguments);return(n==="readable"||n===void 0)&&process.nextTick(C,this),e};function C(n){var e=n._readableState;e.readableListening=n.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:n.listenerCount("data")>0&&n.resume()}function te(n){u("readable nexttick read 0"),n.read(0)}I.prototype.resume=function(){var n=this._readableState;return n.flowing||(u("resume"),n.flowing=!n.readableListening,le(this,n)),n.paused=!1,this};function le(n,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(ue,n,e))}function ue(n,e){u("resume",e.reading),e.reading||n.read(0),e.resumeScheduled=!1,n.emit("resume"),x(n),e.flowing&&!e.reading&&n.read(0)}I.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function x(n){var e=n._readableState;for(u("flow",e.flowing);e.flowing&&n.read()!==null;);}I.prototype.wrap=function(n){var e=this,f=this._readableState,E=!1;n.on("end",function(){if(u("wrapped end"),f.decoder&&!f.ended){var U=f.decoder.end();U&&U.length&&e.push(U)}e.push(null)}),n.on("data",function(U){if(u("wrapped data"),f.decoder&&(U=f.decoder.write(U)),!(f.objectMode&&U==null)&&!(!f.objectMode&&(!U||!U.length))){var R=e.push(U);R||(E=!0,n.pause())}});for(var H in n)this[H]===void 0&&typeof n[H]=="function"&&(this[H]=function(R){return function(){return n[R].apply(n,arguments)}}(H));for(var W=0;W<ne.length;W++)n.on(ne[W],this.emit.bind(this,ne[W]));return this._read=function(U){u("wrapped _read",U),E&&(E=!1,n.resume())},this},typeof Symbol=="function"&&(I.prototype[Symbol.asyncIterator]=function(){return D===void 0&&(D=Di()),D(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),I._fromList=l,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function l(n,e){if(e.length===0)return null;var f;return e.objectMode?f=e.buffer.shift():!n||n>=e.length?(e.decoder?f=e.buffer.join(""):e.buffer.length===1?f=e.buffer.first():f=e.buffer.concat(e.length),e.buffer.clear()):f=e.buffer.consume(n,e.decoder),f}function A(n){var e=n._readableState;u("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick($,e,n))}function $(n,e){if(u("endReadableNT",n.endEmitted,n.length),!n.endEmitted&&n.length===0&&(n.endEmitted=!0,e.readable=!1,e.emit("end"),n.autoDestroy)){var f=e._writableState;(!f||f.autoDestroy&&f.finished)&&e.destroy()}}typeof Symbol=="function"&&(I.from=function(n,e){return k===void 0&&(k=Ci()),k(I,n,e)});function Y(n,e){for(var f=0,E=n.length;f<E;f++)if(n[f]===e)return f;return-1}return zt}var Kt,tn;function In(){if(tn)return Kt;tn=1,Kt=d;var t=Ve().codes,r=t.ERR_METHOD_NOT_IMPLEMENTED,a=t.ERR_MULTIPLE_CALLBACK,y=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,S=t.ERR_TRANSFORM_WITH_LENGTH_0,i=Be();Ge()(d,i);function T(m,v){var h=this._transformState;h.transforming=!1;var L=h.writecb;if(L===null)return this.emit("error",new a);h.writechunk=null,h.writecb=null,v!=null&&this.push(v),L(m);var N=this._readableState;N.reading=!1,(N.needReadable||N.length<N.highWaterMark)&&this._read(N.highWaterMark)}function d(m){if(!(this instanceof d))return new d(m);i.call(this,m),this._transformState={afterTransform:T.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",_)}function _(){var m=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(v,h){u(m,v,h)}):u(this,null,null)}d.prototype.push=function(m,v){return this._transformState.needTransform=!1,i.prototype.push.call(this,m,v)},d.prototype._transform=function(m,v,h){h(new r("_transform()"))},d.prototype._write=function(m,v,h){var L=this._transformState;if(L.writecb=h,L.writechunk=m,L.writeencoding=v,!L.transforming){var N=this._readableState;(L.needTransform||N.needReadable||N.length<N.highWaterMark)&&this._read(N.highWaterMark)}},d.prototype._read=function(m){var v=this._transformState;v.writechunk!==null&&!v.transforming?(v.transforming=!0,this._transform(v.writechunk,v.writeencoding,v.afterTransform)):v.needTransform=!0},d.prototype._destroy=function(m,v){i.prototype._destroy.call(this,m,function(h){v(h)})};function u(m,v,h){if(v)return m.emit("error",v);if(h!=null&&m.push(h),m._writableState.length)throw new S;if(m._transformState.transforming)throw new y;return m.push(null)}return Kt}var Xt,rn;function ji(){if(rn)return Xt;rn=1,Xt=r;var t=In();Ge()(r,t);function r(a){if(!(this instanceof r))return new r(a);t.call(this,a)}return r.prototype._transform=function(a,y,S){S(null,a)},Xt}var Jt,nn;function Wi(){if(nn)return Jt;nn=1;var t;function r(h){var L=!1;return function(){L||(L=!0,h.apply(void 0,arguments))}}var a=Ve().codes,y=a.ERR_MISSING_ARGS,S=a.ERR_STREAM_DESTROYED;function i(h){if(h)throw h}function T(h){return h.setHeader&&typeof h.abort=="function"}function d(h,L,N,M){M=r(M);var p=!1;h.on("close",function(){p=!0}),t===void 0&&(t=ar()),t(h,{readable:L,writable:N},function(w){if(w)return M(w);p=!0,M()});var s=!1;return function(w){if(!p&&!s){if(s=!0,T(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();M(w||new S("pipe"))}}}function _(h){h()}function u(h,L){return h.pipe(L)}function m(h){return!h.length||typeof h[h.length-1]!="function"?i:h.pop()}function v(){for(var h=arguments.length,L=new Array(h),N=0;N<h;N++)L[N]=arguments[N];var M=m(L);if(Array.isArray(L[0])&&(L=L[0]),L.length<2)throw new y("streams");var p,s=L.map(function(w,b){var D=b<L.length-1,k=b>0;return d(w,D,k,function(Z){p||(p=Z),Z&&s.forEach(_),!D&&(s.forEach(_),M(p))})});return L.reduce(u)}return Jt=v,Jt}var Zt,on;function $i(){if(on)return Zt;on=1,Zt=a;var t=We().EventEmitter,r=Ge();r(a,t),a.Readable=Ln(),a.Writable=Mn(),a.Duplex=Be(),a.Transform=In(),a.PassThrough=ji(),a.finished=ar(),a.pipeline=Wi(),a.Stream=a;function a(){t.call(this)}return a.prototype.pipe=function(y,S){var i=this;function T(L){y.writable&&y.write(L)===!1&&i.pause&&i.pause()}i.on("data",T);function d(){i.readable&&i.resume&&i.resume()}y.on("drain",d),!y._isStdio&&(!S||S.end!==!1)&&(i.on("end",u),i.on("close",m));var _=!1;function u(){_||(_=!0,y.end())}function m(){_||(_=!0,typeof y.destroy=="function"&&y.destroy())}function v(L){if(h(),t.listenerCount(this,"error")===0)throw L}i.on("error",v),y.on("error",v);function h(){i.removeListener("data",T),y.removeListener("drain",d),i.removeListener("end",u),i.removeListener("close",m),i.removeListener("error",v),y.removeListener("error",v),i.removeListener("end",h),i.removeListener("close",h),y.removeListener("close",h)}return i.on("end",h),i.on("close",h),y.on("close",h),y.emit("pipe",i),y},Zt}let Xe;try{Xe=Ai().Readable}catch{try{Xe=$i().Readable}catch{Xe=null}}class On{constructor(r,a,y,S){this.event=r,this.data=a,this.id=y,this.retry=S}toString(){return this.event==="output"?this.data:""}}let qi=class extends Xe{constructor(r,a){if(!Xe)throw new Error("Readable streams are not supported. Please use Node.js 18 or later, or install the readable-stream package.");super(),this.url=r,this.options=a,this.event=null,this.data=[],this.lastEventId=null,this.retry=null}decode(r){if(!r){if(!this.event&&!this.data.length&&!this.lastEventId)return null;const S=new On(this.event,this.data.join(`
`),this.lastEventId);return this.event=null,this.data=[],this.retry=null,S}if(r.startsWith(":"))return null;const[a,y]=r.split(": ");return a==="event"?this.event=y:a==="data"?this.data.push(y):a==="id"&&(this.lastEventId=y),null}async*[Symbol.asyncIterator](){const r=await fetch(this.url,{...this.options,headers:{Accept:"text/event-stream"}});for await(const a of r.body){const i=new TextDecoder("utf-8").decode(a).split(`
`);for(const T of i){const d=this.decode(T);if(d){if(d.event==="error")throw new Error(d.data);if(yield d,d.event==="done")return}}}}};var Fi={Stream:qi,ServerSentEvent:On};const Ui=pn;async function Bi(t,r={}){const a=r.shouldRetry||(()=>!1),y=r.maxRetries||5,S=r.interval||500,i=r.jitter||100,T=_=>new Promise(u=>setTimeout(u,_));let d=0;do{let _=S*2**d+Math.random()*i;try{const u=await t();if(u.ok||!a(u))return u}catch(u){if(u instanceof Ui){const m=u.response.headers.get("Retry-After");if(m)if(Number.isInteger(m))_=m*1e3;else{const v=new Date(m);Number.isNaN(v.getTime())||(_=v.getTime()-new Date().getTime())}}}Number.isInteger(y)&&y>0&&(Number.isInteger(_)&&_>0&&await T(S*2**(r.maxRetries-y)),d+=1)}while(d<y);return t()}var Hi={withAutomaticRetries:Bi};async function Gi(t){return(await this.request(`/collections/${t}`,{method:"GET"})).json()}async function Vi(){return(await this.request("/collections",{method:"GET"})).json()}var Yi={get:Gi,list:Vi};async function zi(t,r,a){const{stream:y,...S}=a;if(S.webhook)try{new URL(S.webhook)}catch{throw new Error("Invalid webhook URL")}return(await this.request(`/deployments/${t}/${r}/predictions`,{method:"POST",data:{...S,stream:y}})).json()}var Ki={predictions:{create:zi}};async function Xi(){return(await this.request("/hardware",{method:"GET"})).json()}var Ji={list:Xi};async function Zi(t,r){return(await this.request(`/models/${t}/${r}`,{method:"GET"})).json()}async function Qi(t,r){return(await this.request(`/models/${t}/${r}/versions`,{method:"GET"})).json()}async function eo(t,r,a){return(await this.request(`/models/${t}/${r}/versions/${a}`,{method:"GET"})).json()}async function to(){return(await this.request("/models",{method:"GET"})).json()}async function ro(t,r,a){const y={owner:t,name:r,...a};return(await this.request("/models",{method:"POST",data:y})).json()}var no={get:Zi,list:to,create:ro,versions:{list:Qi,get:eo}};async function io(t){const{model:r,version:a,stream:y,...S}=t;if(S.webhook)try{new URL(S.webhook)}catch{throw new Error("Invalid webhook URL")}let i;if(a)i=await this.request("/predictions",{method:"POST",data:{...S,stream:y,version:a}});else if(r)i=await this.request(`/models/${r}/predictions`,{method:"POST",data:{...S,stream:y}});else throw new Error("Either model or version must be specified");return i.json()}async function oo(t){return(await this.request(`/predictions/${t}`,{method:"GET"})).json()}async function ao(t){return(await this.request(`/predictions/${t}/cancel`,{method:"POST"})).json()}async function so(){return(await this.request("/predictions",{method:"GET"})).json()}var lo={create:io,get:oo,cancel:ao,list:so};async function fo(t,r,a,y){const{...S}=y;if(S.webhook)try{new URL(S.webhook)}catch{throw new Error("Invalid webhook URL")}return(await this.request(`/models/${t}/${r}/versions/${a}/trainings`,{method:"POST",data:S})).json()}async function uo(t){return(await this.request(`/trainings/${t}`,{method:"GET"})).json()}async function co(t){return(await this.request(`/trainings/${t}/cancel`,{method:"POST"})).json()}async function ho(){return(await this.request("/trainings",{method:"GET"})).json()}var po={create:fo,get:uo,cancel:co,list:ho};const bo="replicate",go="0.25.2",wo="JavaScript client for Replicate",yo="github:replicate/replicate-javascript",_o="https://github.com/replicate/replicate-javascript#readme",mo="https://github.com/replicate/replicate-javascript/issues",vo="Apache-2.0",So="index.js",Eo={node:">=18.0.0",npm:">=7.19.0",git:">=2.11.0",yarn:">=1.7.0"},Ro={check:"tsc",format:"biome format . --write",lint:"biome lint .",test:"jest"},Ao={"readable-stream":">=4.0.0"},To={"@biomejs/biome":"^1.4.1","@types/jest":"^29.5.3","@typescript-eslint/eslint-plugin":"^5.56.0","cross-fetch":"^3.1.5",jest:"^29.6.2",nock:"^13.3.0","ts-jest":"^29.1.0",typescript:"^5.0.2"},xo={name:bo,version:go,description:wo,repository:yo,homepage:_o,bugs:mo,license:vo,main:So,engines:Eo,scripts:Ro,optionalDependencies:Ao,devDependencies:To};var No={TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",SSL_CERT_FILE:"/Users/cheshir/Documents/GitHub/exo/.venv/lib/python3.12/site-packages/certifi/cacert.pem",INIT_CWD:"/Users/cheshir/Downloads/project",TERM:"xterm-256color",SHELL:"/bin/zsh",HOMEBREW_REPOSITORY:"/opt/homebrew",TMPDIR:"/var/folders/q6/67fl2q9150v4325r6xznnd0w0000gn/T/",npm_config_global_prefix:"/usr/local",CONDA_SHLVL:"1",CONDA_PROMPT_MODIFIER:"(base) ",TERM_PROGRAM_VERSION:"1.95.3",ZDOTDIR:"/Users/cheshir",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",COLOR:"1",npm_config_noproxy:"",MLX_NUM_THREADS:"10",npm_config_local_prefix:"/Users/cheshir/Downloads/project",USER:"cheshir",COMMAND_MODE:"unix2003",npm_config_globalconfig:"/usr/local/etc/npmrc",CONDA_EXE:"/opt/homebrew/Caskroom/miniconda/base/bin/conda",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.u1SKxMxKyw/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/usr/local/lib/node_modules/npm/bin/npm-cli.js",_CE_CONDA:"",PATH:"/Users/cheshir/Downloads/project/node_modules/.bin:/Users/cheshir/Downloads/node_modules/.bin:/Users/cheshir/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/homebrew/Caskroom/miniconda/base/bin:/opt/homebrew/Caskroom/miniconda/base/condabin:/Library/Frameworks/Python.framework/Versions/3.13/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/usr/local/share/dotnet:~/.dotnet/tools:/Users/cheshir/.cargo/bin",npm_package_json:"/Users/cheshir/Downloads/project/package.json",npm_config_userconfig:"/Users/cheshir/.npmrc",npm_config_init_module:"/Users/cheshir/.npm-init.js",CONDA_PREFIX:"/opt/homebrew/Caskroom/miniconda/base",USER_ZDOTDIR:"/Users/cheshir",__CFBundleIdentifier:"com.microsoft.VSCode",npm_command:"run-script",PWD:"/Users/cheshir/Downloads/project",MLX_USE_GPU:"1",npm_lifecycle_event:"build",EDITOR:"vi",npm_package_name:"cheshire-grin-lab",LANG:"en_US.UTF-8",npm_config_npm_version:"10.9.0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",XPC_FLAGS:"0x0",npm_config_node_gyp:"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"0.0.0",_CE_M:"",XPC_SERVICE_NAME:"0",VSCODE_INJECTION:"1",SHLVL:"2",HOME:"/Users/cheshir",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",HOMEBREW_PREFIX:"/opt/homebrew",npm_config_cache:"/Users/cheshir/.npm",CONDA_PYTHON_EXE:"/opt/homebrew/Caskroom/miniconda/base/bin/python",LOGNAME:"cheshir",npm_lifecycle_script:"tsc && vite build",VSCODE_GIT_IPC_HANDLE:"/var/folders/q6/67fl2q9150v4325r6xznnd0w0000gn/T/vscode-git-dac03bb3f8.sock",CONDA_DEFAULT_ENV:"base",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 darwin arm64 workspaces/false",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",INFOPATH:"/opt/homebrew/share/info:/opt/homebrew/share/info:",HOMEBREW_CELLAR:"/opt/homebrew/Cellar",npm_node_execpath:"/usr/local/bin/node",npm_config_prefix:"/usr/local",COLORTERM:"truecolor",_:"/Users/cheshir/Downloads/project/node_modules/.bin/vite",NODE_ENV:"production"};const Mo=pn,an=_i,{Stream:Lo}=Fi,{withAutomaticRetries:Io}=Hi,sn=Yi,Oo=Ki,ko=Ji,Ke=no,it=lo,ot=po,Po=xo;class Do{constructor(r={}){this.auth=r.auth||No.REPLICATE_API_TOKEN,this.userAgent=r.userAgent||`replicate-javascript/${Po.version}`,this.baseUrl=r.baseUrl||"https://api.replicate.com/v1",this.fetch=r.fetch||globalThis.fetch,this.collections={list:sn.list.bind(this),get:sn.get.bind(this)},this.deployments={predictions:{create:Oo.predictions.create.bind(this)}},this.hardware={list:ko.list.bind(this)},this.models={get:Ke.get.bind(this),list:Ke.list.bind(this),create:Ke.create.bind(this),versions:{list:Ke.versions.list.bind(this),get:Ke.versions.get.bind(this)}},this.predictions={create:it.create.bind(this),get:it.get.bind(this),cancel:it.cancel.bind(this),list:it.list.bind(this)},this.trainings={create:ot.create.bind(this),get:ot.get.bind(this),cancel:ot.cancel.bind(this),list:ot.list.bind(this)}}async run(r,a,y){const{wait:S,...i}=a,T=an.parse(r);let d;if(T.version)d=await this.predictions.create({...i,version:T.version});else if(T.owner&&T.name)d=await this.predictions.create({...i,model:`${T.owner}/${T.name}`});else throw new Error("Invalid model version identifier");y&&y(d);const{signal:_}=a;if(d=await this.wait(d,S||{},async u=>(y&&y(u),_&&_.aborted?(await this.predictions.cancel(u.id),!0):!1)),y&&y(d),d.status==="failed")throw new Error(`Prediction failed: ${d.error}`);return d.output}async request(r,a){const{auth:y,baseUrl:S,userAgent:i}=this;let T;r instanceof URL?T=r:T=new URL(r.startsWith("/")?r.slice(1):r,S.endsWith("/")?S:`${S}/`);const{method:d="GET",params:_={},data:u}=a;for(const[M,p]of Object.entries(_))T.searchParams.append(M,p);const m={};if(y&&(m.Authorization=`Token ${y}`),m["Content-Type"]="application/json",m["User-Agent"]=i,a.headers)for(const[M,p]of Object.entries(a.headers))m[M]=p;const v={method:d,headers:m,body:u?JSON.stringify(u):void 0},h=d==="GET"?M=>M.status===429||M.status>=500:M=>M.status===429,L=this.fetch,N=await Io(async()=>L(T,v),{shouldRetry:h});if(!N.ok){const M=new Request(T,v),p=await N.text();throw new Mo(`Request to ${T} failed with status ${N.status} ${N.statusText}: ${p}.`,M,N)}return N}async*stream(r,a){const{wait:y,...S}=a,i=an.parse(r);let T;if(i.version)T=await this.predictions.create({...S,version:i.version,stream:!0});else if(i.owner&&i.name)T=await this.predictions.create({...S,model:`${i.owner}/${i.name}`,stream:!0});else throw new Error("Invalid model version identifier");if(T.urls&&T.urls.stream){const{signal:d}=a;yield*new Lo(T.urls.stream,{signal:d})}else throw new Error("Prediction does not support streaming")}async*paginate(r){const a=await r();if(yield a.results,a.next){const y=()=>this.request(a.next,{method:"GET"}).then(S=>S.json());yield*this.paginate(y)}}async wait(r,a,y){const{id:S}=r;if(!S)throw new Error("Invalid prediction");if(r.status==="succeeded"||r.status==="failed"||r.status==="canceled")return r;const i=_=>new Promise(u=>setTimeout(u,_)),T=a&&a.interval||500;let d=await this.predictions.get(S);for(;d.status!=="succeeded"&&d.status!=="failed"&&d.status!=="canceled"&&!(y&&await y(d)===!0);)await i(T),d=await this.predictions.get(r.id);if(d.status==="failed")throw new Error(`Prediction failed: ${d.error}`);return d}}var Co=Do;const jo=ii(Co),Wo=new jo({auth:"r8_AqmMkNzyqbVJf5fGMCFhYnKckurssUf0SwUzU"}),$o="black-forest-labs/flux-dev-lora";async function qo(t){try{const r={prompt:`${t} in a psychedelic cypherpunk cyberpunk style 8 bit pixelated cheshire cat from alice in wondereland with green candles as a background and the text $grin as an overlay with gold tokens flying from the sky`,go_fast:!0,guidance:3,lora_scale:1,megapixels:"1",num_outputs:1,aspect_ratio:"1:1",lora_weights:"fofr/flux-80s-cyberpunk",output_format:"png",output_quality:80,prompt_strength:.8,num_inference_steps:28},a=await Wo.run($o,{input:r});return Array.isArray(a)&&a.length>0?{status:"succeeded",output:a[0]}:{status:"failed",output:null,error:"Invalid output format received"}}catch(r){return{status:"failed",output:null,error:r instanceof Error?r.message:"Failed to generate image"}}}function Fo({onSubmit:t,isLoading:r}){const[a,y]=he.useState(""),S=async i=>{i.preventDefault(),a.trim()&&await t(a.trim())};return z.jsxs("form",{onSubmit:S,className:"space-y-4",children:[z.jsx("textarea",{value:a,onChange:i=>y(i.target.value),placeholder:"Enter your meme prompt...",className:"w-full h-32 p-4 rounded-lg bg-purple-900/20 border border-purple-500/30 text-white placeholder-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:r}),z.jsx("button",{type:"submit",disabled:r||!a.trim(),className:"w-full py-3 px-6 bg-purple-500 hover:bg-purple-600 disabled:bg-purple-500/50 text-white rounded-lg transition-colors flex items-center justify-center space-x-2",children:r?z.jsxs(z.Fragment,{children:[z.jsx(hn,{className:"w-5 h-5 animate-spin"}),z.jsx("span",{children:"Generating..."})]}):z.jsx("span",{children:"Generate Meme"})})]})}function Uo({url:t}){return z.jsxs("div",{className:"rounded-lg overflow-hidden bg-purple-900/20 border border-purple-500/30",children:[z.jsx("img",{src:t,alt:"Generated meme",className:"w-full h-auto",style:{maxHeight:"500px",objectFit:"contain"}}),z.jsxs("div",{className:"p-4 flex justify-between items-center",children:[z.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-purple-400 hover:text-purple-300 underline",children:"Open in new tab"}),z.jsx("button",{onClick:()=>{const r=document.createElement("a");r.href=t,r.download="grin-meme.png",document.body.appendChild(r),r.click(),document.body.removeChild(r)},className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition-colors",children:"Download"})]})]})}function Bo(){const[t,r]=he.useState(null),[a,y]=he.useState(!1),[S,i]=he.useState(null),T=async d=>{y(!0),i(null);try{const _=await qo(d);_.status==="succeeded"&&_.output?r(_.output):i(_.error||"Failed to generate image")}catch(_){i(_ instanceof Error?_.message:"Failed to generate image")}finally{y(!1)}};return z.jsxs("div",{className:"space-y-6",children:[z.jsxs("div",{className:"flex items-center space-x-2 text-purple-400",children:[z.jsx(pi,{className:"w-6 h-6"}),z.jsx("h2",{className:"text-xl font-semibold",children:"Meme Generation"})]}),z.jsx(Fo,{onSubmit:T,isLoading:a}),S&&z.jsx("div",{className:"text-red-400 bg-red-900/20 p-4 rounded-lg",children:S}),t&&z.jsx(Uo,{url:t})]})}const Ho=()=>{const t=he.useRef(null);return he.useEffect(()=>{const r=t.current;if(!r)return;const a=r.getContext("2d");if(!a)return;r.width=window.innerWidth,r.height=window.innerHeight;const i=("CHESHIRE TERMINAL"+`
     /\\___/\\
    (  o o  )
    (  =^=  ) 
     (---)
    `).split(""),T=10,d=r.width/T,_=[];for(let v=0;v<d;v++)_[v]=1;const m=setInterval(()=>{a.fillStyle="rgba(0, 0, 0, 0.05)",a.fillRect(0,0,r.width,r.height),a.fillStyle="#0F0",a.font=T+"px monospace";for(let v=0;v<_.length;v++){const h=i[Math.floor(Math.random()*i.length)];a.fillText(h,v*T,_[v]*T),_[v]*T>r.height&&Math.random()>.975&&(_[v]=0),_[v]++}},33);return()=>clearInterval(m)},[]),z.jsx("canvas",{ref:t,className:"fixed top-0 left-0 w-full h-full -z-10"})},Go=()=>{const t=he.useRef(null);return he.useEffect(()=>{const r=a=>{if(!t.current)return;const{left:y,top:S,width:i,height:T}=t.current.getBoundingClientRect(),d=y+i/2,_=S+T/2,u=(a.clientX-d)/25,m=(a.clientY-_)/25;t.current.style.transform=`translate(${u}px, ${m}px)`};return window.addEventListener("mousemove",r),()=>window.removeEventListener("mousemove",r)},[]),z.jsxs("div",{className:"relative w-64 h-64 mx-auto mb-8",children:[z.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 via-green-400 to-purple-600 rounded-full opacity-75 blur-2xl animate-pulse"}),z.jsx("div",{className:"absolute inset-0 bg-purple-500/50 rounded-full animate-ping"}),z.jsx("img",{ref:t,src:qe.images.cheshireLogo,alt:"Cheshire Cat",className:"relative w-full h-full object-contain transition-transform duration-300 ease-out animate-float"})]})},Vo=()=>{const t=he.useRef(null);return he.useEffect(()=>{const r=a=>{if(!t.current)return;const{left:y,top:S,width:i,height:T}=t.current.getBoundingClientRect(),d=y+i/2,_=S+T/2,u=(a.clientX-d)/25,m=(a.clientY-_)/25;t.current.style.transform=`translate(${u}px, ${m}px)`};return window.addEventListener("mousemove",r),()=>window.removeEventListener("mousemove",r)},[]),z.jsxs("div",{className:"relative w-64 h-64 mx-auto mt-12",children:[z.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 via-green-400 to-purple-600 rounded-full opacity-75 blur-2xl animate-pulse"}),z.jsx("div",{className:"absolute inset-0 bg-purple-500/50 rounded-full animate-ping"}),z.jsx("img",{ref:t,src:qe.images.bottomLogo,alt:"Bottom Logo",className:"relative w-full h-full object-contain transition-transform duration-300 ease-out animate-float"})]})},Yo=()=>{const t=he.useRef(null),r=he.useRef(null);return he.useEffect(()=>((()=>{if(!r.current){const y=document.createElement("script");y.src="https://elevenlabs.io/convai-widget/index.js",y.async=!0,y.type="text/javascript",y.onload=()=>{if(console.log("ElevenLabs widget script loaded"),t.current){const S=document.createElement("elevenlabs-convai");S.setAttribute("agent-id","lwiJrJFJXhXCJTiYfQxV"),S.className="elevenlabs-widget",t.current.appendChild(S)}},y.onerror=S=>{console.error("Error loading ElevenLabs widget script:",S)},document.body.appendChild(y),r.current=y}})(),()=>{r.current&&(document.body.removeChild(r.current),r.current=null),t.current&&(t.current.innerHTML="")}),[]),z.jsx("div",{className:"fixed bottom-4 left-4 z-50 animate-fade-in",children:z.jsxs("div",{className:"relative group",children:[z.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-purple-600 to-purple-400 rounded-lg blur opacity-75 group-hover:opacity-100 transition duration-1000 group-hover:duration-200"}),z.jsx("div",{className:"relative bg-black rounded-lg p-2",children:z.jsx("div",{ref:t,className:"min-w-[300px] min-h-[200px]"})})]})})},zo=new $e("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new $e("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");new $e("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new $e("So11111111111111111111111111111111111111112");new $e("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const Ko=new $e(qe.grin.tokenAddress),Xo=async t=>{try{const r=new ei(qe.helius.rpcUrl),a=new $e(t),S=(await r.getParsedTokenAccountsByOwner(a,{programId:zo})).value.find(i=>i.account.data.parsed.info.mint===Ko.toString());return S?Number(S.account.data.parsed.info.tokenAmount.amount)/ti:0}catch(r){return console.error("Error getting GRIN balance:",r),0}},Jo=()=>{const{connected:t,publicKey:r}=fn(),[a,y]=he.useState(!1),[S,i]=he.useState(!1),[T,d]=he.useState(0),_=qe.grin.requiredAmount,u=he.useCallback(async()=>{if(!t||!r){y(!1),d(0);return}i(!0);try{const m=await Xo(r.toString());d(m),y(m>=_)}catch(m){console.error("Error checking GRIN access:",m),y(!1),d(0)}finally{i(!1)}},[t,r,_]);return he.useEffect(()=>{u()},[u]),{hasGrin:a,isChecking:S,balance:T,requiredAmount:_,refreshBalance:u}},Zo=()=>{const[t,r]=he.useState([]),[a,y]=he.useState(""),[S,i]=he.useState(!1),[T,d]=he.useState(!1),{hasGrin:_,isChecking:u}=Jo(),m=async()=>{var h,L,N;if(!a.trim()||!_)return;i(!0);const v={role:"user",content:a};r(M=>[...M,v]),y("");try{const p=await(await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined","HTTP-Referer":window.location.origin,"X-Title":"Cheshire Terminal Chat"},body:JSON.stringify({model:void 0,messages:[{role:"system",content:"You are the Cheshire Terminal, a mystical and enigmatic AI that speaks in riddles and with a mischievous tone, similar to the Cheshire Cat from Alice in Wonderland. Always maintain this playful yet cryptic personality."},...t,v],temperature:.7})})).json();if((N=(L=(h=p.choices)==null?void 0:h[0])==null?void 0:L.message)!=null&&N.content){const s={role:"assistant",content:p.choices[0].message.content};r(w=>[...w,s])}}catch(M){console.error("Error in chat:",M)}finally{i(!1)}};return he.useEffect(()=>{const v=h=>{h.key==="Escape"&&d(L=>!L)};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[]),u?null:_?z.jsx("div",{className:`fixed left-4 transition-all duration-300 ease-in-out z-50 ${T?"bottom-4 w-12 h-12":"top-1/2 -translate-y-1/2 w-80"}`,children:z.jsx("div",{className:`bg-black/90 rounded-lg border border-purple-500/30 shadow-xl h-full ${!T&&"animate-fade-in"}`,children:T?z.jsx("button",{onClick:()=>d(!1),className:"w-full h-full flex items-center justify-center hover:bg-purple-500/20 rounded-lg transition-colors",children:z.jsx(wr,{className:"text-purple-400"})}):z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:"p-4 border-b border-purple-500/30 flex items-center justify-between",children:[z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsx(wr,{className:"text-purple-400"}),z.jsx("h3",{className:"text-purple-400 font-bold",children:"Cheshire Chat"})]}),z.jsx("button",{onClick:()=>d(!0),className:"text-purple-400 hover:text-purple-300",children:"−"})]}),z.jsxs("div",{className:"h-96 overflow-y-auto p-4 space-y-4",children:[t.map((v,h)=>z.jsx("div",{className:`${v.role==="user"?"ml-auto bg-purple-500/20":"bg-green-500/20"} p-3 rounded-lg max-w-[80%] animate-fade-in`,children:v.content},h)),S&&z.jsx("div",{className:"flex justify-center",children:z.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-400"})})]}),z.jsx("div",{className:"p-4 border-t border-purple-500/30",children:z.jsxs("div",{className:"flex gap-2",children:[z.jsx("input",{type:"text",value:a,onChange:v=>y(v.target.value),onKeyPress:v=>v.key==="Enter"&&m(),className:"flex-1 bg-black/50 text-white p-2 rounded-lg border border-purple-500/50",placeholder:"Ask the Cheshire..."}),z.jsx("button",{onClick:m,disabled:S,className:"bg-purple-500/20 p-2 rounded-lg hover:bg-purple-500/30 transition-colors disabled:opacity-50",children:z.jsx(gi,{className:`text-purple-400 ${S?"animate-pulse":""}`})})]})})]})})}):z.jsxs("div",{className:"fixed left-4 top-1/2 -translate-y-1/2 w-80 bg-black/90 rounded-lg border border-purple-500/30 shadow-xl z-50 animate-fade-in p-6 text-center",children:[z.jsx(bi,{className:"w-12 h-12 text-purple-400 mx-auto mb-4"}),z.jsx("h3",{className:"text-xl font-bold text-purple-400 mb-2",children:"Chat Locked"}),z.jsx("p",{className:"text-gray-400",children:"Hold GRIN tokens to chat with the Cheshire Terminal"})]})},Qo=()=>{const t=he.useRef(null);return he.useEffect(()=>{const r=a=>{if(!t.current)return;const{left:y,top:S,width:i,height:T}=t.current.getBoundingClientRect(),d=y+i/2,_=S+T/2,u=(a.clientX-d)/25,m=(a.clientY-_)/25;t.current.style.transform=`translate(${u}px, ${m}px)`};return window.addEventListener("mousemove",r),()=>window.removeEventListener("mousemove",r)},[]),z.jsxs("div",{className:"fixed top-4 left-4 w-24 h-24",children:[z.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 via-green-400 to-purple-600 rounded-full opacity-75 blur-2xl animate-pulse"}),z.jsx("div",{className:"absolute inset-0 bg-purple-500/50 rounded-full animate-ping"}),z.jsx("img",{ref:t,src:qe.images.solanaLogo,alt:"Solana Logo",className:"relative w-full h-full object-contain transition-transform duration-300 ease-out animate-float"})]})};function ea(){const{connecting:t}=fn();return z.jsx("div",{className:"fixed top-4 right-4 z-[100]",style:{zIndex:999},children:t?z.jsxs("div",{className:"bg-purple-500 text-white px-4 py-2 rounded-md flex items-center",children:[z.jsx(hn,{className:"w-4 h-4 animate-spin mr-2"}),"Connecting..."]}):z.jsx(ri,{className:"!bg-purple-500 hover:!bg-purple-600 transition-colors !h-[48px] !px-6 !rounded-md",style:{background:"rgb(168 85 247)",height:"48px",borderRadius:"6px",color:"white",fontSize:"16px",border:"none"}})})}function ta(){return z.jsxs(di,{children:[z.jsx(Ho,{}),z.jsx(ea,{}),z.jsx(Qo,{}),z.jsx("div",{className:"min-h-screen bg-transparent text-white p-8",children:z.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[z.jsxs("div",{className:"text-center mb-12",children:[z.jsx(Go,{}),z.jsx("h1",{className:"text-6xl font-bold bg-gradient-to-r from-purple-500 via-green-400 to-purple-600 text-transparent bg-clip-text mb-4",children:"Cheshire Terminal Meme Generator"}),z.jsx("p",{className:"text-purple-400",children:"Powered by GRIN on Solana"})]}),z.jsx(Bo,{}),z.jsx(Vo,{})]})}),z.jsx(Zo,{}),z.jsx(Yo,{})]})}const kn=document.getElementById("root");if(!kn)throw new Error("Root element not found");cn(kn).render(z.jsx(he.StrictMode,{children:z.jsx(ta,{})}));export{Je as a,Fe as b,tr as c,Ln as d,Mn as e,Be as f,In as g,ji as h,ar as i,Wi as j,Ge as r};
