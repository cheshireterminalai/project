const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TransportWebHID-DeX-8cEK.js","assets/react-vendor-MNm3ExxM.js","assets/index-D975Yvn5.js","assets/index-DHpxlpob.js","assets/index-oT5QDOPo.js","assets/index-zh85Dgfm.js","assets/solanaEmbed.esm-Yya5o9Lh.js","assets/index-tpzHu-dw.js","assets/index-CK158Kyz.css"])))=>i.map(i=>d[i]);
var Yl=Object.defineProperty;var ql=(r,t,e)=>t in r?Yl(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var Ee=(r,t,e)=>ql(r,typeof t!="symbol"?t+"":t,e);import{g as Zo,c as ln,a as Wn,r as et,R as q,b as Vl}from"./react-vendor-MNm3ExxM.js";var mt={},Gi={};Gi.byteLength=Xl;Gi.toByteArray=tf;Gi.fromByteArray=rf;var gn=[],$e=[],Zl=typeof Uint8Array<"u"?Uint8Array:Array,Ds="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var pr=0,Jl=Ds.length;pr<Jl;++pr)gn[pr]=Ds[pr],$e[Ds.charCodeAt(pr)]=pr;$e[45]=62;$e[95]=63;function jc(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function Xl(r){var t=jc(r),e=t[0],n=t[1];return(e+n)*3/4-n}function $l(r,t,e){return(t+e)*3/4-e}function tf(r){var t,e=jc(r),n=e[0],s=e[1],i=new Zl($l(r,n,s)),o=0,a=s>0?n-4:n,c;for(c=0;c<a;c+=4)t=$e[r.charCodeAt(c)]<<18|$e[r.charCodeAt(c+1)]<<12|$e[r.charCodeAt(c+2)]<<6|$e[r.charCodeAt(c+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return s===2&&(t=$e[r.charCodeAt(c)]<<2|$e[r.charCodeAt(c+1)]>>4,i[o++]=t&255),s===1&&(t=$e[r.charCodeAt(c)]<<10|$e[r.charCodeAt(c+1)]<<4|$e[r.charCodeAt(c+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function ef(r){return gn[r>>18&63]+gn[r>>12&63]+gn[r>>6&63]+gn[r&63]}function nf(r,t,e){for(var n,s=[],i=t;i<e;i+=3)n=(r[i]<<16&16711680)+(r[i+1]<<8&65280)+(r[i+2]&255),s.push(ef(n));return s.join("")}function rf(r){for(var t,e=r.length,n=e%3,s=[],i=16383,o=0,a=e-n;o<a;o+=i)s.push(nf(r,o,o+i>a?a:o+i));return n===1?(t=r[e-1],s.push(gn[t>>2]+gn[t<<4&63]+"==")):n===2&&(t=(r[e-2]<<8)+r[e-1],s.push(gn[t>>10]+gn[t>>4&63]+gn[t<<2&63]+"=")),s.join("")}var Jo={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Jo.read=function(r,t,e,n,s){var i,o,a=s*8-n-1,c=(1<<a)-1,d=c>>1,p=-7,m=e?s-1:0,I=e?-1:1,b=r[t+m];for(m+=I,i=b&(1<<-p)-1,b>>=-p,p+=a;p>0;i=i*256+r[t+m],m+=I,p-=8);for(o=i&(1<<-p)-1,i>>=-p,p+=n;p>0;o=o*256+r[t+m],m+=I,p-=8);if(i===0)i=1-d;else{if(i===c)return o?NaN:(b?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-d}return(b?-1:1)*o*Math.pow(2,i-n)};Jo.write=function(r,t,e,n,s,i){var o,a,c,d=i*8-s-1,p=(1<<d)-1,m=p>>1,I=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=n?0:i-1,B=n?1:-1,T=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=p):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+m>=1?t+=I/c:t+=I*Math.pow(2,1-m),t*c>=2&&(o++,c/=2),o+m>=p?(a=0,o=p):o+m>=1?(a=(t*c-1)*Math.pow(2,s),o=o+m):(a=t*Math.pow(2,m-1)*Math.pow(2,s),o=0));s>=8;r[e+b]=a&255,b+=B,a/=256,s-=8);for(o=o<<s|a,d+=s;d>0;r[e+b]=o&255,b+=B,o/=256,d-=8);r[e+b-B]|=T*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const t=Gi,e=Jo,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=a,r.SlowBuffer=O,r.INSPECT_MAX_BYTES=50;const s=2147483647;r.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const A=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(A,l),A.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(A){if(A>s)throw new RangeError('The value "'+A+'" is invalid for option "size"');const l=new Uint8Array(A);return Object.setPrototypeOf(l,a.prototype),l}function a(A,l,h){if(typeof A=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(A)}return c(A,l,h)}a.poolSize=8192;function c(A,l,h){if(typeof A=="string")return I(A,l);if(ArrayBuffer.isView(A))return B(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(xe(A,ArrayBuffer)||A&&xe(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(xe(A,SharedArrayBuffer)||A&&xe(A.buffer,SharedArrayBuffer)))return T(A,l,h);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const x=A.valueOf&&A.valueOf();if(x!=null&&x!==A)return a.from(x,l,h);const U=v(A);if(U)return U;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return a.from(A[Symbol.toPrimitive]("string"),l,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}a.from=function(A,l,h){return c(A,l,h)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function d(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function p(A,l,h){return d(A),A<=0?o(A):l!==void 0?typeof h=="string"?o(A).fill(l,h):o(A).fill(l):o(A)}a.alloc=function(A,l,h){return p(A,l,h)};function m(A){return d(A),o(A<0?0:k(A)|0)}a.allocUnsafe=function(A){return m(A)},a.allocUnsafeSlow=function(A){return m(A)};function I(A,l){if((typeof l!="string"||l==="")&&(l="utf8"),!a.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const h=S(A,l)|0;let x=o(h);const U=x.write(A,l);return U!==h&&(x=x.slice(0,U)),x}function b(A){const l=A.length<0?0:k(A.length)|0,h=o(l);for(let x=0;x<l;x+=1)h[x]=A[x]&255;return h}function B(A){if(xe(A,Uint8Array)){const l=new Uint8Array(A);return T(l.buffer,l.byteOffset,l.byteLength)}return b(A)}function T(A,l,h){if(l<0||A.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<l+(h||0))throw new RangeError('"length" is outside of buffer bounds');let x;return l===void 0&&h===void 0?x=new Uint8Array(A):h===void 0?x=new Uint8Array(A,l):x=new Uint8Array(A,l,h),Object.setPrototypeOf(x,a.prototype),x}function v(A){if(a.isBuffer(A)){const l=k(A.length)|0,h=o(l);return h.length===0||A.copy(h,0,0,l),h}if(A.length!==void 0)return typeof A.length!="number"||Ot(A.length)?o(0):b(A);if(A.type==="Buffer"&&Array.isArray(A.data))return b(A.data)}function k(A){if(A>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return A|0}function O(A){return+A!=A&&(A=0),a.alloc(+A)}a.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==a.prototype},a.compare=function(l,h){if(xe(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),xe(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(l)||!a.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===h)return 0;let x=l.length,U=h.length;for(let z=0,Q=Math.min(x,U);z<Q;++z)if(l[z]!==h[z]){x=l[z],U=h[z];break}return x<U?-1:U<x?1:0},a.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(l,h){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return a.alloc(0);let x;if(h===void 0)for(h=0,x=0;x<l.length;++x)h+=l[x].length;const U=a.allocUnsafe(h);let z=0;for(x=0;x<l.length;++x){let Q=l[x];if(xe(Q,Uint8Array))z+Q.length>U.length?(a.isBuffer(Q)||(Q=a.from(Q)),Q.copy(U,z)):Uint8Array.prototype.set.call(U,Q,z);else if(a.isBuffer(Q))Q.copy(U,z);else throw new TypeError('"list" argument must be an Array of Buffers');z+=Q.length}return U};function S(A,l){if(a.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||xe(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const h=A.length,x=arguments.length>2&&arguments[2]===!0;if(!x&&h===0)return 0;let U=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return Pt(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return Ut(A).length;default:if(U)return x?-1:Pt(A).length;l=(""+l).toLowerCase(),U=!0}}a.byteLength=S;function L(A,l,h){let x=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,l>>>=0,h<=l))return"";for(A||(A="utf8");;)switch(A){case"hex":return N(this,l,h);case"utf8":case"utf-8":return u(this,l,h);case"ascii":return y(this,l,h);case"latin1":case"binary":return E(this,l,h);case"base64":return C(this,l,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,l,h);default:if(x)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),x=!0}}a.prototype._isBuffer=!0;function D(A,l,h){const x=A[l];A[l]=A[h],A[h]=x}a.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<l;h+=2)D(this,h,h+1);return this},a.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<l;h+=4)D(this,h,h+3),D(this,h+1,h+2);return this},a.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<l;h+=8)D(this,h,h+7),D(this,h+1,h+6),D(this,h+2,h+5),D(this,h+3,h+4);return this},a.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?u(this,0,l):L.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(l){if(!a.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:a.compare(this,l)===0},a.prototype.inspect=function(){let l="";const h=r.INSPECT_MAX_BYTES;return l=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(l+=" ... "),"<Buffer "+l+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(l,h,x,U,z){if(xe(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(h===void 0&&(h=0),x===void 0&&(x=l?l.length:0),U===void 0&&(U=0),z===void 0&&(z=this.length),h<0||x>l.length||U<0||z>this.length)throw new RangeError("out of range index");if(U>=z&&h>=x)return 0;if(U>=z)return-1;if(h>=x)return 1;if(h>>>=0,x>>>=0,U>>>=0,z>>>=0,this===l)return 0;let Q=z-U,At=x-h;const yt=Math.min(Q,At),wt=this.slice(U,z),Wt=l.slice(h,x);for(let gt=0;gt<yt;++gt)if(wt[gt]!==Wt[gt]){Q=wt[gt],At=Wt[gt];break}return Q<At?-1:At<Q?1:0};function R(A,l,h,x,U){if(A.length===0)return-1;if(typeof h=="string"?(x=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,Ot(h)&&(h=U?0:A.length-1),h<0&&(h=A.length+h),h>=A.length){if(U)return-1;h=A.length-1}else if(h<0)if(U)h=0;else return-1;if(typeof l=="string"&&(l=a.from(l,x)),a.isBuffer(l))return l.length===0?-1:j(A,l,h,x,U);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?U?Uint8Array.prototype.indexOf.call(A,l,h):Uint8Array.prototype.lastIndexOf.call(A,l,h):j(A,[l],h,x,U);throw new TypeError("val must be string, number or Buffer")}function j(A,l,h,x,U){let z=1,Q=A.length,At=l.length;if(x!==void 0&&(x=String(x).toLowerCase(),x==="ucs2"||x==="ucs-2"||x==="utf16le"||x==="utf-16le")){if(A.length<2||l.length<2)return-1;z=2,Q/=2,At/=2,h/=2}function yt(Wt,gt){return z===1?Wt[gt]:Wt.readUInt16BE(gt*z)}let wt;if(U){let Wt=-1;for(wt=h;wt<Q;wt++)if(yt(A,wt)===yt(l,Wt===-1?0:wt-Wt)){if(Wt===-1&&(Wt=wt),wt-Wt+1===At)return Wt*z}else Wt!==-1&&(wt-=wt-Wt),Wt=-1}else for(h+At>Q&&(h=Q-At),wt=h;wt>=0;wt--){let Wt=!0;for(let gt=0;gt<At;gt++)if(yt(A,wt+gt)!==yt(l,gt)){Wt=!1;break}if(Wt)return wt}return-1}a.prototype.includes=function(l,h,x){return this.indexOf(l,h,x)!==-1},a.prototype.indexOf=function(l,h,x){return R(this,l,h,x,!0)},a.prototype.lastIndexOf=function(l,h,x){return R(this,l,h,x,!1)};function H(A,l,h,x){h=Number(h)||0;const U=A.length-h;x?(x=Number(x),x>U&&(x=U)):x=U;const z=l.length;x>z/2&&(x=z/2);let Q;for(Q=0;Q<x;++Q){const At=parseInt(l.substr(Q*2,2),16);if(Ot(At))return Q;A[h+Q]=At}return Q}function K(A,l,h,x){return Rt(Pt(l,A.length-h),A,h,x)}function Z(A,l,h,x){return Rt(Qt(l),A,h,x)}function X(A,l,h,x){return Rt(Ut(l),A,h,x)}function ot(A,l,h,x){return Rt(gr(l,A.length-h),A,h,x)}a.prototype.write=function(l,h,x,U){if(h===void 0)U="utf8",x=this.length,h=0;else if(x===void 0&&typeof h=="string")U=h,x=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(x)?(x=x>>>0,U===void 0&&(U="utf8")):(U=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const z=this.length-h;if((x===void 0||x>z)&&(x=z),l.length>0&&(x<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");let Q=!1;for(;;)switch(U){case"hex":return H(this,l,h,x);case"utf8":case"utf-8":return K(this,l,h,x);case"ascii":case"latin1":case"binary":return Z(this,l,h,x);case"base64":return X(this,l,h,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ot(this,l,h,x);default:if(Q)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase(),Q=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(A,l,h){return l===0&&h===A.length?t.fromByteArray(A):t.fromByteArray(A.slice(l,h))}function u(A,l,h){h=Math.min(A.length,h);const x=[];let U=l;for(;U<h;){const z=A[U];let Q=null,At=z>239?4:z>223?3:z>191?2:1;if(U+At<=h){let yt,wt,Wt,gt;switch(At){case 1:z<128&&(Q=z);break;case 2:yt=A[U+1],(yt&192)===128&&(gt=(z&31)<<6|yt&63,gt>127&&(Q=gt));break;case 3:yt=A[U+1],wt=A[U+2],(yt&192)===128&&(wt&192)===128&&(gt=(z&15)<<12|(yt&63)<<6|wt&63,gt>2047&&(gt<55296||gt>57343)&&(Q=gt));break;case 4:yt=A[U+1],wt=A[U+2],Wt=A[U+3],(yt&192)===128&&(wt&192)===128&&(Wt&192)===128&&(gt=(z&15)<<18|(yt&63)<<12|(wt&63)<<6|Wt&63,gt>65535&&gt<1114112&&(Q=gt))}}Q===null?(Q=65533,At=1):Q>65535&&(Q-=65536,x.push(Q>>>10&1023|55296),Q=56320|Q&1023),x.push(Q),U+=At}return w(x)}const g=4096;function w(A){const l=A.length;if(l<=g)return String.fromCharCode.apply(String,A);let h="",x=0;for(;x<l;)h+=String.fromCharCode.apply(String,A.slice(x,x+=g));return h}function y(A,l,h){let x="";h=Math.min(A.length,h);for(let U=l;U<h;++U)x+=String.fromCharCode(A[U]&127);return x}function E(A,l,h){let x="";h=Math.min(A.length,h);for(let U=l;U<h;++U)x+=String.fromCharCode(A[U]);return x}function N(A,l,h){const x=A.length;(!l||l<0)&&(l=0),(!h||h<0||h>x)&&(h=x);let U="";for(let z=l;z<h;++z)U+=zt[A[z]];return U}function P(A,l,h){const x=A.slice(l,h);let U="";for(let z=0;z<x.length-1;z+=2)U+=String.fromCharCode(x[z]+x[z+1]*256);return U}a.prototype.slice=function(l,h){const x=this.length;l=~~l,h=h===void 0?x:~~h,l<0?(l+=x,l<0&&(l=0)):l>x&&(l=x),h<0?(h+=x,h<0&&(h=0)):h>x&&(h=x),h<l&&(h=l);const U=this.subarray(l,h);return Object.setPrototypeOf(U,a.prototype),U};function M(A,l,h){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+l>h)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(l,h,x){l=l>>>0,h=h>>>0,x||M(l,h,this.length);let U=this[l],z=1,Q=0;for(;++Q<h&&(z*=256);)U+=this[l+Q]*z;return U},a.prototype.readUintBE=a.prototype.readUIntBE=function(l,h,x){l=l>>>0,h=h>>>0,x||M(l,h,this.length);let U=this[l+--h],z=1;for(;h>0&&(z*=256);)U+=this[l+--h]*z;return U},a.prototype.readUint8=a.prototype.readUInt8=function(l,h){return l=l>>>0,h||M(l,1,this.length),this[l]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(l,h){return l=l>>>0,h||M(l,2,this.length),this[l]|this[l+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(l,h){return l=l>>>0,h||M(l,2,this.length),this[l]<<8|this[l+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(l,h){return l=l>>>0,h||M(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(l,h){return l=l>>>0,h||M(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},a.prototype.readBigUInt64LE=ze(function(l){l=l>>>0,te(l,"offset");const h=this[l],x=this[l+7];(h===void 0||x===void 0)&&Bt(l,this.length-8);const U=h+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,z=this[++l]+this[++l]*2**8+this[++l]*2**16+x*2**24;return BigInt(U)+(BigInt(z)<<BigInt(32))}),a.prototype.readBigUInt64BE=ze(function(l){l=l>>>0,te(l,"offset");const h=this[l],x=this[l+7];(h===void 0||x===void 0)&&Bt(l,this.length-8);const U=h*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],z=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+x;return(BigInt(U)<<BigInt(32))+BigInt(z)}),a.prototype.readIntLE=function(l,h,x){l=l>>>0,h=h>>>0,x||M(l,h,this.length);let U=this[l],z=1,Q=0;for(;++Q<h&&(z*=256);)U+=this[l+Q]*z;return z*=128,U>=z&&(U-=Math.pow(2,8*h)),U},a.prototype.readIntBE=function(l,h,x){l=l>>>0,h=h>>>0,x||M(l,h,this.length);let U=h,z=1,Q=this[l+--U];for(;U>0&&(z*=256);)Q+=this[l+--U]*z;return z*=128,Q>=z&&(Q-=Math.pow(2,8*h)),Q},a.prototype.readInt8=function(l,h){return l=l>>>0,h||M(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},a.prototype.readInt16LE=function(l,h){l=l>>>0,h||M(l,2,this.length);const x=this[l]|this[l+1]<<8;return x&32768?x|4294901760:x},a.prototype.readInt16BE=function(l,h){l=l>>>0,h||M(l,2,this.length);const x=this[l+1]|this[l]<<8;return x&32768?x|4294901760:x},a.prototype.readInt32LE=function(l,h){return l=l>>>0,h||M(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},a.prototype.readInt32BE=function(l,h){return l=l>>>0,h||M(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},a.prototype.readBigInt64LE=ze(function(l){l=l>>>0,te(l,"offset");const h=this[l],x=this[l+7];(h===void 0||x===void 0)&&Bt(l,this.length-8);const U=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(x<<24);return(BigInt(U)<<BigInt(32))+BigInt(h+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),a.prototype.readBigInt64BE=ze(function(l){l=l>>>0,te(l,"offset");const h=this[l],x=this[l+7];(h===void 0||x===void 0)&&Bt(l,this.length-8);const U=(h<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(U)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+x)}),a.prototype.readFloatLE=function(l,h){return l=l>>>0,h||M(l,4,this.length),e.read(this,l,!0,23,4)},a.prototype.readFloatBE=function(l,h){return l=l>>>0,h||M(l,4,this.length),e.read(this,l,!1,23,4)},a.prototype.readDoubleLE=function(l,h){return l=l>>>0,h||M(l,8,this.length),e.read(this,l,!0,52,8)},a.prototype.readDoubleBE=function(l,h){return l=l>>>0,h||M(l,8,this.length),e.read(this,l,!1,52,8)};function f(A,l,h,x,U,z){if(!a.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>U||l<z)throw new RangeError('"value" argument is out of bounds');if(h+x>A.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(l,h,x,U){if(l=+l,h=h>>>0,x=x>>>0,!U){const At=Math.pow(2,8*x)-1;f(this,l,h,x,At,0)}let z=1,Q=0;for(this[h]=l&255;++Q<x&&(z*=256);)this[h+Q]=l/z&255;return h+x},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(l,h,x,U){if(l=+l,h=h>>>0,x=x>>>0,!U){const At=Math.pow(2,8*x)-1;f(this,l,h,x,At,0)}let z=x-1,Q=1;for(this[h+z]=l&255;--z>=0&&(Q*=256);)this[h+z]=l/Q&255;return h+x},a.prototype.writeUint8=a.prototype.writeUInt8=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,1,255,0),this[h]=l&255,h+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,2,65535,0),this[h]=l&255,this[h+1]=l>>>8,h+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,2,65535,0),this[h]=l>>>8,this[h+1]=l&255,h+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,4,4294967295,0),this[h+3]=l>>>24,this[h+2]=l>>>16,this[h+1]=l>>>8,this[h]=l&255,h+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,4,4294967295,0),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4};function _(A,l,h,x,U){Et(l,x,U,A,h,7);let z=Number(l&BigInt(4294967295));A[h++]=z,z=z>>8,A[h++]=z,z=z>>8,A[h++]=z,z=z>>8,A[h++]=z;let Q=Number(l>>BigInt(32)&BigInt(4294967295));return A[h++]=Q,Q=Q>>8,A[h++]=Q,Q=Q>>8,A[h++]=Q,Q=Q>>8,A[h++]=Q,h}function V(A,l,h,x,U){Et(l,x,U,A,h,7);let z=Number(l&BigInt(4294967295));A[h+7]=z,z=z>>8,A[h+6]=z,z=z>>8,A[h+5]=z,z=z>>8,A[h+4]=z;let Q=Number(l>>BigInt(32)&BigInt(4294967295));return A[h+3]=Q,Q=Q>>8,A[h+2]=Q,Q=Q>>8,A[h+1]=Q,Q=Q>>8,A[h]=Q,h+8}a.prototype.writeBigUInt64LE=ze(function(l,h=0){return _(this,l,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ze(function(l,h=0){return V(this,l,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(l,h,x,U){if(l=+l,h=h>>>0,!U){const yt=Math.pow(2,8*x-1);f(this,l,h,x,yt-1,-yt)}let z=0,Q=1,At=0;for(this[h]=l&255;++z<x&&(Q*=256);)l<0&&At===0&&this[h+z-1]!==0&&(At=1),this[h+z]=(l/Q>>0)-At&255;return h+x},a.prototype.writeIntBE=function(l,h,x,U){if(l=+l,h=h>>>0,!U){const yt=Math.pow(2,8*x-1);f(this,l,h,x,yt-1,-yt)}let z=x-1,Q=1,At=0;for(this[h+z]=l&255;--z>=0&&(Q*=256);)l<0&&At===0&&this[h+z+1]!==0&&(At=1),this[h+z]=(l/Q>>0)-At&255;return h+x},a.prototype.writeInt8=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,1,127,-128),l<0&&(l=255+l+1),this[h]=l&255,h+1},a.prototype.writeInt16LE=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,2,32767,-32768),this[h]=l&255,this[h+1]=l>>>8,h+2},a.prototype.writeInt16BE=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,2,32767,-32768),this[h]=l>>>8,this[h+1]=l&255,h+2},a.prototype.writeInt32LE=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,4,2147483647,-2147483648),this[h]=l&255,this[h+1]=l>>>8,this[h+2]=l>>>16,this[h+3]=l>>>24,h+4},a.prototype.writeInt32BE=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4},a.prototype.writeBigInt64LE=ze(function(l,h=0){return _(this,l,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ze(function(l,h=0){return V(this,l,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $(A,l,h,x,U,z){if(h+x>A.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function rt(A,l,h,x,U){return l=+l,h=h>>>0,U||$(A,l,h,4),e.write(A,l,h,x,23,4),h+4}a.prototype.writeFloatLE=function(l,h,x){return rt(this,l,h,!0,x)},a.prototype.writeFloatBE=function(l,h,x){return rt(this,l,h,!1,x)};function Mt(A,l,h,x,U){return l=+l,h=h>>>0,U||$(A,l,h,8),e.write(A,l,h,x,52,8),h+8}a.prototype.writeDoubleLE=function(l,h,x){return Mt(this,l,h,!0,x)},a.prototype.writeDoubleBE=function(l,h,x){return Mt(this,l,h,!1,x)},a.prototype.copy=function(l,h,x,U){if(!a.isBuffer(l))throw new TypeError("argument should be a Buffer");if(x||(x=0),!U&&U!==0&&(U=this.length),h>=l.length&&(h=l.length),h||(h=0),U>0&&U<x&&(U=x),U===x||l.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length),l.length-h<U-x&&(U=l.length-h+x);const z=U-x;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,x,U):Uint8Array.prototype.set.call(l,this.subarray(x,U),h),z},a.prototype.fill=function(l,h,x,U){if(typeof l=="string"){if(typeof h=="string"?(U=h,h=0,x=this.length):typeof x=="string"&&(U=x,x=this.length),U!==void 0&&typeof U!="string")throw new TypeError("encoding must be a string");if(typeof U=="string"&&!a.isEncoding(U))throw new TypeError("Unknown encoding: "+U);if(l.length===1){const Q=l.charCodeAt(0);(U==="utf8"&&Q<128||U==="latin1")&&(l=Q)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(h<0||this.length<h||this.length<x)throw new RangeError("Out of range index");if(x<=h)return this;h=h>>>0,x=x===void 0?this.length:x>>>0,l||(l=0);let z;if(typeof l=="number")for(z=h;z<x;++z)this[z]=l;else{const Q=a.isBuffer(l)?l:a.from(l,U),At=Q.length;if(At===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(z=0;z<x-h;++z)this[z+h]=Q[z%At]}return this};const dt={};function pt(A,l,h){dt[A]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(U){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:U,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}pt("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pt("ERR_INVALID_ARG_TYPE",function(A,l){return`The "${A}" argument must be of type number. Received type ${typeof l}`},TypeError),pt("ERR_OUT_OF_RANGE",function(A,l,h){let x=`The value of "${A}" is out of range.`,U=h;return Number.isInteger(h)&&Math.abs(h)>2**32?U=Jt(String(h)):typeof h=="bigint"&&(U=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(U=Jt(U)),U+="n"),x+=` It must be ${l}. Received ${U}`,x},RangeError);function Jt(A){let l="",h=A.length;const x=A[0]==="-"?1:0;for(;h>=x+4;h-=3)l=`_${A.slice(h-3,h)}${l}`;return`${A.slice(0,h)}${l}`}function St(A,l,h){te(l,"offset"),(A[l]===void 0||A[l+h]===void 0)&&Bt(l,A.length-(h+1))}function Et(A,l,h,x,U,z){if(A>h||A<l){const Q=typeof l=="bigint"?"n":"";let At;throw l===0||l===BigInt(0)?At=`>= 0${Q} and < 2${Q} ** ${(z+1)*8}${Q}`:At=`>= -(2${Q} ** ${(z+1)*8-1}${Q}) and < 2 ** ${(z+1)*8-1}${Q}`,new dt.ERR_OUT_OF_RANGE("value",At,A)}St(x,U,z)}function te(A,l){if(typeof A!="number")throw new dt.ERR_INVALID_ARG_TYPE(l,"number",A)}function Bt(A,l,h){throw Math.floor(A)!==A?(te(A,h),new dt.ERR_OUT_OF_RANGE("offset","an integer",A)):l<0?new dt.ERR_BUFFER_OUT_OF_BOUNDS:new dt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${l}`,A)}const _t=/[^+/0-9A-Za-z-_]/g;function dr(A){if(A=A.split("=")[0],A=A.trim().replace(_t,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function Pt(A,l){l=l||1/0;let h;const x=A.length;let U=null;const z=[];for(let Q=0;Q<x;++Q){if(h=A.charCodeAt(Q),h>55295&&h<57344){if(!U){if(h>56319){(l-=3)>-1&&z.push(239,191,189);continue}else if(Q+1===x){(l-=3)>-1&&z.push(239,191,189);continue}U=h;continue}if(h<56320){(l-=3)>-1&&z.push(239,191,189),U=h;continue}h=(U-55296<<10|h-56320)+65536}else U&&(l-=3)>-1&&z.push(239,191,189);if(U=null,h<128){if((l-=1)<0)break;z.push(h)}else if(h<2048){if((l-=2)<0)break;z.push(h>>6|192,h&63|128)}else if(h<65536){if((l-=3)<0)break;z.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((l-=4)<0)break;z.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return z}function Qt(A){const l=[];for(let h=0;h<A.length;++h)l.push(A.charCodeAt(h)&255);return l}function gr(A,l){let h,x,U;const z=[];for(let Q=0;Q<A.length&&!((l-=2)<0);++Q)h=A.charCodeAt(Q),x=h>>8,U=h%256,z.push(U),z.push(x);return z}function Ut(A){return t.toByteArray(dr(A))}function Rt(A,l,h,x){let U;for(U=0;U<x&&!(U+h>=l.length||U>=A.length);++U)l[U+h]=A[U];return U}function xe(A,l){return A instanceof l||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===l.name}function Ot(A){return A!==A}const zt=function(){const A="0123456789abcdef",l=new Array(256);for(let h=0;h<16;++h){const x=h*16;for(let U=0;U<16;++U)l[x+U]=A[h]+A[U]}return l}();function ze(A){return typeof BigInt>"u"?Ft:A}function Ft(){throw new Error("BigInt not supported")}})(mt);function Wa(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function sf(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function Ki(r,...t){if(!sf(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error("Uint8Array expected of length "+t+", got length="+r.length)}function of(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Wa(r.outputLen),Wa(r.blockLen)}function Ni(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function af(r,t){Ki(r);const e=t.outputLen;if(r.length<e)throw new Error("digestInto() expects output buffer of length at least "+e)}const wr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ks=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),dn=(r,t)=>r<<32-t|r>>>t;function cf(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function Xo(r){return typeof r=="string"&&(r=cf(r)),Ki(r),r}function uf(...r){let t=0;for(let n=0;n<r.length;n++){const s=r[n];Ki(s),t+=s.length}const e=new Uint8Array(t);for(let n=0,s=0;n<r.length;n++){const i=r[n];e.set(i,s),s+=i.length}return e}class zc{clone(){return this._cloneInto()}}function Fc(r){const t=n=>r().update(Xo(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function Wc(r=32){if(wr&&typeof wr.getRandomValues=="function")return wr.getRandomValues(new Uint8Array(r));if(wr&&typeof wr.randomBytes=="function")return wr.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}function lf(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(e>>s&i),a=Number(e&i),c=n?4:0,d=n?0:4;r.setUint32(t+c,o,n),r.setUint32(t+d,a,n)}const ff=(r,t,e)=>r&t^~r&e,hf=(r,t,e)=>r&t^r&e^t&e;class Hc extends zc{constructor(t,e,n,s){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ks(this.buffer)}update(t){Ni(this);const{view:e,buffer:n,blockLen:s}=this;t=Xo(t);const i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=ks(t);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ni(this),af(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let m=o;m<s;m++)e[m]=0;lf(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=ks(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=c/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<d;m++)a.setUint32(4*m,p[m],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return t.length=s,t.pos=a,t.finished=i,t.destroyed=o,s%e&&t.buffer.set(n),t}}const li=BigInt(2**32-1),wo=BigInt(32);function Qc(r,t=!1){return t?{h:Number(r&li),l:Number(r>>wo&li)}:{h:Number(r>>wo&li)|0,l:Number(r&li)|0}}function df(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let s=0;s<r.length;s++){const{h:i,l:o}=Qc(r[s],t);[e[s],n[s]]=[i,o]}return[e,n]}const gf=(r,t)=>BigInt(r>>>0)<<wo|BigInt(t>>>0),pf=(r,t,e)=>r>>>e,wf=(r,t,e)=>r<<32-e|t>>>e,yf=(r,t,e)=>r>>>e|t<<32-e,mf=(r,t,e)=>r<<32-e|t>>>e,Af=(r,t,e)=>r<<64-e|t>>>e-32,bf=(r,t,e)=>r>>>e-32|t<<64-e,vf=(r,t)=>t,Ef=(r,t)=>r,Mf=(r,t,e)=>r<<e|t>>>32-e,Sf=(r,t,e)=>t<<e|r>>>32-e,If=(r,t,e)=>t<<e-32|r>>>64-e,xf=(r,t,e)=>r<<e-32|t>>>64-e;function Bf(r,t,e,n){const s=(t>>>0)+(n>>>0);return{h:r+e+(s/2**32|0)|0,l:s|0}}const _f=(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),Tf=(r,t,e,n)=>t+e+n+(r/2**32|0)|0,Cf=(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),Nf=(r,t,e,n,s)=>t+e+n+s+(r/2**32|0)|0,Lf=(r,t,e,n,s)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0),Df=(r,t,e,n,s,i)=>t+e+n+s+i+(r/2**32|0)|0,bt={fromBig:Qc,split:df,toBig:gf,shrSH:pf,shrSL:wf,rotrSH:yf,rotrSL:mf,rotrBH:Af,rotrBL:bf,rotr32H:vf,rotr32L:Ef,rotlSH:Mf,rotlSL:Sf,rotlBH:If,rotlBL:xf,add:Bf,add3L:_f,add3H:Tf,add4L:Cf,add4H:Nf,add5H:Df,add5L:Lf},[kf,Rf]=bt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Nn=new Uint32Array(80),Ln=new Uint32Array(80);class Of extends Hc{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:d,El:p,Fh:m,Fl:I,Gh:b,Gl:B,Hh:T,Hl:v}=this;return[t,e,n,s,i,o,a,c,d,p,m,I,b,B,T,v]}set(t,e,n,s,i,o,a,c,d,p,m,I,b,B,T,v){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=d|0,this.El=p|0,this.Fh=m|0,this.Fl=I|0,this.Gh=b|0,this.Gl=B|0,this.Hh=T|0,this.Hl=v|0}process(t,e){for(let S=0;S<16;S++,e+=4)Nn[S]=t.getUint32(e),Ln[S]=t.getUint32(e+=4);for(let S=16;S<80;S++){const L=Nn[S-15]|0,D=Ln[S-15]|0,R=bt.rotrSH(L,D,1)^bt.rotrSH(L,D,8)^bt.shrSH(L,D,7),j=bt.rotrSL(L,D,1)^bt.rotrSL(L,D,8)^bt.shrSL(L,D,7),H=Nn[S-2]|0,K=Ln[S-2]|0,Z=bt.rotrSH(H,K,19)^bt.rotrBH(H,K,61)^bt.shrSH(H,K,6),X=bt.rotrSL(H,K,19)^bt.rotrBL(H,K,61)^bt.shrSL(H,K,6),ot=bt.add4L(j,X,Ln[S-7],Ln[S-16]),C=bt.add4H(ot,R,Z,Nn[S-7],Nn[S-16]);Nn[S]=C|0,Ln[S]=ot|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:d,Dl:p,Eh:m,El:I,Fh:b,Fl:B,Gh:T,Gl:v,Hh:k,Hl:O}=this;for(let S=0;S<80;S++){const L=bt.rotrSH(m,I,14)^bt.rotrSH(m,I,18)^bt.rotrBH(m,I,41),D=bt.rotrSL(m,I,14)^bt.rotrSL(m,I,18)^bt.rotrBL(m,I,41),R=m&b^~m&T,j=I&B^~I&v,H=bt.add5L(O,D,j,Rf[S],Ln[S]),K=bt.add5H(H,k,L,R,kf[S],Nn[S]),Z=H|0,X=bt.rotrSH(n,s,28)^bt.rotrBH(n,s,34)^bt.rotrBH(n,s,39),ot=bt.rotrSL(n,s,28)^bt.rotrBL(n,s,34)^bt.rotrBL(n,s,39),C=n&i^n&a^i&a,u=s&o^s&c^o&c;k=T|0,O=v|0,T=b|0,v=B|0,b=m|0,B=I|0,{h:m,l:I}=bt.add(d|0,p|0,K|0,Z|0),d=a|0,p=c|0,a=i|0,c=o|0,i=n|0,o=s|0;const g=bt.add3L(Z,ot,u);n=bt.add3H(g,K,X,C),s=g|0}({h:n,l:s}=bt.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=bt.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=bt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:d,l:p}=bt.add(this.Dh|0,this.Dl|0,d|0,p|0),{h:m,l:I}=bt.add(this.Eh|0,this.El|0,m|0,I|0),{h:b,l:B}=bt.add(this.Fh|0,this.Fl|0,b|0,B|0),{h:T,l:v}=bt.add(this.Gh|0,this.Gl|0,T|0,v|0),{h:k,l:O}=bt.add(this.Hh|0,this.Hl|0,k|0,O|0),this.set(n,s,i,o,a,c,d,p,m,I,b,B,T,v,k,O)}roundClean(){Nn.fill(0),Ln.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Pf=Fc(()=>new Of);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yi=BigInt(0),qi=BigInt(1),Uf=BigInt(2);function ir(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function ni(r){if(!ir(r))throw new Error("Uint8Array expected")}function Bn(r,t){if(typeof t!="boolean")throw new Error(r+" boolean expected, got "+t)}const jf=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function sr(r){ni(r);let t="";for(let e=0;e<r.length;e++)t+=jf[r[e]];return t}function br(r){const t=r.toString(16);return t.length&1?"0"+t:t}function $o(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?Yi:BigInt("0x"+r)}const vn={_0:48,_9:57,A:65,F:70,a:97,f:102};function Ha(r){if(r>=vn._0&&r<=vn._9)return r-vn._0;if(r>=vn.A&&r<=vn.F)return r-(vn.A-10);if(r>=vn.a&&r<=vn.f)return r-(vn.a-10)}function Br(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const t=r.length,e=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(e);for(let s=0,i=0;s<e;s++,i+=2){const o=Ha(r.charCodeAt(i)),a=Ha(r.charCodeAt(i+1));if(o===void 0||a===void 0){const c=r[i]+r[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function er(r){return $o(sr(r))}function Sr(r){return ni(r),$o(sr(Uint8Array.from(r).reverse()))}function _r(r,t){return Br(r.toString(16).padStart(t*2,"0"))}function qr(r,t){return _r(r,t).reverse()}function zf(r){return Br(br(r))}function Ae(r,t,e){let n;if(typeof t=="string")try{n=Br(t)}catch(i){throw new Error(r+" must be hex string or Uint8Array, cause: "+i)}else if(ir(t))n=Uint8Array.from(t);else throw new Error(r+" must be hex string or Uint8Array");const s=n.length;if(typeof e=="number"&&s!==e)throw new Error(r+" of length "+e+" expected, got "+s);return n}function or(...r){let t=0;for(let n=0;n<r.length;n++){const s=r[n];ni(s),t+=s.length}const e=new Uint8Array(t);for(let n=0,s=0;n<r.length;n++){const i=r[n];e.set(i,s),s+=i.length}return e}function Ff(r,t){if(r.length!==t.length)return!1;let e=0;for(let n=0;n<r.length;n++)e|=r[n]^t[n];return e===0}function Wf(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}const Rs=r=>typeof r=="bigint"&&Yi<=r;function Vi(r,t,e){return Rs(r)&&Rs(t)&&Rs(e)&&t<=r&&r<e}function en(r,t,e,n){if(!Vi(t,e,n))throw new Error("expected valid "+r+": "+e+" <= n < "+n+", got "+t)}function Gc(r){let t;for(t=0;r>Yi;r>>=qi,t+=1);return t}function Hf(r,t){return r>>BigInt(t)&qi}function Qf(r,t,e){return r|(e?qi:Yi)<<BigInt(t)}const ta=r=>(Uf<<BigInt(r-1))-qi,Os=r=>new Uint8Array(r),Qa=r=>Uint8Array.from(r);function Kc(r,t,e){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let n=Os(r),s=Os(r),i=0;const o=()=>{n.fill(1),s.fill(0),i=0},a=(...m)=>e(s,n,...m),c=(m=Os())=>{s=a(Qa([0]),m),n=a(),m.length!==0&&(s=a(Qa([1]),m),n=a())},d=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const I=[];for(;m<t;){n=a();const b=n.slice();I.push(b),m+=n.length}return or(...I)};return(m,I)=>{o(),c(m);let b;for(;!(b=I(d()));)c();return o(),b}}const Gf={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||ir(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Or(r,t,e={}){const n=(s,i,o)=>{const a=Gf[i];if(typeof a!="function")throw new Error("invalid validator function");const c=r[s];if(!(o&&c===void 0)&&!a(c,r))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(t))n(s,i,!1);for(const[s,i]of Object.entries(e))n(s,i,!0);return r}const Kf=()=>{throw new Error("not implemented")};function Vr(r){const t=new WeakMap;return(e,...n)=>{const s=t.get(e);if(s!==void 0)return s;const i=r(e,...n);return t.set(e,i),i}}const Yf=Object.freeze(Object.defineProperty({__proto__:null,aInRange:en,abool:Bn,abytes:ni,bitGet:Hf,bitLen:Gc,bitMask:ta,bitSet:Qf,bytesToHex:sr,bytesToNumberBE:er,bytesToNumberLE:Sr,concatBytes:or,createHmacDrbg:Kc,ensureBytes:Ae,equalBytes:Ff,hexToBytes:Br,hexToNumber:$o,inRange:Vi,isBytes:ir,memoized:Vr,notImplemented:Kf,numberToBytesBE:_r,numberToBytesLE:qr,numberToHexUnpadded:br,numberToVarBytesBE:zf,utf8ToBytes:Wf,validateObject:Or},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ie=BigInt(0),Vt=BigInt(1),qn=BigInt(2),qf=BigInt(3),yo=BigInt(4),Ga=BigInt(5),Ka=BigInt(8);function Kt(r,t){const e=r%t;return e>=Ie?e:t+e}function Vf(r,t,e){if(t<Ie)throw new Error("invalid exponent, negatives unsupported");if(e<=Ie)throw new Error("invalid modulus");if(e===Vt)return Ie;let n=Vt;for(;t>Ie;)t&Vt&&(n=n*r%e),r=r*r%e,t>>=Vt;return n}function Xt(r,t,e){let n=r;for(;t-- >Ie;)n*=n,n%=e;return n}function mo(r,t){if(r===Ie)throw new Error("invert: expected non-zero number");if(t<=Ie)throw new Error("invert: expected positive modulus, got "+t);let e=Kt(r,t),n=t,s=Ie,i=Vt;for(;e!==Ie;){const a=n/e,c=n%e,d=s-i*a;n=e,e=c,s=i,i=d}if(n!==Vt)throw new Error("invert: does not exist");return Kt(s,t)}function Zf(r){const t=(r-Vt)/qn;let e,n,s;for(e=r-Vt,n=0;e%qn===Ie;e/=qn,n++);for(s=qn;s<r&&Vf(s,t,r)!==r-Vt;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(r+Vt)/yo;return function(c,d){const p=c.pow(d,o);if(!c.eql(c.sqr(p),d))throw new Error("Cannot find square root");return p}}const i=(e+Vt)/qn;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let d=n,p=a.pow(a.mul(a.ONE,s),e),m=a.pow(c,i),I=a.pow(c,e);for(;!a.eql(I,a.ONE);){if(a.eql(I,a.ZERO))return a.ZERO;let b=1;for(let T=a.sqr(I);b<d&&!a.eql(T,a.ONE);b++)T=a.sqr(T);const B=a.pow(p,Vt<<BigInt(d-b-1));p=a.sqr(B),m=a.mul(m,B),I=a.mul(I,p),d=b}return m}}function Jf(r){if(r%yo===qf){const t=(r+Vt)/yo;return function(n,s){const i=n.pow(s,t);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(r%Ka===Ga){const t=(r-Ga)/Ka;return function(n,s){const i=n.mul(s,qn),o=n.pow(i,t),a=n.mul(s,o),c=n.mul(n.mul(a,qn),o),d=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(d),s))throw new Error("Cannot find square root");return d}}return Zf(r)}const Xf=(r,t)=>(Kt(r,t)&Vt)===Vt,$f=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function th(r){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=$f.reduce((n,s)=>(n[s]="function",n),t);return Or(r,e)}function eh(r,t,e){if(e<Ie)throw new Error("invalid exponent, negatives unsupported");if(e===Ie)return r.ONE;if(e===Vt)return t;let n=r.ONE,s=t;for(;e>Ie;)e&Vt&&(n=r.mul(n,s)),s=r.sqr(s),e>>=Vt;return n}function nh(r,t){const e=new Array(t.length),n=t.reduce((i,o,a)=>r.is0(o)?i:(e[a]=i,r.mul(i,o)),r.ONE),s=r.inv(n);return t.reduceRight((i,o,a)=>r.is0(o)?i:(e[a]=r.mul(i,e[a]),r.mul(i,o)),s),e}function Yc(r,t){const e=t!==void 0?t:r.toString(2).length,n=Math.ceil(e/8);return{nBitLength:e,nByteLength:n}}function Zi(r,t,e=!1,n={}){if(r<=Ie)throw new Error("invalid field: expected ORDER > 0, got "+r);const{nBitLength:s,nByteLength:i}=Yc(r,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:r,BITS:s,BYTES:i,MASK:ta(s),ZERO:Ie,ONE:Vt,create:c=>Kt(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Ie<=c&&c<r},is0:c=>c===Ie,isOdd:c=>(c&Vt)===Vt,neg:c=>Kt(-c,r),eql:(c,d)=>c===d,sqr:c=>Kt(c*c,r),add:(c,d)=>Kt(c+d,r),sub:(c,d)=>Kt(c-d,r),mul:(c,d)=>Kt(c*d,r),pow:(c,d)=>eh(a,c,d),div:(c,d)=>Kt(c*mo(d,r),r),sqrN:c=>c*c,addN:(c,d)=>c+d,subN:(c,d)=>c-d,mulN:(c,d)=>c*d,inv:c=>mo(c,r),sqrt:n.sqrt||(c=>(o||(o=Jf(r)),o(a,c))),invertBatch:c=>nh(a,c),cmov:(c,d,p)=>p?d:c,toBytes:c=>e?qr(c,i):_r(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return e?Sr(c):er(c)}});return Object.freeze(a)}function qc(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function Vc(r){const t=qc(r);return t+Math.ceil(t/2)}function rh(r,t,e=!1){const n=r.length,s=qc(t),i=Vc(t);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);const o=e?er(r):Sr(r),a=Kt(o,t-Vt)+Vt;return e?qr(a,s):_r(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ya=BigInt(0),fi=BigInt(1);function Ps(r,t){const e=t.negate();return r?e:t}function Zc(r,t){if(!Number.isSafeInteger(r)||r<=0||r>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+r)}function Us(r,t){Zc(r,t);const e=Math.ceil(t/r)+1,n=2**(r-1);return{windows:e,windowSize:n}}function ih(r,t){if(!Array.isArray(r))throw new Error("array expected");r.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}function sh(r,t){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}const js=new WeakMap,Jc=new WeakMap;function zs(r){return Jc.get(r)||1}function Xc(r,t){return{constTimeNegate:Ps,hasPrecomputes(e){return zs(e)!==1},unsafeLadder(e,n,s=r.ZERO){let i=e;for(;n>Ya;)n&fi&&(s=s.add(i)),i=i.double(),n>>=fi;return s},precomputeWindow(e,n){const{windows:s,windowSize:i}=Us(n,t),o=[];let a=e,c=a;for(let d=0;d<s;d++){c=a,o.push(c);for(let p=1;p<i;p++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(e,n,s){const{windows:i,windowSize:o}=Us(e,t);let a=r.ZERO,c=r.BASE;const d=BigInt(2**e-1),p=2**e,m=BigInt(e);for(let I=0;I<i;I++){const b=I*o;let B=Number(s&d);s>>=m,B>o&&(B-=p,s+=fi);const T=b,v=b+Math.abs(B)-1,k=I%2!==0,O=B<0;B===0?c=c.add(Ps(k,n[T])):a=a.add(Ps(O,n[v]))}return{p:a,f:c}},wNAFUnsafe(e,n,s,i=r.ZERO){const{windows:o,windowSize:a}=Us(e,t),c=BigInt(2**e-1),d=2**e,p=BigInt(e);for(let m=0;m<o;m++){const I=m*a;if(s===Ya)break;let b=Number(s&c);if(s>>=p,b>a&&(b-=d,s+=fi),b===0)continue;let B=n[I+Math.abs(b)-1];b<0&&(B=B.negate()),i=i.add(B)}return i},getPrecomputes(e,n,s){let i=js.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&js.set(n,s(i))),i},wNAFCached(e,n,s){const i=zs(e);return this.wNAF(i,this.getPrecomputes(i,e,s),n)},wNAFCachedUnsafe(e,n,s,i){const o=zs(e);return o===1?this.unsafeLadder(e,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,s),n,i)},setWindowSize(e,n){Zc(n,t),Jc.set(e,n),js.delete(e)}}}function $c(r,t,e,n){if(ih(e,r),sh(n,t),e.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const s=r.ZERO,i=Gc(BigInt(e.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),d=Math.floor((t.BITS-1)/o)*o;let p=s;for(let m=d;m>=0;m-=o){c.fill(s);for(let b=0;b<n.length;b++){const B=n[b],T=Number(B>>BigInt(m)&BigInt(a));c[T]=c[T].add(e[b])}let I=s;for(let b=c.length-1,B=s;b>0;b--)B=B.add(c[b]),I=I.add(B);if(p=p.add(I),m!==0)for(let b=0;b<o;b++)p=p.double()}return p}function ea(r){return th(r.Fp),Or(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Yc(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sn=BigInt(0),Fe=BigInt(1),hi=BigInt(2),oh=BigInt(8),ah={zip215:!0};function ch(r){const t=ea(r);return Or(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function uh(r){const t=ch(r),{Fp:e,n,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=t,d=hi<<BigInt(a*8)-Fe,p=e.create,m=Zi(t.n,t.nBitLength),I=t.uvRatio||((w,y)=>{try{return{isValid:!0,value:e.sqrt(w*e.inv(y))}}catch{return{isValid:!1,value:sn}}}),b=t.adjustScalarBytes||(w=>w),B=t.domain||((w,y,E)=>{if(Bn("phflag",E),y.length||E)throw new Error("Contexts/pre-hash are not supported");return w});function T(w,y){en("coordinate "+w,y,sn,d)}function v(w){if(!(w instanceof S))throw new Error("ExtendedPoint expected")}const k=Vr((w,y)=>{const{ex:E,ey:N,ez:P}=w,M=w.is0();y==null&&(y=M?oh:e.inv(P));const f=p(E*y),_=p(N*y),V=p(P*y);if(M)return{x:sn,y:Fe};if(V!==Fe)throw new Error("invZ was invalid");return{x:f,y:_}}),O=Vr(w=>{const{a:y,d:E}=t;if(w.is0())throw new Error("bad point: ZERO");const{ex:N,ey:P,ez:M,et:f}=w,_=p(N*N),V=p(P*P),$=p(M*M),rt=p($*$),Mt=p(_*y),dt=p($*p(Mt+V)),pt=p(rt+p(E*p(_*V)));if(dt!==pt)throw new Error("bad point: equation left != right (1)");const Jt=p(N*P),St=p(M*f);if(Jt!==St)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(y,E,N,P){this.ex=y,this.ey=E,this.ez=N,this.et=P,T("x",y),T("y",E),T("z",N),T("t",P),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(y){if(y instanceof S)throw new Error("extended point not allowed");const{x:E,y:N}=y||{};return T("x",E),T("y",N),new S(E,N,Fe,p(E*N))}static normalizeZ(y){const E=e.invertBatch(y.map(N=>N.ez));return y.map((N,P)=>N.toAffine(E[P])).map(S.fromAffine)}static msm(y,E){return $c(S,m,y,E)}_setWindowSize(y){R.setWindowSize(this,y)}assertValidity(){O(this)}equals(y){v(y);const{ex:E,ey:N,ez:P}=this,{ex:M,ey:f,ez:_}=y,V=p(E*_),$=p(M*P),rt=p(N*_),Mt=p(f*P);return V===$&&rt===Mt}is0(){return this.equals(S.ZERO)}negate(){return new S(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:y}=t,{ex:E,ey:N,ez:P}=this,M=p(E*E),f=p(N*N),_=p(hi*p(P*P)),V=p(y*M),$=E+N,rt=p(p($*$)-M-f),Mt=V+f,dt=Mt-_,pt=V-f,Jt=p(rt*dt),St=p(Mt*pt),Et=p(rt*pt),te=p(dt*Mt);return new S(Jt,St,te,Et)}add(y){v(y);const{a:E,d:N}=t,{ex:P,ey:M,ez:f,et:_}=this,{ex:V,ey:$,ez:rt,et:Mt}=y;if(E===BigInt(-1)){const Ut=p((M-P)*($+V)),Rt=p((M+P)*($-V)),xe=p(Rt-Ut);if(xe===sn)return this.double();const Ot=p(f*hi*Mt),zt=p(_*hi*rt),ze=zt+Ot,Ft=Rt+Ut,A=zt-Ot,l=p(ze*xe),h=p(Ft*A),x=p(ze*A),U=p(xe*Ft);return new S(l,h,U,x)}const dt=p(P*V),pt=p(M*$),Jt=p(_*N*Mt),St=p(f*rt),Et=p((P+M)*(V+$)-dt-pt),te=St-Jt,Bt=St+Jt,_t=p(pt-E*dt),dr=p(Et*te),Pt=p(Bt*_t),Qt=p(Et*_t),gr=p(te*Bt);return new S(dr,Pt,gr,Qt)}subtract(y){return this.add(y.negate())}wNAF(y){return R.wNAFCached(this,y,S.normalizeZ)}multiply(y){const E=y;en("scalar",E,Fe,n);const{p:N,f:P}=this.wNAF(E);return S.normalizeZ([N,P])[0]}multiplyUnsafe(y,E=S.ZERO){const N=y;return en("scalar",N,sn,n),N===sn?D:this.is0()||N===Fe?this:R.wNAFCachedUnsafe(this,N,S.normalizeZ,E)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return R.unsafeLadder(this,n).is0()}toAffine(y){return k(this,y)}clearCofactor(){const{h:y}=t;return y===Fe?this:this.multiplyUnsafe(y)}static fromHex(y,E=!1){const{d:N,a:P}=t,M=e.BYTES;y=Ae("pointHex",y,M),Bn("zip215",E);const f=y.slice(),_=y[M-1];f[M-1]=_&-129;const V=Sr(f),$=E?d:e.ORDER;en("pointHex.y",V,sn,$);const rt=p(V*V),Mt=p(rt-Fe),dt=p(N*rt-P);let{isValid:pt,value:Jt}=I(Mt,dt);if(!pt)throw new Error("Point.fromHex: invalid y coordinate");const St=(Jt&Fe)===Fe,Et=(_&128)!==0;if(!E&&Jt===sn&&Et)throw new Error("Point.fromHex: x=0 and x_0=1");return Et!==St&&(Jt=p(-Jt)),S.fromAffine({x:Jt,y:V})}static fromPrivateKey(y){return K(y).point}toRawBytes(){const{x:y,y:E}=this.toAffine(),N=qr(E,e.BYTES);return N[N.length-1]|=y&Fe?128:0,N}toHex(){return sr(this.toRawBytes())}}S.BASE=new S(t.Gx,t.Gy,Fe,p(t.Gx*t.Gy)),S.ZERO=new S(sn,Fe,Fe,sn);const{BASE:L,ZERO:D}=S,R=Xc(S,a*8);function j(w){return Kt(w,n)}function H(w){return j(Sr(w))}function K(w){const y=e.BYTES;w=Ae("private key",w,y);const E=Ae("hashed private key",i(w),2*y),N=b(E.slice(0,y)),P=E.slice(y,2*y),M=H(N),f=L.multiply(M),_=f.toRawBytes();return{head:N,prefix:P,scalar:M,point:f,pointBytes:_}}function Z(w){return K(w).pointBytes}function X(w=new Uint8Array,...y){const E=or(...y);return H(i(B(E,Ae("context",w),!!s)))}function ot(w,y,E={}){w=Ae("message",w),s&&(w=s(w));const{prefix:N,scalar:P,pointBytes:M}=K(y),f=X(E.context,N,w),_=L.multiply(f).toRawBytes(),V=X(E.context,_,M,w),$=j(f+V*P);en("signature.s",$,sn,n);const rt=or(_,qr($,e.BYTES));return Ae("result",rt,e.BYTES*2)}const C=ah;function u(w,y,E,N=C){const{context:P,zip215:M}=N,f=e.BYTES;w=Ae("signature",w,2*f),y=Ae("message",y),E=Ae("publicKey",E,f),M!==void 0&&Bn("zip215",M),s&&(y=s(y));const _=Sr(w.slice(f,2*f));let V,$,rt;try{V=S.fromHex(E,M),$=S.fromHex(w.slice(0,f),M),rt=L.multiplyUnsafe(_)}catch{return!1}if(!M&&V.isSmallOrder())return!1;const Mt=X(P,$.toRawBytes(),V.toRawBytes(),y);return $.add(V.multiplyUnsafe(Mt)).subtract(rt).clearCofactor().equals(S.ZERO)}return L._setWindowSize(8),{CURVE:t,getPublicKey:Z,sign:ot,verify:u,ExtendedPoint:S,utils:{getExtendedPublicKey:K,randomPrivateKey:()=>o(e.BYTES),precompute(w=8,y=S.BASE){return y._setWindowSize(w),y.multiply(BigInt(3)),y}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const na=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),qa=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const lh=BigInt(1),Va=BigInt(2);BigInt(3);const fh=BigInt(5),hh=BigInt(8);function dh(r){const t=BigInt(10),e=BigInt(20),n=BigInt(40),s=BigInt(80),i=na,a=r*r%i*r%i,c=Xt(a,Va,i)*a%i,d=Xt(c,lh,i)*r%i,p=Xt(d,fh,i)*d%i,m=Xt(p,t,i)*p%i,I=Xt(m,e,i)*m%i,b=Xt(I,n,i)*I%i,B=Xt(b,s,i)*b%i,T=Xt(B,s,i)*b%i,v=Xt(T,t,i)*p%i;return{pow_p_5_8:Xt(v,Va,i)*r%i,b2:a}}function gh(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function ph(r,t){const e=na,n=Kt(t*t*t,e),s=Kt(n*n*t,e),i=dh(r*s).pow_p_5_8;let o=Kt(r*n*i,e);const a=Kt(t*o*o,e),c=o,d=Kt(o*qa,e),p=a===r,m=a===Kt(-r,e),I=a===Kt(-r*qa,e);return p&&(o=c),(m||I)&&(o=d),Xf(o,e)&&(o=Kt(-o,e)),{isValid:p||m,value:o}}const wh=Zi(na,void 0,!0),yh={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:wh,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:hh,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Pf,randomBytes:Wc,adjustScalarBytes:gh,uvRatio:ph},ra=uh(yh);var ia={exports:{}};const mh={},Ah=Object.freeze(Object.defineProperty({__proto__:null,default:mh},Symbol.toStringTag,{value:"Module"})),bh=Zo(Ah);ia.exports;(function(r){(function(t,e){function n(C,u){if(!C)throw new Error(u||"Assertion failed")}function s(C,u){C.super_=u;var g=function(){};g.prototype=u.prototype,C.prototype=new g,C.prototype.constructor=C}function i(C,u,g){if(i.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((u==="le"||u==="be")&&(g=u,u=10),this._init(C||0,u||10,g||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=bh.Buffer}catch{}i.isBN=function(u){return u instanceof i?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===i.wordSize&&Array.isArray(u.words)},i.max=function(u,g){return u.cmp(g)>0?u:g},i.min=function(u,g){return u.cmp(g)<0?u:g},i.prototype._init=function(u,g,w){if(typeof u=="number")return this._initNumber(u,g,w);if(typeof u=="object")return this._initArray(u,g,w);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),u=u.toString().replace(/\s+/g,"");var y=0;u[0]==="-"&&(y++,this.negative=1),y<u.length&&(g===16?this._parseHex(u,y,w):(this._parseBase(u,g,y),w==="le"&&this._initArray(this.toArray(),g,w)))},i.prototype._initNumber=function(u,g,w){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),g,w)},i.prototype._initArray=function(u,g,w){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var E,N,P=0;if(w==="be")for(y=u.length-1,E=0;y>=0;y-=3)N=u[y]|u[y-1]<<8|u[y-2]<<16,this.words[E]|=N<<P&67108863,this.words[E+1]=N>>>26-P&67108863,P+=24,P>=26&&(P-=26,E++);else if(w==="le")for(y=0,E=0;y<u.length;y+=3)N=u[y]|u[y+1]<<8|u[y+2]<<16,this.words[E]|=N<<P&67108863,this.words[E+1]=N>>>26-P&67108863,P+=24,P>=26&&(P-=26,E++);return this._strip()};function a(C,u){var g=C.charCodeAt(u);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;n(!1,"Invalid character in "+C)}function c(C,u,g){var w=a(C,g);return g-1>=u&&(w|=a(C,g-1)<<4),w}i.prototype._parseHex=function(u,g,w){this.length=Math.ceil((u.length-g)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var E=0,N=0,P;if(w==="be")for(y=u.length-1;y>=g;y-=2)P=c(u,g,y)<<E,this.words[N]|=P&67108863,E>=18?(E-=18,N+=1,this.words[N]|=P>>>26):E+=8;else{var M=u.length-g;for(y=M%2===0?g+1:g;y<u.length;y+=2)P=c(u,g,y)<<E,this.words[N]|=P&67108863,E>=18?(E-=18,N+=1,this.words[N]|=P>>>26):E+=8}this._strip()};function d(C,u,g,w){for(var y=0,E=0,N=Math.min(C.length,g),P=u;P<N;P++){var M=C.charCodeAt(P)-48;y*=w,M>=49?E=M-49+10:M>=17?E=M-17+10:E=M,n(M>=0&&E<w,"Invalid character"),y+=E}return y}i.prototype._parseBase=function(u,g,w){this.words=[0],this.length=1;for(var y=0,E=1;E<=67108863;E*=g)y++;y--,E=E/g|0;for(var N=u.length-w,P=N%y,M=Math.min(N,N-P)+w,f=0,_=w;_<M;_+=y)f=d(u,_,_+y,g),this.imuln(E),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(P!==0){var V=1;for(f=d(u,_,u.length,g),_=0;_<P;_++)V*=g;this.imuln(V),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},i.prototype.copy=function(u){u.words=new Array(this.length);for(var g=0;g<this.length;g++)u.words[g]=this.words[g];u.length=this.length,u.negative=this.negative,u.red=this.red};function p(C,u){C.words=u.words,C.length=u.length,C.negative=u.negative,C.red=u.red}if(i.prototype._move=function(u){p(u,this)},i.prototype.clone=function(){var u=new i(null);return this.copy(u),u},i.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=m}catch{i.prototype.inspect=m}else i.prototype.inspect=m;function m(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var I=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],B=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(u,g){u=u||10,g=g|0||1;var w;if(u===16||u==="hex"){w="";for(var y=0,E=0,N=0;N<this.length;N++){var P=this.words[N],M=((P<<y|E)&16777215).toString(16);E=P>>>24-y&16777215,y+=2,y>=26&&(y-=26,N--),E!==0||N!==this.length-1?w=I[6-M.length]+M+w:w=M+w}for(E!==0&&(w=E.toString(16)+w);w.length%g!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(u===(u|0)&&u>=2&&u<=36){var f=b[u],_=B[u];w="";var V=this.clone();for(V.negative=0;!V.isZero();){var $=V.modrn(_).toString(u);V=V.idivn(_),V.isZero()?w=$+w:w=I[f-$.length]+$+w}for(this.isZero()&&(w="0"+w);w.length%g!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(u,g){return this.toArrayLike(o,u,g)}),i.prototype.toArray=function(u,g){return this.toArrayLike(Array,u,g)};var T=function(u,g){return u.allocUnsafe?u.allocUnsafe(g):new u(g)};i.prototype.toArrayLike=function(u,g,w){this._strip();var y=this.byteLength(),E=w||Math.max(1,y);n(y<=E,"byte array longer than desired length"),n(E>0,"Requested array length <= 0");var N=T(u,E),P=g==="le"?"LE":"BE";return this["_toArrayLike"+P](N,y),N},i.prototype._toArrayLikeLE=function(u,g){for(var w=0,y=0,E=0,N=0;E<this.length;E++){var P=this.words[E]<<N|y;u[w++]=P&255,w<u.length&&(u[w++]=P>>8&255),w<u.length&&(u[w++]=P>>16&255),N===6?(w<u.length&&(u[w++]=P>>24&255),y=0,N=0):(y=P>>>24,N+=2)}if(w<u.length)for(u[w++]=y;w<u.length;)u[w++]=0},i.prototype._toArrayLikeBE=function(u,g){for(var w=u.length-1,y=0,E=0,N=0;E<this.length;E++){var P=this.words[E]<<N|y;u[w--]=P&255,w>=0&&(u[w--]=P>>8&255),w>=0&&(u[w--]=P>>16&255),N===6?(w>=0&&(u[w--]=P>>24&255),y=0,N=0):(y=P>>>24,N+=2)}if(w>=0)for(u[w--]=y;w>=0;)u[w--]=0},Math.clz32?i.prototype._countBits=function(u){return 32-Math.clz32(u)}:i.prototype._countBits=function(u){var g=u,w=0;return g>=4096&&(w+=13,g>>>=13),g>=64&&(w+=7,g>>>=7),g>=8&&(w+=4,g>>>=4),g>=2&&(w+=2,g>>>=2),w+g},i.prototype._zeroBits=function(u){if(u===0)return 26;var g=u,w=0;return g&8191||(w+=13,g>>>=13),g&127||(w+=7,g>>>=7),g&15||(w+=4,g>>>=4),g&3||(w+=2,g>>>=2),g&1||w++,w},i.prototype.bitLength=function(){var u=this.words[this.length-1],g=this._countBits(u);return(this.length-1)*26+g};function v(C){for(var u=new Array(C.bitLength()),g=0;g<u.length;g++){var w=g/26|0,y=g%26;u[g]=C.words[w]>>>y&1}return u}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,g=0;g<this.length;g++){var w=this._zeroBits(this.words[g]);if(u+=w,w!==26)break}return u},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},i.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var g=0;g<u.length;g++)this.words[g]=this.words[g]|u.words[g];return this._strip()},i.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},i.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},i.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},i.prototype.iuand=function(u){var g;this.length>u.length?g=u:g=this;for(var w=0;w<g.length;w++)this.words[w]=this.words[w]&u.words[w];return this.length=g.length,this._strip()},i.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},i.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},i.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},i.prototype.iuxor=function(u){var g,w;this.length>u.length?(g=this,w=u):(g=u,w=this);for(var y=0;y<w.length;y++)this.words[y]=g.words[y]^w.words[y];if(this!==g)for(;y<g.length;y++)this.words[y]=g.words[y];return this.length=g.length,this._strip()},i.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},i.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},i.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},i.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var g=Math.ceil(u/26)|0,w=u%26;this._expand(g),w>0&&g--;for(var y=0;y<g;y++)this.words[y]=~this.words[y]&67108863;return w>0&&(this.words[y]=~this.words[y]&67108863>>26-w),this._strip()},i.prototype.notn=function(u){return this.clone().inotn(u)},i.prototype.setn=function(u,g){n(typeof u=="number"&&u>=0);var w=u/26|0,y=u%26;return this._expand(w+1),g?this.words[w]=this.words[w]|1<<y:this.words[w]=this.words[w]&~(1<<y),this._strip()},i.prototype.iadd=function(u){var g;if(this.negative!==0&&u.negative===0)return this.negative=0,g=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,g=this.isub(u),u.negative=1,g._normSign();var w,y;this.length>u.length?(w=this,y=u):(w=u,y=this);for(var E=0,N=0;N<y.length;N++)g=(w.words[N]|0)+(y.words[N]|0)+E,this.words[N]=g&67108863,E=g>>>26;for(;E!==0&&N<w.length;N++)g=(w.words[N]|0)+E,this.words[N]=g&67108863,E=g>>>26;if(this.length=w.length,E!==0)this.words[this.length]=E,this.length++;else if(w!==this)for(;N<w.length;N++)this.words[N]=w.words[N];return this},i.prototype.add=function(u){var g;return u.negative!==0&&this.negative===0?(u.negative=0,g=this.sub(u),u.negative^=1,g):u.negative===0&&this.negative!==0?(this.negative=0,g=u.sub(this),this.negative=1,g):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},i.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var g=this.iadd(u);return u.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var w=this.cmp(u);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,E;w>0?(y=this,E=u):(y=u,E=this);for(var N=0,P=0;P<E.length;P++)g=(y.words[P]|0)-(E.words[P]|0)+N,N=g>>26,this.words[P]=g&67108863;for(;N!==0&&P<y.length;P++)g=(y.words[P]|0)+N,N=g>>26,this.words[P]=g&67108863;if(N===0&&P<y.length&&y!==this)for(;P<y.length;P++)this.words[P]=y.words[P];return this.length=Math.max(this.length,P),y!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(u){return this.clone().isub(u)};function k(C,u,g){g.negative=u.negative^C.negative;var w=C.length+u.length|0;g.length=w,w=w-1|0;var y=C.words[0]|0,E=u.words[0]|0,N=y*E,P=N&67108863,M=N/67108864|0;g.words[0]=P;for(var f=1;f<w;f++){for(var _=M>>>26,V=M&67108863,$=Math.min(f,u.length-1),rt=Math.max(0,f-C.length+1);rt<=$;rt++){var Mt=f-rt|0;y=C.words[Mt]|0,E=u.words[rt]|0,N=y*E+V,_+=N/67108864|0,V=N&67108863}g.words[f]=V|0,M=_|0}return M!==0?g.words[f]=M|0:g.length--,g._strip()}var O=function(u,g,w){var y=u.words,E=g.words,N=w.words,P=0,M,f,_,V=y[0]|0,$=V&8191,rt=V>>>13,Mt=y[1]|0,dt=Mt&8191,pt=Mt>>>13,Jt=y[2]|0,St=Jt&8191,Et=Jt>>>13,te=y[3]|0,Bt=te&8191,_t=te>>>13,dr=y[4]|0,Pt=dr&8191,Qt=dr>>>13,gr=y[5]|0,Ut=gr&8191,Rt=gr>>>13,xe=y[6]|0,Ot=xe&8191,zt=xe>>>13,ze=y[7]|0,Ft=ze&8191,A=ze>>>13,l=y[8]|0,h=l&8191,x=l>>>13,U=y[9]|0,z=U&8191,Q=U>>>13,At=E[0]|0,yt=At&8191,wt=At>>>13,Wt=E[1]|0,gt=Wt&8191,ee=Wt>>>13,ka=E[2]|0,ne=ka&8191,re=ka>>>13,Ra=E[3]|0,ie=Ra&8191,se=Ra>>>13,Oa=E[4]|0,oe=Oa&8191,ae=Oa>>>13,Pa=E[5]|0,ce=Pa&8191,ue=Pa>>>13,Ua=E[6]|0,le=Ua&8191,fe=Ua>>>13,ja=E[7]|0,he=ja&8191,de=ja>>>13,za=E[8]|0,ge=za&8191,pe=za>>>13,Fa=E[9]|0,we=Fa&8191,ye=Fa>>>13;w.negative=u.negative^g.negative,w.length=19,M=Math.imul($,yt),f=Math.imul($,wt),f=f+Math.imul(rt,yt)|0,_=Math.imul(rt,wt);var gs=(P+M|0)+((f&8191)<<13)|0;P=(_+(f>>>13)|0)+(gs>>>26)|0,gs&=67108863,M=Math.imul(dt,yt),f=Math.imul(dt,wt),f=f+Math.imul(pt,yt)|0,_=Math.imul(pt,wt),M=M+Math.imul($,gt)|0,f=f+Math.imul($,ee)|0,f=f+Math.imul(rt,gt)|0,_=_+Math.imul(rt,ee)|0;var ps=(P+M|0)+((f&8191)<<13)|0;P=(_+(f>>>13)|0)+(ps>>>26)|0,ps&=67108863,M=Math.imul(St,yt),f=Math.imul(St,wt),f=f+Math.imul(Et,yt)|0,_=Math.imul(Et,wt),M=M+Math.imul(dt,gt)|0,f=f+Math.imul(dt,ee)|0,f=f+Math.imul(pt,gt)|0,_=_+Math.imul(pt,ee)|0,M=M+Math.imul($,ne)|0,f=f+Math.imul($,re)|0,f=f+Math.imul(rt,ne)|0,_=_+Math.imul(rt,re)|0;var ws=(P+M|0)+((f&8191)<<13)|0;P=(_+(f>>>13)|0)+(ws>>>26)|0,ws&=67108863,M=Math.imul(Bt,yt),f=Math.imul(Bt,wt),f=f+Math.imul(_t,yt)|0,_=Math.imul(_t,wt),M=M+Math.imul(St,gt)|0,f=f+Math.imul(St,ee)|0,f=f+Math.imul(Et,gt)|0,_=_+Math.imul(Et,ee)|0,M=M+Math.imul(dt,ne)|0,f=f+Math.imul(dt,re)|0,f=f+Math.imul(pt,ne)|0,_=_+Math.imul(pt,re)|0,M=M+Math.imul($,ie)|0,f=f+Math.imul($,se)|0,f=f+Math.imul(rt,ie)|0,_=_+Math.imul(rt,se)|0;var ys=(P+M|0)+((f&8191)<<13)|0;P=(_+(f>>>13)|0)+(ys>>>26)|0,ys&=67108863,M=Math.imul(Pt,yt),f=Math.imul(Pt,wt),f=f+Math.imul(Qt,yt)|0,_=Math.imul(Qt,wt),M=M+Math.imul(Bt,gt)|0,f=f+Math.imul(Bt,ee)|0,f=f+Math.imul(_t,gt)|0,_=_+Math.imul(_t,ee)|0,M=M+Math.imul(St,ne)|0,f=f+Math.imul(St,re)|0,f=f+Math.imul(Et,ne)|0,_=_+Math.imul(Et,re)|0,M=M+Math.imul(dt,ie)|0,f=f+Math.imul(dt,se)|0,f=f+Math.imul(pt,ie)|0,_=_+Math.imul(pt,se)|0,M=M+Math.imul($,oe)|0,f=f+Math.imul($,ae)|0,f=f+Math.imul(rt,oe)|0,_=_+Math.imul(rt,ae)|0;var ms=(P+M|0)+((f&8191)<<13)|0;P=(_+(f>>>13)|0)+(ms>>>26)|0,ms&=67108863,M=Math.imul(Ut,yt),f=Math.imul(Ut,wt),f=f+Math.imul(Rt,yt)|0,_=Math.imul(Rt,wt),M=M+Math.imul(Pt,gt)|0,f=f+Math.imul(Pt,ee)|0,f=f+Math.imul(Qt,gt)|0,_=_+Math.imul(Qt,ee)|0,M=M+Math.imul(Bt,ne)|0,f=f+Math.imul(Bt,re)|0,f=f+Math.imul(_t,ne)|0,_=_+Math.imul(_t,re)|0,M=M+Math.imul(St,ie)|0,f=f+Math.imul(St,se)|0,f=f+Math.imul(Et,ie)|0,_=_+Math.imul(Et,se)|0,M=M+Math.imul(dt,oe)|0,f=f+Math.imul(dt,ae)|0,f=f+Math.imul(pt,oe)|0,_=_+Math.imul(pt,ae)|0,M=M+Math.imul($,ce)|0,f=f+Math.imul($,ue)|0,f=f+Math.imul(rt,ce)|0,_=_+Math.imul(rt,ue)|0;var As=(P+M|0)+((f&8191)<<13)|0;P=(_+(f>>>13)|0)+(As>>>26)|0,As&=67108863,M=Math.imul(Ot,yt),f=Math.imul(Ot,wt),f=f+Math.imul(zt,yt)|0,_=Math.imul(zt,wt),M=M+Math.imul(Ut,gt)|0,f=f+Math.imul(Ut,ee)|0,f=f+Math.imul(Rt,gt)|0,_=_+Math.imul(Rt,ee)|0,M=M+Math.imul(Pt,ne)|0,f=f+Math.imul(Pt,re)|0,f=f+Math.imul(Qt,ne)|0,_=_+Math.imul(Qt,re)|0,M=M+Math.imul(Bt,ie)|0,f=f+Math.imul(Bt,se)|0,f=f+Math.imul(_t,ie)|0,_=_+Math.imul(_t,se)|0,M=M+Math.imul(St,oe)|0,f=f+Math.imul(St,ae)|0,f=f+Math.imul(Et,oe)|0,_=_+Math.imul(Et,ae)|0,M=M+Math.imul(dt,ce)|0,f=f+Math.imul(dt,ue)|0,f=f+Math.imul(pt,ce)|0,_=_+Math.imul(pt,ue)|0,M=M+Math.imul($,le)|0,f=f+Math.imul($,fe)|0,f=f+Math.imul(rt,le)|0,_=_+Math.imul(rt,fe)|0;var bs=(P+M|0)+((f&8191)<<13)|0;P=(_+(f>>>13)|0)+(bs>>>26)|0,bs&=67108863,M=Math.imul(Ft,yt),f=Math.imul(Ft,wt),f=f+Math.imul(A,yt)|0,_=Math.imul(A,wt),M=M+Math.imul(Ot,gt)|0,f=f+Math.imul(Ot,ee)|0,f=f+Math.imul(zt,gt)|0,_=_+Math.imul(zt,ee)|0,M=M+Math.imul(Ut,ne)|0,f=f+Math.imul(Ut,re)|0,f=f+Math.imul(Rt,ne)|0,_=_+Math.imul(Rt,re)|0,M=M+Math.imul(Pt,ie)|0,f=f+Math.imul(Pt,se)|0,f=f+Math.imul(Qt,ie)|0,_=_+Math.imul(Qt,se)|0,M=M+Math.imul(Bt,oe)|0,f=f+Math.imul(Bt,ae)|0,f=f+Math.imul(_t,oe)|0,_=_+Math.imul(_t,ae)|0,M=M+Math.imul(St,ce)|0,f=f+Math.imul(St,ue)|0,f=f+Math.imul(Et,ce)|0,_=_+Math.imul(Et,ue)|0,M=M+Math.imul(dt,le)|0,f=f+Math.imul(dt,fe)|0,f=f+Math.imul(pt,le)|0,_=_+Math.imul(pt,fe)|0,M=M+Math.imul($,he)|0,f=f+Math.imul($,de)|0,f=f+Math.imul(rt,he)|0,_=_+Math.imul(rt,de)|0;var vs=(P+M|0)+((f&8191)<<13)|0;P=(_+(f>>>13)|0)+(vs>>>26)|0,vs&=67108863,M=Math.imul(h,yt),f=Math.imul(h,wt),f=f+Math.imul(x,yt)|0,_=Math.imul(x,wt),M=M+Math.imul(Ft,gt)|0,f=f+Math.imul(Ft,ee)|0,f=f+Math.imul(A,gt)|0,_=_+Math.imul(A,ee)|0,M=M+Math.imul(Ot,ne)|0,f=f+Math.imul(Ot,re)|0,f=f+Math.imul(zt,ne)|0,_=_+Math.imul(zt,re)|0,M=M+Math.imul(Ut,ie)|0,f=f+Math.imul(Ut,se)|0,f=f+Math.imul(Rt,ie)|0,_=_+Math.imul(Rt,se)|0,M=M+Math.imul(Pt,oe)|0,f=f+Math.imul(Pt,ae)|0,f=f+Math.imul(Qt,oe)|0,_=_+Math.imul(Qt,ae)|0,M=M+Math.imul(Bt,ce)|0,f=f+Math.imul(Bt,ue)|0,f=f+Math.imul(_t,ce)|0,_=_+Math.imul(_t,ue)|0,M=M+Math.imul(St,le)|0,f=f+Math.imul(St,fe)|0,f=f+Math.imul(Et,le)|0,_=_+Math.imul(Et,fe)|0,M=M+Math.imul(dt,he)|0,f=f+Math.imul(dt,de)|0,f=f+Math.imul(pt,he)|0,_=_+Math.imul(pt,de)|0,M=M+Math.imul($,ge)|0,f=f+Math.imul($,pe)|0,f=f+Math.imul(rt,ge)|0,_=_+Math.imul(rt,pe)|0;var Es=(P+M|0)+((f&8191)<<13)|0;P=(_+(f>>>13)|0)+(Es>>>26)|0,Es&=67108863,M=Math.imul(z,yt),f=Math.imul(z,wt),f=f+Math.imul(Q,yt)|0,_=Math.imul(Q,wt),M=M+Math.imul(h,gt)|0,f=f+Math.imul(h,ee)|0,f=f+Math.imul(x,gt)|0,_=_+Math.imul(x,ee)|0,M=M+Math.imul(Ft,ne)|0,f=f+Math.imul(Ft,re)|0,f=f+Math.imul(A,ne)|0,_=_+Math.imul(A,re)|0,M=M+Math.imul(Ot,ie)|0,f=f+Math.imul(Ot,se)|0,f=f+Math.imul(zt,ie)|0,_=_+Math.imul(zt,se)|0,M=M+Math.imul(Ut,oe)|0,f=f+Math.imul(Ut,ae)|0,f=f+Math.imul(Rt,oe)|0,_=_+Math.imul(Rt,ae)|0,M=M+Math.imul(Pt,ce)|0,f=f+Math.imul(Pt,ue)|0,f=f+Math.imul(Qt,ce)|0,_=_+Math.imul(Qt,ue)|0,M=M+Math.imul(Bt,le)|0,f=f+Math.imul(Bt,fe)|0,f=f+Math.imul(_t,le)|0,_=_+Math.imul(_t,fe)|0,M=M+Math.imul(St,he)|0,f=f+Math.imul(St,de)|0,f=f+Math.imul(Et,he)|0,_=_+Math.imul(Et,de)|0,M=M+Math.imul(dt,ge)|0,f=f+Math.imul(dt,pe)|0,f=f+Math.imul(pt,ge)|0,_=_+Math.imul(pt,pe)|0,M=M+Math.imul($,we)|0,f=f+Math.imul($,ye)|0,f=f+Math.imul(rt,we)|0,_=_+Math.imul(rt,ye)|0;var Ms=(P+M|0)+((f&8191)<<13)|0;P=(_+(f>>>13)|0)+(Ms>>>26)|0,Ms&=67108863,M=Math.imul(z,gt),f=Math.imul(z,ee),f=f+Math.imul(Q,gt)|0,_=Math.imul(Q,ee),M=M+Math.imul(h,ne)|0,f=f+Math.imul(h,re)|0,f=f+Math.imul(x,ne)|0,_=_+Math.imul(x,re)|0,M=M+Math.imul(Ft,ie)|0,f=f+Math.imul(Ft,se)|0,f=f+Math.imul(A,ie)|0,_=_+Math.imul(A,se)|0,M=M+Math.imul(Ot,oe)|0,f=f+Math.imul(Ot,ae)|0,f=f+Math.imul(zt,oe)|0,_=_+Math.imul(zt,ae)|0,M=M+Math.imul(Ut,ce)|0,f=f+Math.imul(Ut,ue)|0,f=f+Math.imul(Rt,ce)|0,_=_+Math.imul(Rt,ue)|0,M=M+Math.imul(Pt,le)|0,f=f+Math.imul(Pt,fe)|0,f=f+Math.imul(Qt,le)|0,_=_+Math.imul(Qt,fe)|0,M=M+Math.imul(Bt,he)|0,f=f+Math.imul(Bt,de)|0,f=f+Math.imul(_t,he)|0,_=_+Math.imul(_t,de)|0,M=M+Math.imul(St,ge)|0,f=f+Math.imul(St,pe)|0,f=f+Math.imul(Et,ge)|0,_=_+Math.imul(Et,pe)|0,M=M+Math.imul(dt,we)|0,f=f+Math.imul(dt,ye)|0,f=f+Math.imul(pt,we)|0,_=_+Math.imul(pt,ye)|0;var Ss=(P+M|0)+((f&8191)<<13)|0;P=(_+(f>>>13)|0)+(Ss>>>26)|0,Ss&=67108863,M=Math.imul(z,ne),f=Math.imul(z,re),f=f+Math.imul(Q,ne)|0,_=Math.imul(Q,re),M=M+Math.imul(h,ie)|0,f=f+Math.imul(h,se)|0,f=f+Math.imul(x,ie)|0,_=_+Math.imul(x,se)|0,M=M+Math.imul(Ft,oe)|0,f=f+Math.imul(Ft,ae)|0,f=f+Math.imul(A,oe)|0,_=_+Math.imul(A,ae)|0,M=M+Math.imul(Ot,ce)|0,f=f+Math.imul(Ot,ue)|0,f=f+Math.imul(zt,ce)|0,_=_+Math.imul(zt,ue)|0,M=M+Math.imul(Ut,le)|0,f=f+Math.imul(Ut,fe)|0,f=f+Math.imul(Rt,le)|0,_=_+Math.imul(Rt,fe)|0,M=M+Math.imul(Pt,he)|0,f=f+Math.imul(Pt,de)|0,f=f+Math.imul(Qt,he)|0,_=_+Math.imul(Qt,de)|0,M=M+Math.imul(Bt,ge)|0,f=f+Math.imul(Bt,pe)|0,f=f+Math.imul(_t,ge)|0,_=_+Math.imul(_t,pe)|0,M=M+Math.imul(St,we)|0,f=f+Math.imul(St,ye)|0,f=f+Math.imul(Et,we)|0,_=_+Math.imul(Et,ye)|0;var Is=(P+M|0)+((f&8191)<<13)|0;P=(_+(f>>>13)|0)+(Is>>>26)|0,Is&=67108863,M=Math.imul(z,ie),f=Math.imul(z,se),f=f+Math.imul(Q,ie)|0,_=Math.imul(Q,se),M=M+Math.imul(h,oe)|0,f=f+Math.imul(h,ae)|0,f=f+Math.imul(x,oe)|0,_=_+Math.imul(x,ae)|0,M=M+Math.imul(Ft,ce)|0,f=f+Math.imul(Ft,ue)|0,f=f+Math.imul(A,ce)|0,_=_+Math.imul(A,ue)|0,M=M+Math.imul(Ot,le)|0,f=f+Math.imul(Ot,fe)|0,f=f+Math.imul(zt,le)|0,_=_+Math.imul(zt,fe)|0,M=M+Math.imul(Ut,he)|0,f=f+Math.imul(Ut,de)|0,f=f+Math.imul(Rt,he)|0,_=_+Math.imul(Rt,de)|0,M=M+Math.imul(Pt,ge)|0,f=f+Math.imul(Pt,pe)|0,f=f+Math.imul(Qt,ge)|0,_=_+Math.imul(Qt,pe)|0,M=M+Math.imul(Bt,we)|0,f=f+Math.imul(Bt,ye)|0,f=f+Math.imul(_t,we)|0,_=_+Math.imul(_t,ye)|0;var xs=(P+M|0)+((f&8191)<<13)|0;P=(_+(f>>>13)|0)+(xs>>>26)|0,xs&=67108863,M=Math.imul(z,oe),f=Math.imul(z,ae),f=f+Math.imul(Q,oe)|0,_=Math.imul(Q,ae),M=M+Math.imul(h,ce)|0,f=f+Math.imul(h,ue)|0,f=f+Math.imul(x,ce)|0,_=_+Math.imul(x,ue)|0,M=M+Math.imul(Ft,le)|0,f=f+Math.imul(Ft,fe)|0,f=f+Math.imul(A,le)|0,_=_+Math.imul(A,fe)|0,M=M+Math.imul(Ot,he)|0,f=f+Math.imul(Ot,de)|0,f=f+Math.imul(zt,he)|0,_=_+Math.imul(zt,de)|0,M=M+Math.imul(Ut,ge)|0,f=f+Math.imul(Ut,pe)|0,f=f+Math.imul(Rt,ge)|0,_=_+Math.imul(Rt,pe)|0,M=M+Math.imul(Pt,we)|0,f=f+Math.imul(Pt,ye)|0,f=f+Math.imul(Qt,we)|0,_=_+Math.imul(Qt,ye)|0;var Bs=(P+M|0)+((f&8191)<<13)|0;P=(_+(f>>>13)|0)+(Bs>>>26)|0,Bs&=67108863,M=Math.imul(z,ce),f=Math.imul(z,ue),f=f+Math.imul(Q,ce)|0,_=Math.imul(Q,ue),M=M+Math.imul(h,le)|0,f=f+Math.imul(h,fe)|0,f=f+Math.imul(x,le)|0,_=_+Math.imul(x,fe)|0,M=M+Math.imul(Ft,he)|0,f=f+Math.imul(Ft,de)|0,f=f+Math.imul(A,he)|0,_=_+Math.imul(A,de)|0,M=M+Math.imul(Ot,ge)|0,f=f+Math.imul(Ot,pe)|0,f=f+Math.imul(zt,ge)|0,_=_+Math.imul(zt,pe)|0,M=M+Math.imul(Ut,we)|0,f=f+Math.imul(Ut,ye)|0,f=f+Math.imul(Rt,we)|0,_=_+Math.imul(Rt,ye)|0;var _s=(P+M|0)+((f&8191)<<13)|0;P=(_+(f>>>13)|0)+(_s>>>26)|0,_s&=67108863,M=Math.imul(z,le),f=Math.imul(z,fe),f=f+Math.imul(Q,le)|0,_=Math.imul(Q,fe),M=M+Math.imul(h,he)|0,f=f+Math.imul(h,de)|0,f=f+Math.imul(x,he)|0,_=_+Math.imul(x,de)|0,M=M+Math.imul(Ft,ge)|0,f=f+Math.imul(Ft,pe)|0,f=f+Math.imul(A,ge)|0,_=_+Math.imul(A,pe)|0,M=M+Math.imul(Ot,we)|0,f=f+Math.imul(Ot,ye)|0,f=f+Math.imul(zt,we)|0,_=_+Math.imul(zt,ye)|0;var Ts=(P+M|0)+((f&8191)<<13)|0;P=(_+(f>>>13)|0)+(Ts>>>26)|0,Ts&=67108863,M=Math.imul(z,he),f=Math.imul(z,de),f=f+Math.imul(Q,he)|0,_=Math.imul(Q,de),M=M+Math.imul(h,ge)|0,f=f+Math.imul(h,pe)|0,f=f+Math.imul(x,ge)|0,_=_+Math.imul(x,pe)|0,M=M+Math.imul(Ft,we)|0,f=f+Math.imul(Ft,ye)|0,f=f+Math.imul(A,we)|0,_=_+Math.imul(A,ye)|0;var Cs=(P+M|0)+((f&8191)<<13)|0;P=(_+(f>>>13)|0)+(Cs>>>26)|0,Cs&=67108863,M=Math.imul(z,ge),f=Math.imul(z,pe),f=f+Math.imul(Q,ge)|0,_=Math.imul(Q,pe),M=M+Math.imul(h,we)|0,f=f+Math.imul(h,ye)|0,f=f+Math.imul(x,we)|0,_=_+Math.imul(x,ye)|0;var Ns=(P+M|0)+((f&8191)<<13)|0;P=(_+(f>>>13)|0)+(Ns>>>26)|0,Ns&=67108863,M=Math.imul(z,we),f=Math.imul(z,ye),f=f+Math.imul(Q,we)|0,_=Math.imul(Q,ye);var Ls=(P+M|0)+((f&8191)<<13)|0;return P=(_+(f>>>13)|0)+(Ls>>>26)|0,Ls&=67108863,N[0]=gs,N[1]=ps,N[2]=ws,N[3]=ys,N[4]=ms,N[5]=As,N[6]=bs,N[7]=vs,N[8]=Es,N[9]=Ms,N[10]=Ss,N[11]=Is,N[12]=xs,N[13]=Bs,N[14]=_s,N[15]=Ts,N[16]=Cs,N[17]=Ns,N[18]=Ls,P!==0&&(N[19]=P,w.length++),w};Math.imul||(O=k);function S(C,u,g){g.negative=u.negative^C.negative,g.length=C.length+u.length;for(var w=0,y=0,E=0;E<g.length-1;E++){var N=y;y=0;for(var P=w&67108863,M=Math.min(E,u.length-1),f=Math.max(0,E-C.length+1);f<=M;f++){var _=E-f,V=C.words[_]|0,$=u.words[f]|0,rt=V*$,Mt=rt&67108863;N=N+(rt/67108864|0)|0,Mt=Mt+P|0,P=Mt&67108863,N=N+(Mt>>>26)|0,y+=N>>>26,N&=67108863}g.words[E]=P,w=N,N=y}return w!==0?g.words[E]=w:g.length--,g._strip()}function L(C,u,g){return S(C,u,g)}i.prototype.mulTo=function(u,g){var w,y=this.length+u.length;return this.length===10&&u.length===10?w=O(this,u,g):y<63?w=k(this,u,g):y<1024?w=S(this,u,g):w=L(this,u,g),w},i.prototype.mul=function(u){var g=new i(null);return g.words=new Array(this.length+u.length),this.mulTo(u,g)},i.prototype.mulf=function(u){var g=new i(null);return g.words=new Array(this.length+u.length),L(this,u,g)},i.prototype.imul=function(u){return this.clone().mulTo(u,this)},i.prototype.imuln=function(u){var g=u<0;g&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var w=0,y=0;y<this.length;y++){var E=(this.words[y]|0)*u,N=(E&67108863)+(w&67108863);w>>=26,w+=E/67108864|0,w+=N>>>26,this.words[y]=N&67108863}return w!==0&&(this.words[y]=w,this.length++),g?this.ineg():this},i.prototype.muln=function(u){return this.clone().imuln(u)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(u){var g=v(u);if(g.length===0)return new i(1);for(var w=this,y=0;y<g.length&&g[y]===0;y++,w=w.sqr());if(++y<g.length)for(var E=w.sqr();y<g.length;y++,E=E.sqr())g[y]!==0&&(w=w.mul(E));return w},i.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var g=u%26,w=(u-g)/26,y=67108863>>>26-g<<26-g,E;if(g!==0){var N=0;for(E=0;E<this.length;E++){var P=this.words[E]&y,M=(this.words[E]|0)-P<<g;this.words[E]=M|N,N=P>>>26-g}N&&(this.words[E]=N,this.length++)}if(w!==0){for(E=this.length-1;E>=0;E--)this.words[E+w]=this.words[E];for(E=0;E<w;E++)this.words[E]=0;this.length+=w}return this._strip()},i.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},i.prototype.iushrn=function(u,g,w){n(typeof u=="number"&&u>=0);var y;g?y=(g-g%26)/26:y=0;var E=u%26,N=Math.min((u-E)/26,this.length),P=67108863^67108863>>>E<<E,M=w;if(y-=N,y=Math.max(0,y),M){for(var f=0;f<N;f++)M.words[f]=this.words[f];M.length=N}if(N!==0)if(this.length>N)for(this.length-=N,f=0;f<this.length;f++)this.words[f]=this.words[f+N];else this.words[0]=0,this.length=1;var _=0;for(f=this.length-1;f>=0&&(_!==0||f>=y);f--){var V=this.words[f]|0;this.words[f]=_<<26-E|V>>>E,_=V&P}return M&&_!==0&&(M.words[M.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(u,g,w){return n(this.negative===0),this.iushrn(u,g,w)},i.prototype.shln=function(u){return this.clone().ishln(u)},i.prototype.ushln=function(u){return this.clone().iushln(u)},i.prototype.shrn=function(u){return this.clone().ishrn(u)},i.prototype.ushrn=function(u){return this.clone().iushrn(u)},i.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var g=u%26,w=(u-g)/26,y=1<<g;if(this.length<=w)return!1;var E=this.words[w];return!!(E&y)},i.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var g=u%26,w=(u-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(g!==0&&w++,this.length=Math.min(w,this.length),g!==0){var y=67108863^67108863>>>g<<g;this.words[this.length-1]&=y}return this._strip()},i.prototype.maskn=function(u){return this.clone().imaskn(u)},i.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},i.prototype._iaddn=function(u){this.words[0]+=u;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},i.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},i.prototype.addn=function(u){return this.clone().iaddn(u)},i.prototype.subn=function(u){return this.clone().isubn(u)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(u,g,w){var y=u.length+w,E;this._expand(y);var N,P=0;for(E=0;E<u.length;E++){N=(this.words[E+w]|0)+P;var M=(u.words[E]|0)*g;N-=M&67108863,P=(N>>26)-(M/67108864|0),this.words[E+w]=N&67108863}for(;E<this.length-w;E++)N=(this.words[E+w]|0)+P,P=N>>26,this.words[E+w]=N&67108863;if(P===0)return this._strip();for(n(P===-1),P=0,E=0;E<this.length;E++)N=-(this.words[E]|0)+P,P=N>>26,this.words[E]=N&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(u,g){var w=this.length-u.length,y=this.clone(),E=u,N=E.words[E.length-1]|0,P=this._countBits(N);w=26-P,w!==0&&(E=E.ushln(w),y.iushln(w),N=E.words[E.length-1]|0);var M=y.length-E.length,f;if(g!=="mod"){f=new i(null),f.length=M+1,f.words=new Array(f.length);for(var _=0;_<f.length;_++)f.words[_]=0}var V=y.clone()._ishlnsubmul(E,1,M);V.negative===0&&(y=V,f&&(f.words[M]=1));for(var $=M-1;$>=0;$--){var rt=(y.words[E.length+$]|0)*67108864+(y.words[E.length+$-1]|0);for(rt=Math.min(rt/N|0,67108863),y._ishlnsubmul(E,rt,$);y.negative!==0;)rt--,y.negative=0,y._ishlnsubmul(E,1,$),y.isZero()||(y.negative^=1);f&&(f.words[$]=rt)}return f&&f._strip(),y._strip(),g!=="div"&&w!==0&&y.iushrn(w),{div:f||null,mod:y}},i.prototype.divmod=function(u,g,w){if(n(!u.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,E,N;return this.negative!==0&&u.negative===0?(N=this.neg().divmod(u,g),g!=="mod"&&(y=N.div.neg()),g!=="div"&&(E=N.mod.neg(),w&&E.negative!==0&&E.iadd(u)),{div:y,mod:E}):this.negative===0&&u.negative!==0?(N=this.divmod(u.neg(),g),g!=="mod"&&(y=N.div.neg()),{div:y,mod:N.mod}):this.negative&u.negative?(N=this.neg().divmod(u.neg(),g),g!=="div"&&(E=N.mod.neg(),w&&E.negative!==0&&E.isub(u)),{div:N.div,mod:E}):u.length>this.length||this.cmp(u)<0?{div:new i(0),mod:this}:u.length===1?g==="div"?{div:this.divn(u.words[0]),mod:null}:g==="mod"?{div:null,mod:new i(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new i(this.modrn(u.words[0]))}:this._wordDiv(u,g)},i.prototype.div=function(u){return this.divmod(u,"div",!1).div},i.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},i.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},i.prototype.divRound=function(u){var g=this.divmod(u);if(g.mod.isZero())return g.div;var w=g.div.negative!==0?g.mod.isub(u):g.mod,y=u.ushrn(1),E=u.andln(1),N=w.cmp(y);return N<0||E===1&&N===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},i.prototype.modrn=function(u){var g=u<0;g&&(u=-u),n(u<=67108863);for(var w=(1<<26)%u,y=0,E=this.length-1;E>=0;E--)y=(w*y+(this.words[E]|0))%u;return g?-y:y},i.prototype.modn=function(u){return this.modrn(u)},i.prototype.idivn=function(u){var g=u<0;g&&(u=-u),n(u<=67108863);for(var w=0,y=this.length-1;y>=0;y--){var E=(this.words[y]|0)+w*67108864;this.words[y]=E/u|0,w=E%u}return this._strip(),g?this.ineg():this},i.prototype.divn=function(u){return this.clone().idivn(u)},i.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var g=this,w=u.clone();g.negative!==0?g=g.umod(u):g=g.clone();for(var y=new i(1),E=new i(0),N=new i(0),P=new i(1),M=0;g.isEven()&&w.isEven();)g.iushrn(1),w.iushrn(1),++M;for(var f=w.clone(),_=g.clone();!g.isZero();){for(var V=0,$=1;!(g.words[0]&$)&&V<26;++V,$<<=1);if(V>0)for(g.iushrn(V);V-- >0;)(y.isOdd()||E.isOdd())&&(y.iadd(f),E.isub(_)),y.iushrn(1),E.iushrn(1);for(var rt=0,Mt=1;!(w.words[0]&Mt)&&rt<26;++rt,Mt<<=1);if(rt>0)for(w.iushrn(rt);rt-- >0;)(N.isOdd()||P.isOdd())&&(N.iadd(f),P.isub(_)),N.iushrn(1),P.iushrn(1);g.cmp(w)>=0?(g.isub(w),y.isub(N),E.isub(P)):(w.isub(g),N.isub(y),P.isub(E))}return{a:N,b:P,gcd:w.iushln(M)}},i.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var g=this,w=u.clone();g.negative!==0?g=g.umod(u):g=g.clone();for(var y=new i(1),E=new i(0),N=w.clone();g.cmpn(1)>0&&w.cmpn(1)>0;){for(var P=0,M=1;!(g.words[0]&M)&&P<26;++P,M<<=1);if(P>0)for(g.iushrn(P);P-- >0;)y.isOdd()&&y.iadd(N),y.iushrn(1);for(var f=0,_=1;!(w.words[0]&_)&&f<26;++f,_<<=1);if(f>0)for(w.iushrn(f);f-- >0;)E.isOdd()&&E.iadd(N),E.iushrn(1);g.cmp(w)>=0?(g.isub(w),y.isub(E)):(w.isub(g),E.isub(y))}var V;return g.cmpn(1)===0?V=y:V=E,V.cmpn(0)<0&&V.iadd(u),V},i.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var g=this.clone(),w=u.clone();g.negative=0,w.negative=0;for(var y=0;g.isEven()&&w.isEven();y++)g.iushrn(1),w.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;w.isEven();)w.iushrn(1);var E=g.cmp(w);if(E<0){var N=g;g=w,w=N}else if(E===0||w.cmpn(1)===0)break;g.isub(w)}while(!0);return w.iushln(y)},i.prototype.invm=function(u){return this.egcd(u).a.umod(u)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(u){return this.words[0]&u},i.prototype.bincn=function(u){n(typeof u=="number");var g=u%26,w=(u-g)/26,y=1<<g;if(this.length<=w)return this._expand(w+1),this.words[w]|=y,this;for(var E=y,N=w;E!==0&&N<this.length;N++){var P=this.words[N]|0;P+=E,E=P>>>26,P&=67108863,this.words[N]=P}return E!==0&&(this.words[N]=E,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(u){var g=u<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var w;if(this.length>1)w=1;else{g&&(u=-u),n(u<=67108863,"Number is too big");var y=this.words[0]|0;w=y===u?0:y<u?-1:1}return this.negative!==0?-w|0:w},i.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var g=this.ucmp(u);return this.negative!==0?-g|0:g},i.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var g=0,w=this.length-1;w>=0;w--){var y=this.words[w]|0,E=u.words[w]|0;if(y!==E){y<E?g=-1:y>E&&(g=1);break}}return g},i.prototype.gtn=function(u){return this.cmpn(u)===1},i.prototype.gt=function(u){return this.cmp(u)===1},i.prototype.gten=function(u){return this.cmpn(u)>=0},i.prototype.gte=function(u){return this.cmp(u)>=0},i.prototype.ltn=function(u){return this.cmpn(u)===-1},i.prototype.lt=function(u){return this.cmp(u)===-1},i.prototype.lten=function(u){return this.cmpn(u)<=0},i.prototype.lte=function(u){return this.cmp(u)<=0},i.prototype.eqn=function(u){return this.cmpn(u)===0},i.prototype.eq=function(u){return this.cmp(u)===0},i.red=function(u){return new X(u)},i.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(u){return this.red=u,this},i.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},i.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},i.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},i.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},i.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},i.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},i.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},i.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var D={k256:null,p224:null,p192:null,p25519:null};function R(C,u){this.name=C,this.p=new i(u,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var u=new i(null);return u.words=new Array(Math.ceil(this.n/13)),u},R.prototype.ireduce=function(u){var g=u,w;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),w=g.bitLength();while(w>this.n);var y=w<this.n?-1:g.ucmp(this.p);return y===0?(g.words[0]=0,g.length=1):y>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},R.prototype.split=function(u,g){u.iushrn(this.n,0,g)},R.prototype.imulK=function(u){return u.imul(this.k)};function j(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(j,R),j.prototype.split=function(u,g){for(var w=4194303,y=Math.min(u.length,9),E=0;E<y;E++)g.words[E]=u.words[E];if(g.length=y,u.length<=9){u.words[0]=0,u.length=1;return}var N=u.words[9];for(g.words[g.length++]=N&w,E=10;E<u.length;E++){var P=u.words[E]|0;u.words[E-10]=(P&w)<<4|N>>>22,N=P}N>>>=22,u.words[E-10]=N,N===0&&u.length>10?u.length-=10:u.length-=9},j.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var g=0,w=0;w<u.length;w++){var y=u.words[w]|0;g+=y*977,u.words[w]=g&67108863,g=y*64+(g/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function H(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,R);function K(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(K,R);function Z(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(Z,R),Z.prototype.imulK=function(u){for(var g=0,w=0;w<u.length;w++){var y=(u.words[w]|0)*19+g,E=y&67108863;y>>>=26,u.words[w]=E,g=y}return g!==0&&(u.words[u.length++]=g),u},i._prime=function(u){if(D[u])return D[u];var g;if(u==="k256")g=new j;else if(u==="p224")g=new H;else if(u==="p192")g=new K;else if(u==="p25519")g=new Z;else throw new Error("Unknown prime "+u);return D[u]=g,g};function X(C){if(typeof C=="string"){var u=i._prime(C);this.m=u.p,this.prime=u}else n(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}X.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},X.prototype._verify2=function(u,g){n((u.negative|g.negative)===0,"red works only with positives"),n(u.red&&u.red===g.red,"red works only with red numbers")},X.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(p(u,u.umod(this.m)._forceRed(this)),u)},X.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},X.prototype.add=function(u,g){this._verify2(u,g);var w=u.add(g);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},X.prototype.iadd=function(u,g){this._verify2(u,g);var w=u.iadd(g);return w.cmp(this.m)>=0&&w.isub(this.m),w},X.prototype.sub=function(u,g){this._verify2(u,g);var w=u.sub(g);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},X.prototype.isub=function(u,g){this._verify2(u,g);var w=u.isub(g);return w.cmpn(0)<0&&w.iadd(this.m),w},X.prototype.shl=function(u,g){return this._verify1(u),this.imod(u.ushln(g))},X.prototype.imul=function(u,g){return this._verify2(u,g),this.imod(u.imul(g))},X.prototype.mul=function(u,g){return this._verify2(u,g),this.imod(u.mul(g))},X.prototype.isqr=function(u){return this.imul(u,u.clone())},X.prototype.sqr=function(u){return this.mul(u,u)},X.prototype.sqrt=function(u){if(u.isZero())return u.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var w=this.m.add(new i(1)).iushrn(2);return this.pow(u,w)}for(var y=this.m.subn(1),E=0;!y.isZero()&&y.andln(1)===0;)E++,y.iushrn(1);n(!y.isZero());var N=new i(1).toRed(this),P=N.redNeg(),M=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,M).cmp(P)!==0;)f.redIAdd(P);for(var _=this.pow(f,y),V=this.pow(u,y.addn(1).iushrn(1)),$=this.pow(u,y),rt=E;$.cmp(N)!==0;){for(var Mt=$,dt=0;Mt.cmp(N)!==0;dt++)Mt=Mt.redSqr();n(dt<rt);var pt=this.pow(_,new i(1).iushln(rt-dt-1));V=V.redMul(pt),_=pt.redSqr(),$=$.redMul(_),rt=dt}return V},X.prototype.invm=function(u){var g=u._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},X.prototype.pow=function(u,g){if(g.isZero())return new i(1).toRed(this);if(g.cmpn(1)===0)return u.clone();var w=4,y=new Array(1<<w);y[0]=new i(1).toRed(this),y[1]=u;for(var E=2;E<y.length;E++)y[E]=this.mul(y[E-1],u);var N=y[0],P=0,M=0,f=g.bitLength()%26;for(f===0&&(f=26),E=g.length-1;E>=0;E--){for(var _=g.words[E],V=f-1;V>=0;V--){var $=_>>V&1;if(N!==y[0]&&(N=this.sqr(N)),$===0&&P===0){M=0;continue}P<<=1,P|=$,M++,!(M!==w&&(E!==0||V!==0))&&(N=this.mul(N,y[P]),M=0,P=0)}f=26}return N},X.prototype.convertTo=function(u){var g=u.umod(this.m);return g===u?g.clone():g},X.prototype.convertFrom=function(u){var g=u.clone();return g.red=null,g},i.mont=function(u){return new ot(u)};function ot(C){X.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(ot,X),ot.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},ot.prototype.convertFrom=function(u){var g=this.imod(u.mul(this.rinv));return g.red=null,g},ot.prototype.imul=function(u,g){if(u.isZero()||g.isZero())return u.words[0]=0,u.length=1,u;var w=u.imul(g),y=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=w.isub(y).iushrn(this.shift),N=E;return E.cmp(this.m)>=0?N=E.isub(this.m):E.cmpn(0)<0&&(N=E.iadd(this.m)),N._forceRed(this)},ot.prototype.mul=function(u,g){if(u.isZero()||g.isZero())return new i(0)._forceRed(this);var w=u.mul(g),y=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=w.isub(y).iushrn(this.shift),N=E;return E.cmp(this.m)>=0?N=E.isub(this.m):E.cmpn(0)<0&&(N=E.iadd(this.m)),N._forceRed(this)},ot.prototype.invm=function(u){var g=this.imod(u._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(r,ln)})(ia);var tu=ia.exports;const Za=Wn(tu);var Ao={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(r,t){var e=mt,n=e.Buffer;function s(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=e:(s(e,t),t.Buffer=i);function i(o,a,c){return n(o,a,c)}i.prototype=Object.create(n.prototype),s(n,i),i.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},i.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var d=n(o);return a!==void 0?typeof c=="string"?d.fill(a,c):d.fill(a):d.fill(0),d},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(o)}})(Ao,Ao.exports);var sa=Ao.exports,di=sa.Buffer;function vh(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var o=r.length,a=r.charAt(0),c=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function p(b){if((Array.isArray(b)||b instanceof Uint8Array)&&(b=di.from(b)),!di.isBuffer(b))throw new TypeError("Expected Buffer");if(b.length===0)return"";for(var B=0,T=0,v=0,k=b.length;v!==k&&b[v]===0;)v++,B++;for(var O=(k-v)*d+1>>>0,S=new Uint8Array(O);v!==k;){for(var L=b[v],D=0,R=O-1;(L!==0||D<T)&&R!==-1;R--,D++)L+=256*S[R]>>>0,S[R]=L%o>>>0,L=L/o>>>0;if(L!==0)throw new Error("Non-zero carry");T=D,v++}for(var j=O-T;j!==O&&S[j]===0;)j++;for(var H=a.repeat(B);j<O;++j)H+=r.charAt(S[j]);return H}function m(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return di.alloc(0);for(var B=0,T=0,v=0;b[B]===a;)T++,B++;for(var k=(b.length-B)*c+1>>>0,O=new Uint8Array(k);B<b.length;){var S=t[b.charCodeAt(B)];if(S===255)return;for(var L=0,D=k-1;(S!==0||L<v)&&D!==-1;D--,L++)S+=o*O[D]>>>0,O[D]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");v=L,B++}for(var R=k-v;R!==k&&O[R]===0;)R++;var j=di.allocUnsafe(T+(k-R));j.fill(0,0,T);for(var H=T;R!==k;)j[H++]=O[R++];return j}function I(b){var B=m(b);if(B)return B;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:m,decode:I}}var Eh=vh,Mh=Eh,Sh="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Ih=Mh(Sh);const Ne=Wn(Ih),xh=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Dn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),kn=new Uint32Array(64);class Bh extends Hc{constructor(){super(64,32,8,!1),this.A=Dn[0]|0,this.B=Dn[1]|0,this.C=Dn[2]|0,this.D=Dn[3]|0,this.E=Dn[4]|0,this.F=Dn[5]|0,this.G=Dn[6]|0,this.H=Dn[7]|0}get(){const{A:t,B:e,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[t,e,n,s,i,o,a,c]}set(t,e,n,s,i,o,a,c){this.A=t|0,this.B=e|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,e){for(let m=0;m<16;m++,e+=4)kn[m]=t.getUint32(e,!1);for(let m=16;m<64;m++){const I=kn[m-15],b=kn[m-2],B=dn(I,7)^dn(I,18)^I>>>3,T=dn(b,17)^dn(b,19)^b>>>10;kn[m]=T+kn[m-7]+B+kn[m-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:d,H:p}=this;for(let m=0;m<64;m++){const I=dn(a,6)^dn(a,11)^dn(a,25),b=p+I+ff(a,c,d)+xh[m]+kn[m]|0,T=(dn(n,2)^dn(n,13)^dn(n,22))+hf(n,s,i)|0;p=d,d=c,c=a,a=o+b|0,o=i,i=s,s=n,n=b+T|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(n,s,i,o,a,c,d,p)}roundClean(){kn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const bo=Fc(()=>new Bh);var Ce={},gi=sa.Buffer;function _h(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var o=r.length,a=r.charAt(0),c=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function p(b){if((Array.isArray(b)||b instanceof Uint8Array)&&(b=gi.from(b)),!gi.isBuffer(b))throw new TypeError("Expected Buffer");if(b.length===0)return"";for(var B=0,T=0,v=0,k=b.length;v!==k&&b[v]===0;)v++,B++;for(var O=(k-v)*d+1>>>0,S=new Uint8Array(O);v!==k;){for(var L=b[v],D=0,R=O-1;(L!==0||D<T)&&R!==-1;R--,D++)L+=256*S[R]>>>0,S[R]=L%o>>>0,L=L/o>>>0;if(L!==0)throw new Error("Non-zero carry");T=D,v++}for(var j=O-T;j!==O&&S[j]===0;)j++;for(var H=a.repeat(B);j<O;++j)H+=r.charAt(S[j]);return H}function m(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return gi.alloc(0);for(var B=0,T=0,v=0;b[B]===a;)T++,B++;for(var k=(b.length-B)*c+1>>>0,O=new Uint8Array(k);B<b.length;){var S=t[b.charCodeAt(B)];if(S===255)return;for(var L=0,D=k-1;(S!==0||L<v)&&D!==-1;D--,L++)S+=o*O[D]>>>0,O[D]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");v=L,B++}for(var R=k-v;R!==k&&O[R]===0;)R++;var j=gi.allocUnsafe(T+(k-R));j.fill(0,0,T);for(var H=T;R!==k;)j[H++]=O[R++];return j}function I(b){var B=m(b);if(B)return B;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:m,decode:I}}var Th=_h,Ch=Th,Nh="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Lh=Ch(Nh);function Mn(r,t,e){return t<=r&&r<=e}function Ji(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function Dh(r){for(var t=String(r),e=t.length,n=0,s=[];n<e;){var i=t.charCodeAt(n);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(n===e-1)s.push(65533);else{var o=r.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=i&1023,c=o&1023;s.push(65536+(a<<10)+c),n+=1}else s.push(65533)}n+=1}return s}function kh(r){for(var t="",e=0;e<r.length;++e){var n=r[e];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var Li=-1;function oa(r){this.tokens=[].slice.call(r)}oa.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Li},prepend:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.push(t.shift());else this.tokens.push(r)}};var Tr=-1;function Fs(r,t){if(r)throw TypeError("Decoder error");return t||65533}var Di="utf-8";function ki(r,t){if(!(this instanceof ki))return new ki(r,t);if(r=r!==void 0?String(r).toLowerCase():Di,r!==Di)throw new Error("Encoding not supported. Only utf-8 is supported");t=Ji(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}ki.prototype={decode:function(t,e){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),e=Ji(e),this._streaming||(this._decoder=new Rh({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var s=new oa(n),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==Tr);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===Tr)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),kh(i)}};function Ri(r,t){if(!(this instanceof Ri))return new Ri(r,t);if(r=r!==void 0?String(r).toLowerCase():Di,r!==Di)throw new Error("Encoding not supported. Only utf-8 is supported");t=Ji(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Ri.prototype={encode:function(t,e){t=t?String(t):"",e=Ji(e),this._streaming||(this._encoder=new Oh(this._options)),this._streaming=!!e.stream;for(var n=[],s=new oa(Dh(t)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==Tr);)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==Tr;)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};function Rh(r){var t=r.fatal,e=0,n=0,s=0,i=128,o=191;this.handler=function(a,c){if(c===Li&&s!==0)return s=0,Fs(t);if(c===Li)return Tr;if(s===0){if(Mn(c,0,127))return c;if(Mn(c,194,223))s=1,e=c-192;else if(Mn(c,224,239))c===224&&(i=160),c===237&&(o=159),s=2,e=c-224;else if(Mn(c,240,244))c===240&&(i=144),c===244&&(o=143),s=3,e=c-240;else return Fs(t);return e=e<<6*s,null}if(!Mn(c,i,o))return e=s=n=0,i=128,o=191,a.prepend(c),Fs(t);if(i=128,o=191,n+=1,e+=c-128<<6*(s-n),n!==s)return null;var d=e;return e=s=n=0,d}}function Oh(r){r.fatal,this.handler=function(t,e){if(e===Li)return Tr;if(Mn(e,0,127))return e;var n,s;Mn(e,128,2047)?(n=1,s=192):Mn(e,2048,65535)?(n=2,s=224):Mn(e,65536,1114111)&&(n=3,s=240);for(var i=[(e>>6*n)+s];n>0;){var o=e>>6*(n-1);i.push(128|o&63),n-=1}return i}}const Ph=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:ki,TextEncoder:Ri},Symbol.toStringTag,{value:"Module"})),Uh=Zo(Ph);var jh=ln&&ln.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),zh=ln&&ln.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),yn=ln&&ln.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},Fh=ln&&ln.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.hasOwnProperty.call(r,e)&&jh(t,r,e);return zh(t,r),t},eu=ln&&ln.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ce,"__esModule",{value:!0});var nu=Ce.deserializeUnchecked=cu=Ce.deserialize=au=Ce.serialize=Ce.BinaryReader=Ce.BinaryWriter=Ce.BorshError=Ce.baseDecode=Ce.baseEncode=void 0;const Pn=eu(tu),ru=eu(Lh),Wh=Fh(Uh),Hh=typeof TextDecoder!="function"?Wh.TextDecoder:TextDecoder,Qh=new Hh("utf-8",{fatal:!0});function Gh(r){return typeof r=="string"&&(r=Buffer.from(r,"utf8")),ru.default.encode(Buffer.from(r))}Ce.baseEncode=Gh;function Kh(r){return Buffer.from(ru.default.decode(r))}Ce.baseDecode=Kh;const Ws=1024;class Ue extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Ce.BorshError=Ue;class iu{constructor(){this.buf=Buffer.alloc(Ws),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Ws)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Pn.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Pn.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Pn.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Pn.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(Ws)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}Ce.BinaryWriter=iu;function mn(r,t,e){const n=e.value;e.value=function(...s){try{return n.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Ue("Reached the end of buffer when deserializing")}throw i}}}class Je{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new Pn.default(t,"le")}readU128(){const t=this.readBuffer(16);return new Pn.default(t,"le")}readU256(){const t=this.readBuffer(32);return new Pn.default(t,"le")}readU512(){const t=this.readBuffer(64);return new Pn.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Ue(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return Qh.decode(e)}catch(n){throw new Ue(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let s=0;s<e;++s)n.push(t());return n}}yn([mn],Je.prototype,"readU8",null);yn([mn],Je.prototype,"readU16",null);yn([mn],Je.prototype,"readU32",null);yn([mn],Je.prototype,"readU64",null);yn([mn],Je.prototype,"readU128",null);yn([mn],Je.prototype,"readU256",null);yn([mn],Je.prototype,"readU512",null);yn([mn],Je.prototype,"readString",null);yn([mn],Je.prototype,"readFixedArray",null);yn([mn],Je.prototype,"readArray",null);Ce.BinaryReader=Je;function su(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Vn(r,t,e,n,s){try{if(typeof n=="string")s[`write${su(n)}`](e);else if(n instanceof Array)if(typeof n[0]=="number"){if(e.length!==n[0])throw new Ue(`Expecting byte array of length ${n[0]}, but got ${e.length} bytes`);s.writeFixedArray(e)}else if(n.length===2&&typeof n[1]=="number"){if(e.length!==n[1])throw new Ue(`Expecting byte array of length ${n[1]}, but got ${e.length} bytes`);for(let i=0;i<n[1];i++)Vn(r,null,e[i],n[0],s)}else s.writeArray(e,i=>{Vn(r,t,i,n[0],s)});else if(n.kind!==void 0)switch(n.kind){case"option":{e==null?s.writeU8(0):(s.writeU8(1),Vn(r,t,e,n.type,s));break}case"map":{s.writeU32(e.size),e.forEach((i,o)=>{Vn(r,t,o,n.key,s),Vn(r,t,i,n.value,s)});break}default:throw new Ue(`FieldType ${n} unrecognized`)}else ou(r,e,s)}catch(i){throw i instanceof Ue&&i.addToFieldPath(t),i}}function ou(r,t,e){if(typeof t.borshSerialize=="function"){t.borshSerialize(e);return}const n=r.get(t.constructor);if(!n)throw new Ue(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([s,i])=>{Vn(r,s,t[s],i,e)});else if(n.kind==="enum"){const s=t[n.field];for(let i=0;i<n.values.length;++i){const[o,a]=n.values[i];if(o===s){e.writeU8(i),Vn(r,o,t[o],a,e);break}}}else throw new Ue(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function Yh(r,t,e=iu){const n=new e;return ou(r,t,n),n.toArray()}var au=Ce.serialize=Yh;function Zn(r,t,e,n){try{if(typeof e=="string")return n[`read${su(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return n.readFixedArray(e[0]);if(typeof e[1]=="number"){const s=[];for(let i=0;i<e[1];i++)s.push(Zn(r,null,e[0],n));return s}else return n.readArray(()=>Zn(r,t,e[0],n))}if(e.kind==="option")return n.readU8()?Zn(r,t,e.type,n):void 0;if(e.kind==="map"){let s=new Map;const i=n.readU32();for(let o=0;o<i;o++){const a=Zn(r,t,e.key,n),c=Zn(r,t,e.value,n);s.set(a,c)}return s}return aa(r,e,n)}catch(s){throw s instanceof Ue&&s.addToFieldPath(t),s}}function aa(r,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);const n=r.get(t);if(!n)throw new Ue(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){const s={};for(const[i,o]of r.get(t).fields)s[i]=Zn(r,i,o,e);return new t(s)}if(n.kind==="enum"){const s=e.readU8();if(s>=n.values.length)throw new Ue(`Enum index: ${s} is out of range`);const[i,o]=n.values[s],a=Zn(r,i,o,e);return new t({[i]:a})}throw new Ue(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function qh(r,t,e,n=Je){const s=new n(e),i=aa(r,t,s);if(s.offset<e.length)throw new Ue(`Unexpected ${e.length-s.offset} bytes after deserialized data`);return i}var cu=Ce.deserialize=qh;function Vh(r,t,e,n=Je){const s=new n(e);return aa(r,t,s)}nu=Ce.deserializeUnchecked=Vh;var W={};Object.defineProperty(W,"__esModule",{value:!0});W.s16=W.s8=W.nu64be=W.u48be=W.u40be=W.u32be=W.u24be=W.u16be=_e=W.nu64=W.u48=W.u40=ft=W.u32=W.u24=tn=W.u16=Lt=W.u8=nr=W.offset=W.greedy=W.Constant=W.UTF8=W.CString=W.Blob=W.Boolean=W.BitField=W.BitStructure=W.VariantLayout=W.Union=W.UnionLayoutDiscriminator=W.UnionDiscriminator=W.Structure=W.Sequence=W.DoubleBE=W.Double=W.FloatBE=W.Float=W.NearInt64BE=W.NearInt64=W.NearUInt64BE=W.NearUInt64=W.IntBE=W.Int=W.UIntBE=W.UInt=W.OffsetLayout=W.GreedyCount=W.ExternalLayout=W.bindConstructorLayout=W.nameWithProperty=W.Layout=W.uint8ArrayToBuffer=W.checkUint8Array=void 0;W.constant=W.utf8=W.cstr=Ht=W.blob=W.unionLayoutDiscriminator=W.union=Pe=W.seq=W.bits=at=W.struct=W.f64be=W.f64=W.f32be=W.f32=W.ns64be=W.s48be=W.s40be=W.s32be=W.s24be=W.s16be=Ge=W.ns64=W.s48=W.s40=W.s32=W.s24=void 0;const ca=mt;function Pr(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}W.checkUint8Array=Pr;function Nt(r){return Pr(r),ca.Buffer.from(r.buffer,r.byteOffset,r.length)}W.uint8ArrayToBuffer=Nt;class kt{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}W.Layout=kt;function ua(r,t){return t.property?r+"["+t.property+"]":r}W.nameWithProperty=ua;function Zh(r,t){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof kt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,"decode",{value(e,n){return t.decode(e,n)},writable:!0})}W.bindConstructorLayout=Zh;class He extends kt{isCount(){throw new Error("ExternalLayout is abstract")}}W.ExternalLayout=He;class uu extends He{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){Pr(t);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}W.GreedyCount=uu;class la extends He{constructor(t,e=0,n){if(!(t instanceof kt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof rn||this.layout instanceof un}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}W.OffsetLayout=la;class rn extends kt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Nt(t).readUIntLE(e,this.span)}encode(t,e,n=0){return Nt(e).writeUIntLE(t,n,this.span),this.span}}W.UInt=rn;class un extends kt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Nt(t).readUIntBE(e,this.span)}encode(t,e,n=0){return Nt(e).writeUIntBE(t,n,this.span),this.span}}W.UIntBE=un;class ar extends kt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Nt(t).readIntLE(e,this.span)}encode(t,e,n=0){return Nt(e).writeIntLE(t,n,this.span),this.span}}W.Int=ar;class Ur extends kt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Nt(t).readIntBE(e,this.span)}encode(t,e,n=0){return Nt(e).writeIntBE(t,n,this.span),this.span}}W.IntBE=Ur;const vo=Math.pow(2,32);function Xi(r){const t=Math.floor(r/vo),e=r-t*vo;return{hi32:t,lo32:e}}function $i(r,t){return r*vo+t}class lu extends kt{constructor(t){super(8,t)}decode(t,e=0){const n=Nt(t),s=n.readUInt32LE(e),i=n.readUInt32LE(e+4);return $i(i,s)}encode(t,e,n=0){const s=Xi(t),i=Nt(e);return i.writeUInt32LE(s.lo32,n),i.writeUInt32LE(s.hi32,n+4),8}}W.NearUInt64=lu;class fu extends kt{constructor(t){super(8,t)}decode(t,e=0){const n=Nt(t),s=n.readUInt32BE(e),i=n.readUInt32BE(e+4);return $i(s,i)}encode(t,e,n=0){const s=Xi(t),i=Nt(e);return i.writeUInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}}W.NearUInt64BE=fu;class hu extends kt{constructor(t){super(8,t)}decode(t,e=0){const n=Nt(t),s=n.readUInt32LE(e),i=n.readInt32LE(e+4);return $i(i,s)}encode(t,e,n=0){const s=Xi(t),i=Nt(e);return i.writeUInt32LE(s.lo32,n),i.writeInt32LE(s.hi32,n+4),8}}W.NearInt64=hu;class du extends kt{constructor(t){super(8,t)}decode(t,e=0){const n=Nt(t),s=n.readInt32BE(e),i=n.readUInt32BE(e+4);return $i(s,i)}encode(t,e,n=0){const s=Xi(t),i=Nt(e);return i.writeInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}}W.NearInt64BE=du;class gu extends kt{constructor(t){super(4,t)}decode(t,e=0){return Nt(t).readFloatLE(e)}encode(t,e,n=0){return Nt(e).writeFloatLE(t,n),4}}W.Float=gu;class pu extends kt{constructor(t){super(4,t)}decode(t,e=0){return Nt(t).readFloatBE(e)}encode(t,e,n=0){return Nt(e).writeFloatBE(t,n),4}}W.FloatBE=pu;class wu extends kt{constructor(t){super(8,t)}decode(t,e=0){return Nt(t).readDoubleLE(e)}encode(t,e,n=0){return Nt(e).writeDoubleLE(t,n),8}}W.Double=wu;class yu extends kt{constructor(t){super(8,t)}decode(t,e=0){return Nt(t).readDoubleBE(e)}encode(t,e,n=0){return Nt(e).writeDoubleBE(t,n),8}}W.DoubleBE=yu;class mu extends kt{constructor(t,e,n){if(!(t instanceof kt))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof He&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(e instanceof He)&&0<t.span&&(s=e*t.span),super(s,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,s=this.count;if(s instanceof He&&(s=s.decode(t,e)),0<this.elementLayout.span)n=s*this.elementLayout.span;else{let i=0;for(;i<s;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e=0){const n=[];let s=0,i=this.count;for(i instanceof He&&(i=i.decode(t,e));s<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),s+=1;return n}encode(t,e,n=0){const s=this.elementLayout,i=t.reduce((o,a)=>o+s.encode(a,e,n+o),0);return this.count instanceof He&&this.count.encode(t.length,e,n),i}}W.Sequence=mu;class Au extends kt{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((i,o)=>i&&o instanceof kt,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=t.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((s,i)=>{const o=i.getSpan(t,e);return e+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e=0){Pr(t);const n=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(n[s.property]=s.decode(t,e)),e+=s.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const s=n;let i=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const d=t[a.property];d!==void 0&&(o=a.encode(d,e,n),0>c&&(c=a.getSpan(e,n)))}i=n,n+=c}return i+o-s}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}W.Structure=Au;class fa{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}}W.UnionDiscriminator=fa;class Oi extends fa{constructor(t,e){if(!(t instanceof He&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}W.UnionLayoutDiscriminator=Oi;class ha extends kt{constructor(t,e,n){let s;if(t instanceof rn||t instanceof un)s=new Oi(new la(t));else if(t instanceof He&&t.isCount())s=new Oi(t);else if(t instanceof fa)s=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof kt))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof rn||t instanceof un)&&(i+=s.layout.span)),super(i,n),this.discriminator=s,this.usesPrefixDiscriminator=t instanceof rn||t instanceof un,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n;const s=this.discriminator,i=s.decode(t,e),o=this.registry[i];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=s.layout.span),n=this.makeDestinationObject(),n[s.property]=i,n[a.property]=a.decode(t,e+c)}else n=o.decode(t,e);return n}encode(t,e,n=0){const s=this.getSourceVariant(t);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(t[i.property],e,n),a+o.encode(t[o.property],e,n+a)}return s.encode(t,e,n)}addVariant(t,e,n){const s=new bu(this,t,e,n);return this.registry[t]=s,s}getVariant(t,e=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,e):n=t,this.registry[n]}}W.Union=ha;class bu extends kt{constructor(t,e,n,s){if(!(t instanceof ha))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&s===void 0&&(s=n,n=null),n){if(!(n instanceof kt))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,s),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(t,e+n)),n+s}decode(t,e=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+s):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=s;if(this.layout&&(this.layout.encode(t[this.property],e,n+s),i+=this.layout.getSpan(e,n+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}W.VariantLayout=bu;function yr(r){return 0>r&&(r+=4294967296),r}class da extends kt{constructor(t,e,n){if(!(t instanceof rn||t instanceof un))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&n===void 0&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let s=0;this._packedSetValue=function(i){return s=yr(i),this},this._packedGetValue=function(){return s}}decode(t,e=0){const n=this.makeDestinationObject(),s=this.word.decode(t,e);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(t));return n}encode(t,e,n=0){const s=this.word.decode(e,n);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=t[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new ga(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new vu(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}W.BitStructure=da;class ga{constructor(t,e,n){if(!(t instanceof da))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const s=8*t.span,i=t.fields.reduce((o,a)=>o+a.bits,0);if(e+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-e),this.wordMask=yr(this.valueMask<<this.start),this.property=n}decode(t,e){const n=this.container._packedGetValue();return yr(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==yr(t&this.valueMask))throw new TypeError(ua("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=yr(t<<this.start);this.container._packedSetValue(yr(e&~this.wordMask)|n)}}W.BitField=ga;let vu=class extends ga{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};W.Boolean=vu;class Eu extends kt{constructor(t,e){if(!(t instanceof He&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof He||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),Nt(t).slice(e,e+n)}encode(t,e,n){let s=this.length;if(this.length instanceof He&&(s=t.length),!(t instanceof Uint8Array&&s===t.length))throw new TypeError(ua("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(n+s>e.length)throw new RangeError("encoding overruns Uint8Array");const i=Nt(t);return Nt(e).write(i.toString("hex"),n,s,"hex"),this.length instanceof He&&this.length.encode(s,e,n),s}}W.Blob=Eu;class Mu extends kt{constructor(t){super(-1,t)}getSpan(t,e=0){Pr(t);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e=0){const n=this.getSpan(t,e);return Nt(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const s=ca.Buffer.from(t,"utf8"),i=s.length;if(n+i>e.length)throw new RangeError("encoding overruns Buffer");const o=Nt(e);return s.copy(o,n),o[n+i]=0,i+1}}W.CString=Mu;class Su extends kt{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return Pr(t),t.length-e}decode(t,e=0){const n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Nt(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const s=ca.Buffer.from(t,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return s.copy(Nt(e),n),i}}W.UTF8=Su;class Iu extends kt{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}}W.Constant=Iu;W.greedy=(r,t)=>new uu(r,t);var nr=W.offset=(r,t,e)=>new la(r,t,e),Lt=W.u8=r=>new rn(1,r),tn=W.u16=r=>new rn(2,r);W.u24=r=>new rn(3,r);var ft=W.u32=r=>new rn(4,r);W.u40=r=>new rn(5,r);W.u48=r=>new rn(6,r);var _e=W.nu64=r=>new lu(r);W.u16be=r=>new un(2,r);W.u24be=r=>new un(3,r);W.u32be=r=>new un(4,r);W.u40be=r=>new un(5,r);W.u48be=r=>new un(6,r);W.nu64be=r=>new fu(r);W.s8=r=>new ar(1,r);W.s16=r=>new ar(2,r);W.s24=r=>new ar(3,r);W.s32=r=>new ar(4,r);W.s40=r=>new ar(5,r);W.s48=r=>new ar(6,r);var Ge=W.ns64=r=>new hu(r);W.s16be=r=>new Ur(2,r);W.s24be=r=>new Ur(3,r);W.s32be=r=>new Ur(4,r);W.s40be=r=>new Ur(5,r);W.s48be=r=>new Ur(6,r);W.ns64be=r=>new du(r);W.f32=r=>new gu(r);W.f32be=r=>new pu(r);W.f64=r=>new wu(r);W.f64be=r=>new yu(r);var at=W.struct=(r,t,e)=>new Au(r,t,e);W.bits=(r,t,e)=>new da(r,t,e);var Pe=W.seq=(r,t,e)=>new mu(r,t,e);W.union=(r,t,e)=>new ha(r,t,e);W.unionLayoutDiscriminator=(r,t)=>new Oi(r,t);var Ht=W.blob=(r,t)=>new Eu(r,t);W.cstr=r=>new Mu(r);W.utf8=(r,t)=>new Su(r,t);W.constant=(r,t)=>new Iu(r,t);var ri={};Object.defineProperty(ri,"__esModule",{value:!0});function Jh(r){{const t=Buffer.from(r);t.reverse();const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}var Xh=ri.toBigIntLE=Jh;function $h(r){{const t=r.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}ri.toBigIntBE=$h;function td(r,t){{const e=r.toString(16),n=Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex");return n.reverse(),n}}var ed=ri.toBufferLE=td;function nd(r,t){{const e=r.toString(16);return Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex")}}ri.toBufferBE=nd;class rd extends TypeError{constructor(t,e){let n;const{message:s,explanation:i,...o}=t,{path:a}=t,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...e()])}}function id(r){return ii(r)&&typeof r[Symbol.iterator]=="function"}function ii(r){return typeof r=="object"&&r!=null}function Pi(r){return ii(r)&&!Array.isArray(r)}function fn(r){return typeof r=="symbol"?r.toString():typeof r=="string"?JSON.stringify(r):`${r}`}function sd(r){const{done:t,value:e}=r.next();return t?void 0:e}function od(r,t,e,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:s,branch:i}=t,{type:o}=e,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${fn(n)}\``}=r;return{value:n,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...r,message:c}}function*Ja(r,t,e,n){id(r)||(r=[r]);for(const s of r){const i=od(s,t,e,n);i&&(yield i)}}function*pa(r,t,e={}){const{path:n=[],branch:s=[r],coerce:i=!1,mask:o=!1}=e,a={path:n,branch:s,mask:o};i&&(r=t.coercer(r,a));let c="valid";for(const d of t.validator(r,a))d.explanation=e.message,c="not_valid",yield[d,void 0];for(let[d,p,m]of t.entries(r,a)){const I=pa(p,m,{path:d===void 0?n:[...n,d],branch:d===void 0?s:[...s,p],coerce:i,mask:o,message:e.message});for(const b of I)b[0]?(c=b[0].refinement!=null?"not_refined":"not_valid",yield[b[0],void 0]):i&&(p=b[1],d===void 0?r=p:r instanceof Map?r.set(d,p):r instanceof Set?r.add(p):ii(r)&&(p!==void 0||d in r)&&(r[d]=p))}if(c!=="not_valid")for(const d of t.refiner(r,a))d.explanation=e.message,c="not_refined",yield[d,void 0];c==="valid"&&(yield[void 0,r])}let An=class{constructor(t){const{type:e,schema:n,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=e,this.schema=n,this.entries=a,this.coercer=o,s?this.validator=(c,d)=>{const p=s(c,d);return Ja(p,d,this,c)}:this.validator=()=>[],i?this.refiner=(c,d)=>{const p=i(c,d);return Ja(p,d,this,c)}:this.refiner=()=>[]}assert(t,e){return ad(t,this,e)}create(t,e){return tt(t,this,e)}is(t){return xu(t,this)}mask(t,e){return cd(t,this,e)}validate(t,e={}){return si(t,this,e)}};function ad(r,t,e){const n=si(r,t,{message:e});if(n[0])throw n[0]}function tt(r,t,e){const n=si(r,t,{coerce:!0,message:e});if(n[0])throw n[0];return n[1]}function cd(r,t,e){const n=si(r,t,{coerce:!0,mask:!0,message:e});if(n[0])throw n[0];return n[1]}function xu(r,t){return!si(r,t)[0]}function si(r,t,e={}){const n=pa(r,t,e),s=sd(n);return s[0]?[new rd(s[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function cr(r,t){return new An({type:r,schema:null,validator:t})}function ud(){return cr("any",()=>!0)}function nt(r){return new An({type:"array",schema:r,*entries(t){if(r&&Array.isArray(t))for(const[e,n]of t.entries())yield[e,n,r]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${fn(t)}`}})}function wn(){return cr("boolean",r=>typeof r=="boolean")}function wa(r){return cr("instance",t=>t instanceof r||`Expected a \`${r.name}\` instance, but received: ${fn(t)}`)}function qt(r){const t=fn(r),e=typeof r;return new An({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?r:null,validator(n){return n===r||`Expected the literal \`${t}\`, but received: ${fn(n)}`}})}function ld(){return cr("never",()=>!1)}function it(r){return new An({...r,validator:(t,e)=>t===null||r.validator(t,e),refiner:(t,e)=>t===null||r.refiner(t,e)})}function F(){return cr("number",r=>typeof r=="number"&&!isNaN(r)||`Expected a number, but received: ${fn(r)}`)}function ht(r){return new An({...r,validator:(t,e)=>t===void 0||r.validator(t,e),refiner:(t,e)=>t===void 0||r.refiner(t,e)})}function Bu(r,t){return new An({type:"record",schema:null,*entries(e){if(ii(e))for(const n in e){const s=e[n];yield[n,n,r],yield[n,s,t]}},validator(e){return Pi(e)||`Expected an object, but received: ${fn(e)}`},coercer(e){return Pi(e)?{...e}:e}})}function J(){return cr("string",r=>typeof r=="string"||`Expected a string, but received: ${fn(r)}`)}function ya(r){const t=ld();return new An({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const n=Math.max(r.length,e.length);for(let s=0;s<n;s++)yield[s,e[s],r[s]||t]}},validator(e){return Array.isArray(e)||`Expected an array, but received: ${fn(e)}`},coercer(e){return Array.isArray(e)?e.slice():e}})}function Y(r){const t=Object.keys(r);return new An({type:"type",schema:r,*entries(e){if(ii(e))for(const n of t)yield[n,e[n],r[n]]},validator(e){return Pi(e)||`Expected an object, but received: ${fn(e)}`},coercer(e){return Pi(e)?{...e}:e}})}function je(r){const t=r.map(e=>e.type).join(" | ");return new An({type:"union",schema:null,coercer(e,n){for(const s of r){const[i,o]=s.validate(e,{coerce:!0,mask:n.mask});if(!i)return o}return e},validator(e,n){const s=[];for(const i of r){const[...o]=pa(e,i,n),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${fn(e)}`,...s]}})}function jr(){return cr("unknown",()=>!0)}function oi(r,t,e){return new An({...r,coercer:(n,s)=>xu(n,t)?r.coercer(e(n,s),s):r.coercer(n,s)})}var pi,fd=new Uint8Array(16);function _u(){if(!pi&&(pi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!pi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pi(fd)}const hd=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ts(r){return typeof r=="string"&&hd.test(r)}var Be=[];for(var Hs=0;Hs<256;++Hs)Be.push((Hs+256).toString(16).substr(1));function es(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(Be[r[t+0]]+Be[r[t+1]]+Be[r[t+2]]+Be[r[t+3]]+"-"+Be[r[t+4]]+Be[r[t+5]]+"-"+Be[r[t+6]]+Be[r[t+7]]+"-"+Be[r[t+8]]+Be[r[t+9]]+"-"+Be[r[t+10]]+Be[r[t+11]]+Be[r[t+12]]+Be[r[t+13]]+Be[r[t+14]]+Be[r[t+15]]).toLowerCase();if(!ts(e))throw TypeError("Stringified UUID is invalid");return e}var Xa,Qs,Gs=0,Ks=0;function dd(r,t,e){var n=t&&e||0,s=t||new Array(16);r=r||{};var i=r.node||Xa,o=r.clockseq!==void 0?r.clockseq:Qs;if(i==null||o==null){var a=r.random||(r.rng||_u)();i==null&&(i=Xa=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Qs=(a[6]<<8|a[7])&16383)}var c=r.msecs!==void 0?r.msecs:Date.now(),d=r.nsecs!==void 0?r.nsecs:Ks+1,p=c-Gs+(d-Ks)/1e4;if(p<0&&r.clockseq===void 0&&(o=o+1&16383),(p<0||c>Gs)&&r.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Gs=c,Ks=d,Qs=o,c+=122192928e5;var m=((c&268435455)*1e4+d)%4294967296;s[n++]=m>>>24&255,s[n++]=m>>>16&255,s[n++]=m>>>8&255,s[n++]=m&255;var I=c/4294967296*1e4&268435455;s[n++]=I>>>8&255,s[n++]=I&255,s[n++]=I>>>24&15|16,s[n++]=I>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(var b=0;b<6;++b)s[n+b]=i[b];return t||es(s)}function Tu(r){if(!ts(r))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function gd(r){r=unescape(encodeURIComponent(r));for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}var pd="6ba7b810-9dad-11d1-80b4-00c04fd430c8",wd="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Cu(r,t,e){function n(s,i,o,a){if(typeof s=="string"&&(s=gd(s)),typeof i=="string"&&(i=Tu(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+s.length);if(c.set(i),c.set(s,i.length),c=e(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){a=a||0;for(var d=0;d<16;++d)o[a+d]=c[d];return o}return es(c)}try{n.name=r}catch{}return n.DNS=pd,n.URL=wd,n}function yd(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return md(Ad(bd(r),r.length*8))}function md(r){for(var t=[],e=r.length*32,n="0123456789abcdef",s=0;s<e;s+=8){var i=r[s>>5]>>>s%32&255,o=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);t.push(o)}return t}function Nu(r){return(r+64>>>9<<4)+14+1}function Ad(r,t){r[t>>5]|=128<<t%32,r[Nu(t)-1]=t;for(var e=1732584193,n=-271733879,s=-1732584194,i=271733878,o=0;o<r.length;o+=16){var a=e,c=n,d=s,p=i;e=Le(e,n,s,i,r[o],7,-680876936),i=Le(i,e,n,s,r[o+1],12,-389564586),s=Le(s,i,e,n,r[o+2],17,606105819),n=Le(n,s,i,e,r[o+3],22,-1044525330),e=Le(e,n,s,i,r[o+4],7,-176418897),i=Le(i,e,n,s,r[o+5],12,1200080426),s=Le(s,i,e,n,r[o+6],17,-1473231341),n=Le(n,s,i,e,r[o+7],22,-45705983),e=Le(e,n,s,i,r[o+8],7,1770035416),i=Le(i,e,n,s,r[o+9],12,-1958414417),s=Le(s,i,e,n,r[o+10],17,-42063),n=Le(n,s,i,e,r[o+11],22,-1990404162),e=Le(e,n,s,i,r[o+12],7,1804603682),i=Le(i,e,n,s,r[o+13],12,-40341101),s=Le(s,i,e,n,r[o+14],17,-1502002290),n=Le(n,s,i,e,r[o+15],22,1236535329),e=De(e,n,s,i,r[o+1],5,-165796510),i=De(i,e,n,s,r[o+6],9,-1069501632),s=De(s,i,e,n,r[o+11],14,643717713),n=De(n,s,i,e,r[o],20,-373897302),e=De(e,n,s,i,r[o+5],5,-701558691),i=De(i,e,n,s,r[o+10],9,38016083),s=De(s,i,e,n,r[o+15],14,-660478335),n=De(n,s,i,e,r[o+4],20,-405537848),e=De(e,n,s,i,r[o+9],5,568446438),i=De(i,e,n,s,r[o+14],9,-1019803690),s=De(s,i,e,n,r[o+3],14,-187363961),n=De(n,s,i,e,r[o+8],20,1163531501),e=De(e,n,s,i,r[o+13],5,-1444681467),i=De(i,e,n,s,r[o+2],9,-51403784),s=De(s,i,e,n,r[o+7],14,1735328473),n=De(n,s,i,e,r[o+12],20,-1926607734),e=ke(e,n,s,i,r[o+5],4,-378558),i=ke(i,e,n,s,r[o+8],11,-2022574463),s=ke(s,i,e,n,r[o+11],16,1839030562),n=ke(n,s,i,e,r[o+14],23,-35309556),e=ke(e,n,s,i,r[o+1],4,-1530992060),i=ke(i,e,n,s,r[o+4],11,1272893353),s=ke(s,i,e,n,r[o+7],16,-155497632),n=ke(n,s,i,e,r[o+10],23,-1094730640),e=ke(e,n,s,i,r[o+13],4,681279174),i=ke(i,e,n,s,r[o],11,-358537222),s=ke(s,i,e,n,r[o+3],16,-722521979),n=ke(n,s,i,e,r[o+6],23,76029189),e=ke(e,n,s,i,r[o+9],4,-640364487),i=ke(i,e,n,s,r[o+12],11,-421815835),s=ke(s,i,e,n,r[o+15],16,530742520),n=ke(n,s,i,e,r[o+2],23,-995338651),e=Re(e,n,s,i,r[o],6,-198630844),i=Re(i,e,n,s,r[o+7],10,1126891415),s=Re(s,i,e,n,r[o+14],15,-1416354905),n=Re(n,s,i,e,r[o+5],21,-57434055),e=Re(e,n,s,i,r[o+12],6,1700485571),i=Re(i,e,n,s,r[o+3],10,-1894986606),s=Re(s,i,e,n,r[o+10],15,-1051523),n=Re(n,s,i,e,r[o+1],21,-2054922799),e=Re(e,n,s,i,r[o+8],6,1873313359),i=Re(i,e,n,s,r[o+15],10,-30611744),s=Re(s,i,e,n,r[o+6],15,-1560198380),n=Re(n,s,i,e,r[o+13],21,1309151649),e=Re(e,n,s,i,r[o+4],6,-145523070),i=Re(i,e,n,s,r[o+11],10,-1120210379),s=Re(s,i,e,n,r[o+2],15,718787259),n=Re(n,s,i,e,r[o+9],21,-343485551),e=Un(e,a),n=Un(n,c),s=Un(s,d),i=Un(i,p)}return[e,n,s,i]}function bd(r){if(r.length===0)return[];for(var t=r.length*8,e=new Uint32Array(Nu(t)),n=0;n<t;n+=8)e[n>>5]|=(r[n/8]&255)<<n%32;return e}function Un(r,t){var e=(r&65535)+(t&65535),n=(r>>16)+(t>>16)+(e>>16);return n<<16|e&65535}function vd(r,t){return r<<t|r>>>32-t}function ns(r,t,e,n,s,i){return Un(vd(Un(Un(t,r),Un(n,i)),s),e)}function Le(r,t,e,n,s,i,o){return ns(t&e|~t&n,r,t,s,i,o)}function De(r,t,e,n,s,i,o){return ns(t&n|e&~n,r,t,s,i,o)}function ke(r,t,e,n,s,i,o){return ns(t^e^n,r,t,s,i,o)}function Re(r,t,e,n,s,i,o){return ns(e^(t|~n),r,t,s,i,o)}var Ed=Cu("v3",48,yd);function Md(r,t,e){r=r||{};var n=r.random||(r.rng||_u)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var s=0;s<16;++s)t[e+s]=n[s];return t}return es(n)}function Sd(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:return t^e^n;case 2:return t&e^t&n^e&n;case 3:return t^e^n}}function Ys(r,t){return r<<t|r>>>32-t}function Id(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var s=0;s<n.length;++s)r.push(n.charCodeAt(s))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var i=r.length/4+2,o=Math.ceil(i/16),a=new Array(o),c=0;c<o;++c){for(var d=new Uint32Array(16),p=0;p<16;++p)d[p]=r[c*64+p*4]<<24|r[c*64+p*4+1]<<16|r[c*64+p*4+2]<<8|r[c*64+p*4+3];a[c]=d}a[o-1][14]=(r.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(r.length-1)*8&4294967295;for(var m=0;m<o;++m){for(var I=new Uint32Array(80),b=0;b<16;++b)I[b]=a[m][b];for(var B=16;B<80;++B)I[B]=Ys(I[B-3]^I[B-8]^I[B-14]^I[B-16],1);for(var T=e[0],v=e[1],k=e[2],O=e[3],S=e[4],L=0;L<80;++L){var D=Math.floor(L/20),R=Ys(T,5)+Sd(D,v,k,O)+S+t[D]+I[L]>>>0;S=O,O=k,k=Ys(v,30)>>>0,v=T,T=R}e[0]=e[0]+T>>>0,e[1]=e[1]+v>>>0,e[2]=e[2]+k>>>0,e[3]=e[3]+O>>>0,e[4]=e[4]+S>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var xd=Cu("v5",80,Id);const Bd="00000000-0000-0000-0000-000000000000";function _d(r){if(!ts(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const Td=Object.freeze(Object.defineProperty({__proto__:null,NIL:Bd,parse:Tu,stringify:es,v1:dd,v3:Ed,v4:Md,v5:xd,validate:ts,version:_d},Symbol.toStringTag,{value:"Module"})),Lu=Zo(Td),Cd=Lu.v4,Nd=function(r,t,e,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};const s=typeof n.version=="number"?n.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:r};if(s===2&&(i.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");i.params=t}if(typeof e>"u"){const o=typeof n.generator=="function"?n.generator:function(){return Cd()};i.id=o(i,n)}else s===2&&e===null?n.notificationIdNull&&(i.id=null):i.id=e;return i};var Ld=Nd;const Dd=Lu.v4,kd=Ld,Zr=function(r,t){if(!(this instanceof Zr))return new Zr(r,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return Dd()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=r};var Rd=Zr;Zr.prototype.request=function(r,t,e,n){const s=this;let i=null;const o=Array.isArray(r)&&typeof t=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&r&&typeof r=="object"&&typeof t=="function")n=t,i=r;else{typeof e=="function"&&(n=e,e=void 0);const d=typeof n=="function";try{i=kd(r,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(p){if(d)return n(p);throw p}if(!d)return i}let c;try{c=JSON.stringify(i,this.options.replacer)}catch(d){return n(d)}return this.callServer(c,function(d,p){s._parseResponse(d,p,n)}),i};Zr.prototype._parseResponse=function(r,t,e){if(r){e(r);return}if(!t)return e();let n;try{n=JSON.parse(t,this.options.reviver)}catch(s){return e(s)}if(e.length===3)if(Array.isArray(n)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return e(null,n.filter(s),n.filter(i))}else return e(null,n.error,n.result);e(null,n)};const Od=Wn(Rd);var Du={exports:{}};(function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(c,d,p){this.fn=c,this.context=d,this.once=p||!1}function i(c,d,p,m,I){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new s(p,m||c,I),B=e?e+d:d;return c._events[B]?c._events[B].fn?c._events[B]=[c._events[B],b]:c._events[B].push(b):(c._events[B]=b,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var d=[],p,m;if(this._eventsCount===0)return d;for(m in p=this._events)t.call(p,m)&&d.push(e?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},a.prototype.listeners=function(d){var p=e?e+d:d,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var I=0,b=m.length,B=new Array(b);I<b;I++)B[I]=m[I].fn;return B},a.prototype.listenerCount=function(d){var p=e?e+d:d,m=this._events[p];return m?m.fn?1:m.length:0},a.prototype.emit=function(d,p,m,I,b,B){var T=e?e+d:d;if(!this._events[T])return!1;var v=this._events[T],k=arguments.length,O,S;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),k){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,p),!0;case 3:return v.fn.call(v.context,p,m),!0;case 4:return v.fn.call(v.context,p,m,I),!0;case 5:return v.fn.call(v.context,p,m,I,b),!0;case 6:return v.fn.call(v.context,p,m,I,b,B),!0}for(S=1,O=new Array(k-1);S<k;S++)O[S-1]=arguments[S];v.fn.apply(v.context,O)}else{var L=v.length,D;for(S=0;S<L;S++)switch(v[S].once&&this.removeListener(d,v[S].fn,void 0,!0),k){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,p);break;case 3:v[S].fn.call(v[S].context,p,m);break;case 4:v[S].fn.call(v[S].context,p,m,I);break;default:if(!O)for(D=1,O=new Array(k-1);D<k;D++)O[D-1]=arguments[D];v[S].fn.apply(v[S].context,O)}}return!0},a.prototype.on=function(d,p,m){return i(this,d,p,m,!1)},a.prototype.once=function(d,p,m){return i(this,d,p,m,!0)},a.prototype.removeListener=function(d,p,m,I){var b=e?e+d:d;if(!this._events[b])return this;if(!p)return o(this,b),this;var B=this._events[b];if(B.fn)B.fn===p&&(!I||B.once)&&(!m||B.context===m)&&o(this,b);else{for(var T=0,v=[],k=B.length;T<k;T++)(B[T].fn!==p||I&&!B[T].once||m&&B[T].context!==m)&&v.push(B[T]);v.length?this._events[b]=v.length===1?v[0]:v:o(this,b)}return this},a.prototype.removeAllListeners=function(d){var p;return d?(p=e?e+d:d,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,r.exports=a})(Du);var Pd=Du.exports;const ku=Wn(Pd);var Ud=class extends ku{constructor(t,e,n){super();Ee(this,"socket");this.socket=new window.WebSocket(t,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,e,n){const s=n||e;try{this.socket.send(t),s()}catch(i){s(i)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,n){this.socket.addEventListener(t,e,n)}};function jd(r,t){return new Ud(r,t)}var zd=class{encode(r){return JSON.stringify(r)}decode(r){return JSON.parse(r)}},Fd=class extends ku{constructor(t,e="ws://localhost:8080",{autoconnect:n=!0,reconnect:s=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...a}={},c,d){super();Ee(this,"address");Ee(this,"rpc_id");Ee(this,"queue");Ee(this,"options");Ee(this,"autoconnect");Ee(this,"ready");Ee(this,"reconnect");Ee(this,"reconnect_timer_id");Ee(this,"reconnect_interval");Ee(this,"max_reconnects");Ee(this,"rest_options");Ee(this,"current_reconnects");Ee(this,"generate_request_id");Ee(this,"socket");Ee(this,"webSocketFactory");Ee(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=n,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>++this.rpc_id),d?this.dataPack=d:this.dataPack=new zd,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,n,s){return!s&&typeof n=="object"&&(s=n,n=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(t,e),c={jsonrpc:"2.0",method:t,params:e||void 0,id:a};this.socket.send(this.dataPack.encode(c),s,d=>{if(d)return o(d);this.queue[a]={promise:[i,o]},n&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},n))})})}async login(t){const e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise((n,s)=>{if(!this.ready)return s(new Error("socket not ready"));const i={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(i),o=>{if(o)return s(o);n()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const e=await this.call("rpc.on",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){typeof t=="string"&&(t=[t]);const e=await this.call("rpc.off",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=mt.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const s=[n.notification];if(n.params.constructor===Object)s.push(n.params);else for(let i=0;i<n.params.length;i++)s.push(n.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n==null?void 0:n.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",n,s),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval)))})}};class Ru extends zc{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,of(t);const n=Xo(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?t.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return Ni(this),this.iHash.update(t),this}digestInto(t){Ni(this),Ki(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ou=(r,t,e)=>new Ru(r,t).update(e).digest();Ou.create=(r,t)=>new Ru(r,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $a(r){r.lowS!==void 0&&Bn("lowS",r.lowS),r.prehash!==void 0&&Bn("prehash",r.prehash)}function Wd(r){const t=ea(r);Or(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:e,Fp:n,a:s}=t;if(e){if(!n.eql(s,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Hd,hexToBytes:Qd}=Yf,En={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(r,t)=>{const{Err:e}=En;if(r<0||r>256)throw new e("tlv.encode: wrong tag");if(t.length&1)throw new e("tlv.encode: unpadded data");const n=t.length/2,s=br(n);if(s.length/2&128)throw new e("tlv.encode: long form length too big");const i=n>127?br(s.length/2|128):"";return br(r)+i+s+t},decode(r,t){const{Err:e}=En;let n=0;if(r<0||r>256)throw new e("tlv.encode: wrong tag");if(t.length<2||t[n++]!==r)throw new e("tlv.decode: wrong tlv");const s=t[n++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new e("tlv.decode(long): indefinite length not supported");if(c>4)throw new e("tlv.decode(long): byte length is too big");const d=t.subarray(n,n+c);if(d.length!==c)throw new e("tlv.decode: length bytes not complete");if(d[0]===0)throw new e("tlv.decode(long): zero leftmost byte");for(const p of d)o=o<<8|p;if(n+=c,o<128)throw new e("tlv.decode(long): not minimal encoding")}const a=t.subarray(n,n+o);if(a.length!==o)throw new e("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+o)}}},_int:{encode(r){const{Err:t}=En;if(r<Sn)throw new t("integer: negative integers are not allowed");let e=br(r);if(Number.parseInt(e[0],16)&8&&(e="00"+e),e.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return e},decode(r){const{Err:t}=En;if(r[0]&128)throw new t("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Hd(r)}},toSig(r){const{Err:t,_int:e,_tlv:n}=En,s=typeof r=="string"?Qd(r):r;ni(s);const{v:i,l:o}=n.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,i),{v:d,l:p}=n.decode(2,c);if(p.length)throw new t("invalid signature: left bytes after parsing");return{r:e.decode(a),s:e.decode(d)}},hexFromSig(r){const{_tlv:t,_int:e}=En,n=t.encode(2,e.encode(r.r)),s=t.encode(2,e.encode(r.s)),i=n+s;return t.encode(48,i)}},Sn=BigInt(0),Me=BigInt(1);BigInt(2);const tc=BigInt(3);BigInt(4);function Gd(r){const t=Wd(r),{Fp:e}=t,n=Zi(t.n,t.nBitLength),s=t.toBytes||((T,v,k)=>{const O=v.toAffine();return or(Uint8Array.from([4]),e.toBytes(O.x),e.toBytes(O.y))}),i=t.fromBytes||(T=>{const v=T.subarray(1),k=e.fromBytes(v.subarray(0,e.BYTES)),O=e.fromBytes(v.subarray(e.BYTES,2*e.BYTES));return{x:k,y:O}});function o(T){const{a:v,b:k}=t,O=e.sqr(T),S=e.mul(O,T);return e.add(e.add(S,e.mul(T,v)),k)}if(!e.eql(e.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(T){return Vi(T,Me,t.n)}function c(T){const{allowedPrivateKeyLengths:v,nByteLength:k,wrapPrivateKey:O,n:S}=t;if(v&&typeof T!="bigint"){if(ir(T)&&(T=sr(T)),typeof T!="string"||!v.includes(T.length))throw new Error("invalid private key");T=T.padStart(k*2,"0")}let L;try{L=typeof T=="bigint"?T:er(Ae("private key",T,k))}catch{throw new Error("invalid private key, expected hex or "+k+" bytes, got "+typeof T)}return O&&(L=Kt(L,S)),en("private key",L,Me,S),L}function d(T){if(!(T instanceof I))throw new Error("ProjectivePoint expected")}const p=Vr((T,v)=>{const{px:k,py:O,pz:S}=T;if(e.eql(S,e.ONE))return{x:k,y:O};const L=T.is0();v==null&&(v=L?e.ONE:e.inv(S));const D=e.mul(k,v),R=e.mul(O,v),j=e.mul(S,v);if(L)return{x:e.ZERO,y:e.ZERO};if(!e.eql(j,e.ONE))throw new Error("invZ was invalid");return{x:D,y:R}}),m=Vr(T=>{if(T.is0()){if(t.allowInfinityPoint&&!e.is0(T.py))return;throw new Error("bad point: ZERO")}const{x:v,y:k}=T.toAffine();if(!e.isValid(v)||!e.isValid(k))throw new Error("bad point: x or y not FE");const O=e.sqr(k),S=o(v);if(!e.eql(O,S))throw new Error("bad point: equation left != right");if(!T.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class I{constructor(v,k,O){if(this.px=v,this.py=k,this.pz=O,v==null||!e.isValid(v))throw new Error("x required");if(k==null||!e.isValid(k))throw new Error("y required");if(O==null||!e.isValid(O))throw new Error("z required");Object.freeze(this)}static fromAffine(v){const{x:k,y:O}=v||{};if(!v||!e.isValid(k)||!e.isValid(O))throw new Error("invalid affine point");if(v instanceof I)throw new Error("projective point not allowed");const S=L=>e.eql(L,e.ZERO);return S(k)&&S(O)?I.ZERO:new I(k,O,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const k=e.invertBatch(v.map(O=>O.pz));return v.map((O,S)=>O.toAffine(k[S])).map(I.fromAffine)}static fromHex(v){const k=I.fromAffine(i(Ae("pointHex",v)));return k.assertValidity(),k}static fromPrivateKey(v){return I.BASE.multiply(c(v))}static msm(v,k){return $c(I,n,v,k)}_setWindowSize(v){B.setWindowSize(this,v)}assertValidity(){m(this)}hasEvenY(){const{y:v}=this.toAffine();if(e.isOdd)return!e.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){d(v);const{px:k,py:O,pz:S}=this,{px:L,py:D,pz:R}=v,j=e.eql(e.mul(k,R),e.mul(L,S)),H=e.eql(e.mul(O,R),e.mul(D,S));return j&&H}negate(){return new I(this.px,e.neg(this.py),this.pz)}double(){const{a:v,b:k}=t,O=e.mul(k,tc),{px:S,py:L,pz:D}=this;let R=e.ZERO,j=e.ZERO,H=e.ZERO,K=e.mul(S,S),Z=e.mul(L,L),X=e.mul(D,D),ot=e.mul(S,L);return ot=e.add(ot,ot),H=e.mul(S,D),H=e.add(H,H),R=e.mul(v,H),j=e.mul(O,X),j=e.add(R,j),R=e.sub(Z,j),j=e.add(Z,j),j=e.mul(R,j),R=e.mul(ot,R),H=e.mul(O,H),X=e.mul(v,X),ot=e.sub(K,X),ot=e.mul(v,ot),ot=e.add(ot,H),H=e.add(K,K),K=e.add(H,K),K=e.add(K,X),K=e.mul(K,ot),j=e.add(j,K),X=e.mul(L,D),X=e.add(X,X),K=e.mul(X,ot),R=e.sub(R,K),H=e.mul(X,Z),H=e.add(H,H),H=e.add(H,H),new I(R,j,H)}add(v){d(v);const{px:k,py:O,pz:S}=this,{px:L,py:D,pz:R}=v;let j=e.ZERO,H=e.ZERO,K=e.ZERO;const Z=t.a,X=e.mul(t.b,tc);let ot=e.mul(k,L),C=e.mul(O,D),u=e.mul(S,R),g=e.add(k,O),w=e.add(L,D);g=e.mul(g,w),w=e.add(ot,C),g=e.sub(g,w),w=e.add(k,S);let y=e.add(L,R);return w=e.mul(w,y),y=e.add(ot,u),w=e.sub(w,y),y=e.add(O,S),j=e.add(D,R),y=e.mul(y,j),j=e.add(C,u),y=e.sub(y,j),K=e.mul(Z,w),j=e.mul(X,u),K=e.add(j,K),j=e.sub(C,K),K=e.add(C,K),H=e.mul(j,K),C=e.add(ot,ot),C=e.add(C,ot),u=e.mul(Z,u),w=e.mul(X,w),C=e.add(C,u),u=e.sub(ot,u),u=e.mul(Z,u),w=e.add(w,u),ot=e.mul(C,w),H=e.add(H,ot),ot=e.mul(y,w),j=e.mul(g,j),j=e.sub(j,ot),ot=e.mul(g,C),K=e.mul(y,K),K=e.add(K,ot),new I(j,H,K)}subtract(v){return this.add(v.negate())}is0(){return this.equals(I.ZERO)}wNAF(v){return B.wNAFCached(this,v,I.normalizeZ)}multiplyUnsafe(v){const{endo:k,n:O}=t;en("scalar",v,Sn,O);const S=I.ZERO;if(v===Sn)return S;if(this.is0()||v===Me)return this;if(!k||B.hasPrecomputes(this))return B.wNAFCachedUnsafe(this,v,I.normalizeZ);let{k1neg:L,k1:D,k2neg:R,k2:j}=k.splitScalar(v),H=S,K=S,Z=this;for(;D>Sn||j>Sn;)D&Me&&(H=H.add(Z)),j&Me&&(K=K.add(Z)),Z=Z.double(),D>>=Me,j>>=Me;return L&&(H=H.negate()),R&&(K=K.negate()),K=new I(e.mul(K.px,k.beta),K.py,K.pz),H.add(K)}multiply(v){const{endo:k,n:O}=t;en("scalar",v,Me,O);let S,L;if(k){const{k1neg:D,k1:R,k2neg:j,k2:H}=k.splitScalar(v);let{p:K,f:Z}=this.wNAF(R),{p:X,f:ot}=this.wNAF(H);K=B.constTimeNegate(D,K),X=B.constTimeNegate(j,X),X=new I(e.mul(X.px,k.beta),X.py,X.pz),S=K.add(X),L=Z.add(ot)}else{const{p:D,f:R}=this.wNAF(v);S=D,L=R}return I.normalizeZ([S,L])[0]}multiplyAndAddUnsafe(v,k,O){const S=I.BASE,L=(R,j)=>j===Sn||j===Me||!R.equals(S)?R.multiplyUnsafe(j):R.multiply(j),D=L(this,k).add(L(v,O));return D.is0()?void 0:D}toAffine(v){return p(this,v)}isTorsionFree(){const{h:v,isTorsionFree:k}=t;if(v===Me)return!0;if(k)return k(I,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:k}=t;return v===Me?this:k?k(I,this):this.multiplyUnsafe(t.h)}toRawBytes(v=!0){return Bn("isCompressed",v),this.assertValidity(),s(I,this,v)}toHex(v=!0){return Bn("isCompressed",v),sr(this.toRawBytes(v))}}I.BASE=new I(t.Gx,t.Gy,e.ONE),I.ZERO=new I(e.ZERO,e.ONE,e.ZERO);const b=t.nBitLength,B=Xc(I,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:I,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function Kd(r){const t=ea(r);return Or(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Yd(r){const t=Kd(r),{Fp:e,n}=t,s=e.BYTES+1,i=2*e.BYTES+1;function o(u){return Kt(u,n)}function a(u){return mo(u,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:d,weierstrassEquation:p,isWithinCurveOrder:m}=Gd({...t,toBytes(u,g,w){const y=g.toAffine(),E=e.toBytes(y.x),N=or;return Bn("isCompressed",w),w?N(Uint8Array.from([g.hasEvenY()?2:3]),E):N(Uint8Array.from([4]),E,e.toBytes(y.y))},fromBytes(u){const g=u.length,w=u[0],y=u.subarray(1);if(g===s&&(w===2||w===3)){const E=er(y);if(!Vi(E,Me,e.ORDER))throw new Error("Point is not on curve");const N=p(E);let P;try{P=e.sqrt(N)}catch(_){const V=_ instanceof Error?": "+_.message:"";throw new Error("Point is not on curve"+V)}const M=(P&Me)===Me;return(w&1)===1!==M&&(P=e.neg(P)),{x:E,y:P}}else if(g===i&&w===4){const E=e.fromBytes(y.subarray(0,e.BYTES)),N=e.fromBytes(y.subarray(e.BYTES,2*e.BYTES));return{x:E,y:N}}else{const E=s,N=i;throw new Error("invalid Point, expected length of "+E+", or uncompressed "+N+", got "+g)}}}),I=u=>sr(_r(u,t.nByteLength));function b(u){const g=n>>Me;return u>g}function B(u){return b(u)?o(-u):u}const T=(u,g,w)=>er(u.slice(g,w));class v{constructor(g,w,y){this.r=g,this.s=w,this.recovery=y,this.assertValidity()}static fromCompact(g){const w=t.nByteLength;return g=Ae("compactSignature",g,w*2),new v(T(g,0,w),T(g,w,2*w))}static fromDER(g){const{r:w,s:y}=En.toSig(Ae("DER",g));return new v(w,y)}assertValidity(){en("r",this.r,Me,n),en("s",this.s,Me,n)}addRecoveryBit(g){return new v(this.r,this.s,g)}recoverPublicKey(g){const{r:w,s:y,recovery:E}=this,N=R(Ae("msgHash",g));if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");const P=E===2||E===3?w+t.n:w;if(P>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const M=E&1?"03":"02",f=c.fromHex(M+I(P)),_=a(P),V=o(-N*_),$=o(y*_),rt=c.BASE.multiplyAndAddUnsafe(f,V,$);if(!rt)throw new Error("point at infinify");return rt.assertValidity(),rt}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Br(this.toDERHex())}toDERHex(){return En.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Br(this.toCompactHex())}toCompactHex(){return I(this.r)+I(this.s)}}const k={isValidPrivateKey(u){try{return d(u),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const u=Vc(t.n);return rh(t.randomBytes(u),t.n)},precompute(u=8,g=c.BASE){return g._setWindowSize(u),g.multiply(BigInt(3)),g}};function O(u,g=!0){return c.fromPrivateKey(u).toRawBytes(g)}function S(u){const g=ir(u),w=typeof u=="string",y=(g||w)&&u.length;return g?y===s||y===i:w?y===2*s||y===2*i:u instanceof c}function L(u,g,w=!0){if(S(u))throw new Error("first arg must be private key");if(!S(g))throw new Error("second arg must be public key");return c.fromHex(g).multiply(d(u)).toRawBytes(w)}const D=t.bits2int||function(u){if(u.length>8192)throw new Error("input is too large");const g=er(u),w=u.length*8-t.nBitLength;return w>0?g>>BigInt(w):g},R=t.bits2int_modN||function(u){return o(D(u))},j=ta(t.nBitLength);function H(u){return en("num < 2^"+t.nBitLength,u,Sn,j),_r(u,t.nByteLength)}function K(u,g,w=Z){if(["recovered","canonical"].some(dt=>dt in w))throw new Error("sign() legacy options not supported");const{hash:y,randomBytes:E}=t;let{lowS:N,prehash:P,extraEntropy:M}=w;N==null&&(N=!0),u=Ae("msgHash",u),$a(w),P&&(u=Ae("prehashed msgHash",y(u)));const f=R(u),_=d(g),V=[H(_),H(f)];if(M!=null&&M!==!1){const dt=M===!0?E(e.BYTES):M;V.push(Ae("extraEntropy",dt))}const $=or(...V),rt=f;function Mt(dt){const pt=D(dt);if(!m(pt))return;const Jt=a(pt),St=c.BASE.multiply(pt).toAffine(),Et=o(St.x);if(Et===Sn)return;const te=o(Jt*o(rt+Et*_));if(te===Sn)return;let Bt=(St.x===Et?0:2)|Number(St.y&Me),_t=te;return N&&b(te)&&(_t=B(te),Bt^=1),new v(Et,_t,Bt)}return{seed:$,k2sig:Mt}}const Z={lowS:t.lowS,prehash:!1},X={lowS:t.lowS,prehash:!1};function ot(u,g,w=Z){const{seed:y,k2sig:E}=K(u,g,w),N=t;return Kc(N.hash.outputLen,N.nByteLength,N.hmac)(y,E)}c.BASE._setWindowSize(8);function C(u,g,w,y=X){var Bt;const E=u;g=Ae("msgHash",g),w=Ae("publicKey",w);const{lowS:N,prehash:P,format:M}=y;if($a(y),"strict"in y)throw new Error("options.strict was renamed to lowS");if(M!==void 0&&M!=="compact"&&M!=="der")throw new Error("format must be compact or der");const f=typeof E=="string"||ir(E),_=!f&&!M&&typeof E=="object"&&E!==null&&typeof E.r=="bigint"&&typeof E.s=="bigint";if(!f&&!_)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let V,$;try{if(_&&(V=new v(E.r,E.s)),f){try{M!=="compact"&&(V=v.fromDER(E))}catch(_t){if(!(_t instanceof En.Err))throw _t}!V&&M!=="der"&&(V=v.fromCompact(E))}$=c.fromHex(w)}catch{return!1}if(!V||N&&V.hasHighS())return!1;P&&(g=t.hash(g));const{r:rt,s:Mt}=V,dt=R(g),pt=a(Mt),Jt=o(dt*pt),St=o(rt*pt),Et=(Bt=c.BASE.multiplyAndAddUnsafe($,Jt,St))==null?void 0:Bt.toAffine();return Et?o(Et.x)===rt:!1}return{CURVE:t,getPublicKey:O,getSharedSecret:L,sign:ot,verify:C,ProjectivePoint:c,Signature:v,utils:k}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function qd(r){return{hash:r,hmac:(t,...e)=>Ou(r,t,uf(...e)),randomBytes:Wc}}function Vd(r,t){const e=n=>Yd({...r,...qd(n)});return Object.freeze({...e(t),create:e})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ec=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Zd=BigInt(1),Eo=BigInt(2),nc=(r,t)=>(r+t/Eo)/t;function Jd(r){const t=Pu,e=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),d=r*r*r%t,p=d*d*r%t,m=Xt(p,e,t)*p%t,I=Xt(m,e,t)*p%t,b=Xt(I,Eo,t)*d%t,B=Xt(b,s,t)*b%t,T=Xt(B,i,t)*B%t,v=Xt(T,a,t)*T%t,k=Xt(v,c,t)*v%t,O=Xt(k,a,t)*T%t,S=Xt(O,e,t)*p%t,L=Xt(S,o,t)*B%t,D=Xt(L,n,t)*d%t,R=Xt(D,Eo,t);if(!Mo.eql(Mo.sqr(R),r))throw new Error("Cannot find square root");return R}const Mo=Zi(Pu,void 0,void 0,{sqrt:Jd}),ma=Vd({a:BigInt(0),b:BigInt(7),Fp:Mo,n:ec,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const t=ec,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Zd*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,o=BigInt("0x100000000000000000000000000000000"),a=nc(i*r,t),c=nc(-n*r,t);let d=Kt(r-a*e-c*s,t),p=Kt(-a*n-c*i,t);const m=d>o,I=p>o;if(m&&(d=t-d),I&&(p=t-p),d>o||p>o)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:m,k1:d,k2neg:I,k2:p}}}},bo);BigInt(0);ma.ProjectivePoint;function rc(r){try{return ra.ExtendedPoint.fromHex(r),!0}catch{return!1}}const Uu=(r,t)=>ra.sign(r,t.slice(0,32)),Xd=ra.verify,Cr=r=>mt.Buffer.isBuffer(r)?r:r instanceof Uint8Array?mt.Buffer.from(r.buffer,r.byteOffset,r.byteLength):mt.Buffer.from(r);class $d{constructor(t){Object.assign(this,t)}encode(){return mt.Buffer.from(au(Ii,this))}static decode(t){return cu(Ii,this,t)}static decodeUnchecked(t){return nu(Ii,this,t)}}const Ii=new Map;var ju;const t0=32,Fn=32;function e0(r){return r._bn!==void 0}let ic=1;class lt extends $d{constructor(t){if(super({}),this._bn=void 0,e0(t))this._bn=t._bn;else{if(typeof t=="string"){const e=Ne.decode(t);if(e.length!=Fn)throw new Error("Invalid public key input");this._bn=new Za(e)}else this._bn=new Za(t);if(this._bn.byteLength()>Fn)throw new Error("Invalid public key input")}}static unique(){const t=new lt(ic);return ic+=1,new lt(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Ne.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(mt.Buffer);if(t.length===Fn)return t;const e=mt.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const s=mt.Buffer.concat([t.toBuffer(),mt.Buffer.from(e),n.toBuffer()]),i=bo(s);return new lt(i)}static createProgramAddressSync(t,e){let n=mt.Buffer.alloc(0);t.forEach(function(i){if(i.length>t0)throw new TypeError("Max seed length exceeded");n=mt.Buffer.concat([n,Cr(i)])}),n=mt.Buffer.concat([n,e.toBuffer(),mt.Buffer.from("ProgramDerivedAddress")]);const s=bo(n);if(rc(s))throw new Error("Invalid seeds, address must fall off the curve");return new lt(s)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n=255,s;for(;n!=0;){try{const i=t.concat(mt.Buffer.from([n]));s=this.createProgramAddressSync(i,e)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[s,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){const e=new lt(t);return rc(e.toBytes())}}ju=lt;lt.default=new ju("11111111111111111111111111111111");Ii.set(lt,{kind:"struct",fields:[["_bn","u256"]]});new lt("BPFLoader1111111111111111111111111111111111");const Ir=1232,Aa=127,Jr=64;class zu extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(zu.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Fu extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Fu.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Hr extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Hr.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Ui{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((i,o)=>{n.set(i.toBase58(),o)});const s=i=>{const o=n.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return t.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const It=(r="publicKey")=>Ht(32,r),n0=(r="signature")=>Ht(64,r),vr=(r="string")=>{const t=at([ft("length"),ft("lengthPadding"),Ht(nr(ft(),-8),"chars")],r),e=t.decode.bind(t),n=t.encode.bind(t),s=t;return s.decode=(i,o)=>e(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:mt.Buffer.from(i,"utf8")};return n(c,o,a)},s.alloc=i=>ft().span+ft().span+mt.Buffer.from(i,"utf8").length,s},r0=(r="authorized")=>at([It("staker"),It("withdrawer")],r),i0=(r="lockup")=>at([Ge("unixTimestamp"),Ge("epoch"),It("custodian")],r),s0=(r="voteInit")=>at([It("nodePubkey"),It("authorizedVoter"),It("authorizedWithdrawer"),Lt("commission")],r),o0=(r="voteAuthorizeWithSeedArgs")=>at([ft("voteAuthorizationType"),It("currentAuthorityDerivedKeyOwnerPubkey"),vr("currentAuthorityDerivedKeySeed"),It("newAuthorized")],r);function Ke(r){let t=0,e=0;for(;;){let n=r.shift();if(t|=(n&127)<<e*7,e+=1,!(n&128))break}return t}function Ye(r,t){let e=t;for(;;){let n=e&127;if(e>>=7,e==0){r.push(n);break}else n|=128,r.push(n)}}function Gt(r,t){if(!r)throw new Error(t||"Assertion failed")}class rs{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const n=new Map,s=o=>{const a=o.toBase58();let c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},i=s(e);i.isSigner=!0,i.isWritable=!0;for(const o of t){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new rs(e,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Gt(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,c])=>c.isSigner&&c.isWritable),n=t.filter(([,c])=>c.isSigner&&!c.isWritable),s=t.filter(([,c])=>!c.isSigner&&c.isWritable),i=t.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{Gt(e.length>0,"Expected at least one writable signer key");const[c]=e[0];Gt(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...e.map(([c])=>new lt(c)),...n.map(([c])=>new lt(c)),...s.map(([c])=>new lt(c)),...i.map(([c])=>new lt(c))];return[o,a]}extractTableLookup(t){const[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(e.length===0&&s.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:s},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(t,e){const n=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(e(o)){const a=new lt(i),c=t.findIndex(d=>d.equals(a));c>=0&&(Gt(c<256,"Max lookup table index exceeded"),n.push(c),s.push(a),this.keyMetaMap.delete(i))}return[n,s]}}const Wu="Reached end of buffer unexpectedly";function In(r){if(r.length===0)throw new Error(Wu);return r.shift()}function qe(r,...t){const[e]=t;if(t.length===2?e+(t[1]??0)>r.length:e>=r.length)throw new Error(Wu);return r.splice(...t)}class _n{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new lt(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ne.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Ui(this.staticAccountKeys)}static compile(t){const e=rs.compile(t.instructions,t.payerKey),[n,s]=e.getMessageComponents(),o=new Ui(s).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ne.encode(a.data)}));return new _n({header:n,accountKeys:s,recentBlockhash:t.recentBlockhash,instructions:o})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const n=t-e,i=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return n<i}else{const n=e-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];Ye(e,t);const n=this.instructions.map(m=>{const{accounts:I,programIdIndex:b}=m,B=Array.from(Ne.decode(m.data));let T=[];Ye(T,I.length);let v=[];return Ye(v,B.length),{programIdIndex:b,keyIndicesCount:mt.Buffer.from(T),keyIndices:I,dataLength:mt.Buffer.from(v),data:B}});let s=[];Ye(s,n.length);let i=mt.Buffer.alloc(Ir);mt.Buffer.from(s).copy(i);let o=s.length;n.forEach(m=>{const b=at([Lt("programIdIndex"),Ht(m.keyIndicesCount.length,"keyIndicesCount"),Pe(Lt("keyIndex"),m.keyIndices.length,"keyIndices"),Ht(m.dataLength.length,"dataLength"),Pe(Lt("userdatum"),m.data.length,"data")]).encode(m,i,o);o+=b}),i=i.slice(0,o);const a=at([Ht(1,"numRequiredSignatures"),Ht(1,"numReadonlySignedAccounts"),Ht(1,"numReadonlyUnsignedAccounts"),Ht(e.length,"keyCount"),Pe(It("key"),t,"keys"),It("recentBlockhash")]),c={numRequiredSignatures:mt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:mt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:mt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:mt.Buffer.from(e),keys:this.accountKeys.map(m=>Cr(m.toBytes())),recentBlockhash:Ne.decode(this.recentBlockhash)};let d=mt.Buffer.alloc(2048);const p=a.encode(c,d);return i.copy(d,p),d.slice(0,p+i.length)}static from(t){let e=[...t];const n=In(e);if(n!==(n&Aa))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=In(e),i=In(e),o=Ke(e);let a=[];for(let I=0;I<o;I++){const b=qe(e,0,Fn);a.push(new lt(mt.Buffer.from(b)))}const c=qe(e,0,Fn),d=Ke(e);let p=[];for(let I=0;I<d;I++){const b=In(e),B=Ke(e),T=qe(e,0,B),v=Ke(e),k=qe(e,0,v),O=Ne.encode(mt.Buffer.from(k));p.push({programIdIndex:b,accounts:T,data:O})}const m={header:{numRequiredSignatures:n,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ne.encode(mt.Buffer.from(c)),accountKeys:a,instructions:p};return new _n(m)}}class Xr{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Ui(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){const s=t-n,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(t>=this.header.numRequiredSignatures){const s=t-e,o=n-e-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=e-this.header.numReadonlySignedAccounts;return t<s}}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const n of this.addressTableLookups){const s=t.find(i=>i.key.equals(n.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const i of n.writableIndexes)if(i<s.state.addresses.length)e.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`);for(const i of n.readonlyIndexes)if(i<s.state.addresses.length)e.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`)}return e}static compile(t){const e=rs.compile(t.instructions,t.payerKey),n=new Array,s={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const p of i){const m=e.extractTableLookup(p);if(m!==void 0){const[I,{writable:b,readonly:B}]=m;n.push(I),s.writable.push(...b),s.readonly.push(...B)}}const[o,a]=e.getMessageComponents(),d=new Ui(a,s).compileInstructions(t.instructions);return new Xr({header:o,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:d,addressTableLookups:n})}serialize(){const t=Array();Ye(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),n=Array();Ye(n,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Ye(i,this.addressTableLookups.length);const o=at([Lt("prefix"),at([Lt("numRequiredSignatures"),Lt("numReadonlySignedAccounts"),Lt("numReadonlyUnsignedAccounts")],"header"),Ht(t.length,"staticAccountKeysLength"),Pe(It(),this.staticAccountKeys.length,"staticAccountKeys"),It("recentBlockhash"),Ht(n.length,"instructionsLength"),Ht(e.length,"serializedInstructions"),Ht(i.length,"addressTableLookupsLength"),Ht(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Ir),d=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(p=>p.toBytes()),recentBlockhash:Ne.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,d)}serializeInstructions(){let t=0;const e=new Uint8Array(Ir);for(const n of this.compiledInstructions){const s=Array();Ye(s,n.accountKeyIndexes.length);const i=Array();Ye(i,n.data.length);const o=at([Lt("programIdIndex"),Ht(s.length,"encodedAccountKeyIndexesLength"),Pe(Lt(),n.accountKeyIndexes.length,"accountKeyIndexes"),Ht(i.length,"encodedDataLength"),Ht(n.data.length,"data")]);t+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(Ir);for(const n of this.addressTableLookups){const s=Array();Ye(s,n.writableIndexes.length);const i=Array();Ye(i,n.readonlyIndexes.length);const o=at([It("accountKey"),Ht(s.length,"encodedWritableIndexesLength"),Pe(Lt(),n.writableIndexes.length,"writableIndexes"),Ht(i.length,"encodedReadonlyIndexesLength"),Pe(Lt(),n.readonlyIndexes.length,"readonlyIndexes")]);t+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const n=In(e),s=n&Aa;Gt(n!==s,"Expected versioned message but received legacy message");const i=s;Gt(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:In(e),numReadonlySignedAccounts:In(e),numReadonlyUnsignedAccounts:In(e)},a=[],c=Ke(e);for(let B=0;B<c;B++)a.push(new lt(qe(e,0,Fn)));const d=Ne.encode(qe(e,0,Fn)),p=Ke(e),m=[];for(let B=0;B<p;B++){const T=In(e),v=Ke(e),k=qe(e,0,v),O=Ke(e),S=new Uint8Array(qe(e,0,O));m.push({programIdIndex:T,accountKeyIndexes:k,data:S})}const I=Ke(e),b=[];for(let B=0;B<I;B++){const T=new lt(qe(e,0,Fn)),v=Ke(e),k=qe(e,0,v),O=Ke(e),S=qe(e,0,O);b.push({accountKey:T,writableIndexes:k,readonlyIndexes:S})}return new Xr({header:o,staticAccountKeys:a,recentBlockhash:d,compiledInstructions:m,addressTableLookups:b})}}const ba={deserializeMessageVersion(r){const t=r[0],e=t&Aa;return e===t?"legacy":e},deserialize:r=>{const t=ba.deserializeMessageVersion(r);if(t==="legacy")return _n.from(r);if(t===0)return Xr.deserialize(r);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let Rn=function(r){return r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID",r}({});const a0=mt.Buffer.alloc(Jr).fill(0);class sc{constructor(t){this.keys=void 0,this.programId=void 0,this.data=mt.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class an{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{const{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new sc(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let T=0;T<e.length;T++)if(e[T].programId===void 0)throw new Error(`Transaction instruction index ${T} has undefined program id`);const s=[],i=[];e.forEach(T=>{T.keys.forEach(k=>{i.push({...k})});const v=T.programId.toString();s.includes(v)||s.push(v)}),s.forEach(T=>{i.push({pubkey:new lt(T),isSigner:!1,isWritable:!1})});const o=[];i.forEach(T=>{const v=T.pubkey.toString(),k=o.findIndex(O=>O.pubkey.toString()===v);k>-1?(o[k].isWritable=o[k].isWritable||T.isWritable,o[k].isSigner=o[k].isSigner||T.isSigner):o.push(T)}),o.sort(function(T,v){if(T.isSigner!==v.isSigner)return T.isSigner?-1:1;if(T.isWritable!==v.isWritable)return T.isWritable?-1:1;const k={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return T.pubkey.toBase58().localeCompare(v.pubkey.toBase58(),"en",k)});const a=o.findIndex(T=>T.pubkey.equals(n));if(a>-1){const[T]=o.splice(a,1);T.isSigner=!0,T.isWritable=!0,o.unshift(T)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const T of this.signatures){const v=o.findIndex(k=>k.pubkey.equals(T.publicKey));if(v>-1)o[v].isSigner||(o[v].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${T.publicKey.toString()}`)}let c=0,d=0,p=0;const m=[],I=[];o.forEach(({pubkey:T,isSigner:v,isWritable:k})=>{v?(m.push(T.toString()),c+=1,k||(d+=1)):(I.push(T.toString()),k||(p+=1))});const b=m.concat(I),B=e.map(T=>{const{data:v,programId:k}=T;return{programIdIndex:b.indexOf(k.toString()),accounts:T.keys.map(O=>b.indexOf(O.pubkey.toString())),data:Ne.encode(v)}});return B.forEach(T=>{Gt(T.programIdIndex>=0),T.accounts.forEach(v=>Gt(v>=0))}),new _n({header:{numRequiredSignatures:c,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:p},accountKeys:b,recentBlockhash:t,instructions:B})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((s,i)=>e[i].equals(s.publicKey))||(this.signatures=e.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const e=new Set;this.signatures=t.filter(n=>{const s=n.toString();return e.has(s)?!1:(e.add(s),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const o=i.publicKey.toString();e.has(o)||(e.add(o),n.push(i))}this.signatures=n.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const o=i.publicKey.toString();e.has(o)||(e.add(o),n.push(i))}const s=this._compile();this._partialSign(s,...n)}_partialSign(t,...e){const n=t.serialize();e.forEach(s=>{const i=Uu(n,s.secretKey);this._addSignature(s.publicKey,Cr(i))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){Gt(e.length===64);const n=this.signatures.findIndex(s=>t.equals(s.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=mt.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const n={};for(const{signature:s,publicKey:i}of this.signatures)s===null?e&&(n.missing||(n.missing=[])).push(i):Xd(s,t,i.toBytes())||(n.invalid||(n.invalid=[])).push(i);return n.invalid||n.missing?n:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),s=this.serializeMessage();if(n){const i=this._getMessageSignednessErrors(s,e);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(t){const{signatures:e}=this,n=[];Ye(n,e.length);const s=n.length+e.length*64+t.length,i=mt.Buffer.alloc(s);return Gt(e.length<256),mt.Buffer.from(n).copy(i,0),e.forEach(({signature:o},a)=>{o!==null&&(Gt(o.length===64,"signature has invalid length"),mt.Buffer.from(o).copy(i,n.length+a*64))}),t.copy(i,n.length+e.length*64),Gt(i.length<=Ir,`Transaction too large: ${i.length} > ${Ir}`),i}get keys(){return Gt(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Gt(this.instructions.length===1),this.instructions[0].programId}get data(){return Gt(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t];const n=Ke(e);let s=[];for(let i=0;i<n;i++){const o=qe(e,0,Jr);s.push(Ne.encode(mt.Buffer.from(o)))}return an.populate(_n.from(e),s)}static populate(t,e=[]){const n=new an;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach((s,i)=>{const o={signature:s==Ne.encode(a0)?null:Ne.decode(s),publicKey:t.accountKeys[i]};n.signatures.push(o)}),t.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=t.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||t.isAccountSigner(o),isWritable:t.isAccountWritable(o)}});n.instructions.push(new sc({keys:i,programId:t.accountKeys[s.programIdIndex],data:Ne.decode(s.data)}))}),n._message=t,n._json=n.toJSON(),n}}class $r{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,e!==void 0)Gt(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const n=[];for(let s=0;s<t.header.numRequiredSignatures;s++)n.push(new Uint8Array(Jr));this.signatures=n}this.message=t}serialize(){const t=this.message.serialize(),e=Array();Ye(e,this.signatures.length);const n=at([Ht(e.length,"encodedSignaturesLength"),Pe(n0(),this.signatures.length,"signatures"),Ht(t.length,"serializedMessage")]),s=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},s);return s.slice(0,i)}static deserialize(t){let e=[...t];const n=[],s=Ke(e);for(let o=0;o<s;o++)n.push(new Uint8Array(qe(e,0,Jr)));const i=ba.deserialize(new Uint8Array(e));return new $r(i,n)}sign(t){const e=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of t){const i=n.findIndex(o=>o.equals(s.publicKey));Gt(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=Uu(e,s.secretKey)}}addSignature(t,e){Gt(e.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(t));Gt(s>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=e}}const c0=160,u0=64,l0=c0/u0,f0=1e3/l0;new lt("SysvarC1ock11111111111111111111111111111111");new lt("SysvarEpochSchedu1e111111111111111111111111");new lt("Sysvar1nstructions1111111111111111111111111");new lt("SysvarRecentB1ockHashes11111111111111111111");new lt("SysvarRent111111111111111111111111111111111");new lt("SysvarRewards111111111111111111111111111111");new lt("SysvarS1otHashes111111111111111111111111111");new lt("SysvarS1otHistory11111111111111111111111111");new lt("SysvarStakeHistory1111111111111111111111111");class oc extends Error{constructor({action:t,signature:e,transactionMessage:n,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(t){case"send":a=`Transaction ${e} resulted in an error. 
${n}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${n}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(t)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=n,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((e,n)=>{t.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,e(i)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}class ut extends Error{constructor({code:t,message:e,data:n},s){super(s!=null?`${s}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}function mr(r){return new Promise(t=>setTimeout(t,r))}const h0=_e("lamportsPerSignature"),Hu=at([ft("version"),ft("state"),It("authorizedPubkey"),It("nonce"),at([h0],"feeCalculator")]);Hu.span;class va{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=Hu.decode(Cr(t),0);return new va({authorizedPubkey:new lt(e.authorizedPubkey),nonce:new lt(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const d0=r=>{const t=r.decode.bind(r),e=r.encode.bind(r);return{decode:t,encode:e}},g0=r=>t=>{const e=Ht(r,t),{encode:n,decode:s}=d0(e),i=e;return i.decode=(o,a)=>{const c=s(o,a);return Xh(mt.Buffer.from(c))},i.encode=(o,a,c)=>{const d=ed(o,r);return n(d,a,c)},i},Nr=g0(8);Object.freeze({Create:{index:0,layout:at([ft("instruction"),Ge("lamports"),Ge("space"),It("programId")])},Assign:{index:1,layout:at([ft("instruction"),It("programId")])},Transfer:{index:2,layout:at([ft("instruction"),Nr("lamports")])},CreateWithSeed:{index:3,layout:at([ft("instruction"),It("base"),vr("seed"),Ge("lamports"),Ge("space"),It("programId")])},AdvanceNonceAccount:{index:4,layout:at([ft("instruction")])},WithdrawNonceAccount:{index:5,layout:at([ft("instruction"),Ge("lamports")])},InitializeNonceAccount:{index:6,layout:at([ft("instruction"),It("authorized")])},AuthorizeNonceAccount:{index:7,layout:at([ft("instruction"),It("authorized")])},Allocate:{index:8,layout:at([ft("instruction"),Ge("space")])},AllocateWithSeed:{index:9,layout:at([ft("instruction"),It("base"),vr("seed"),Ge("space"),It("programId")])},AssignWithSeed:{index:10,layout:at([ft("instruction"),It("base"),vr("seed"),It("programId")])},TransferWithSeed:{index:11,layout:at([ft("instruction"),Nr("lamports"),vr("seed"),It("programId")])},UpgradeNonceAccount:{index:12,layout:at([ft("instruction")])}});new lt("11111111111111111111111111111111");new lt("BPFLoader2111111111111111111111111111111111");function p0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var qs,ac;function w0(){if(ac)return qs;ac=1;var r=Object.prototype.toString,t=Object.keys||function(n){var s=[];for(var i in n)s.push(i);return s};function e(n,s){var i,o,a,c,d,p,m;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return e(n.toJSON(),s);if(m=r.call(n),m==="[object Array]"){for(a="[",o=n.length-1,i=0;i<o;i++)a+=e(n[i],!0)+",";return o>-1&&(a+=e(n[i],!0)),a+"]"}else if(m==="[object Object]"){for(c=t(n).sort(),o=c.length,a="",i=0;i<o;)d=c[i],p=e(n[d],!1),p!==void 0&&(a&&(a+=","),a+=JSON.stringify(d)+":"+p),i++;return"{"+a+"}"}else return JSON.stringify(n);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return qs=function(n){var s=e(n,!1);if(s!==void 0)return""+s},qs}var y0=w0(),cc=p0(y0);const Fr=32;function Vs(r){let t=0;for(;r>1;)r/=2,t++;return t}function m0(r){return r===0?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r|=r>>32,r+1)}class A0{constructor(t,e,n,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=n,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const e=Vs(m0(t+Fr+1))-Vs(Fr)-1,n=this.getSlotsInEpoch(e),s=t-(n-Fr);return[e,s]}else{const e=t-this.firstNormalSlot,n=Math.floor(e/this.slotsPerEpoch),s=this.firstNormalEpoch+n,i=e%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Fr:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Vs(Fr)):this.slotsPerEpoch}}var b0=globalThis.fetch;class v0 extends Fd{constructor(t,e,n){const s=i=>{const o=jd(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,t,e,n),this.underlyingSocket=void 0}call(...t){var n;const e=(n=this.underlyingSocket)==null?void 0:n.readyState;return e===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){var n;const e=(n=this.underlyingSocket)==null?void 0:n.readyState;return e===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}function E0(r,t){let e;try{e=r.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(e.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${e.typeIndex} != ${r.index}`);return e}const uc=56;class lc{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=E0(M0,t),n=t.length-uc;Gt(n>=0,"lookup table is invalid"),Gt(n%32===0,"lookup table is invalid");const s=n/32,{addresses:i}=at([Pe(It(),s,"addresses")]).decode(t.slice(uc));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:e.authority.length!==0?new lt(e.authority[0]):void 0,addresses:i.map(o=>new lt(o))}}}const M0={index:1,layout:at([ft("typeIndex"),Nr("deactivationSlot"),_e("lastExtendedSlot"),Lt("lastExtendedStartIndex"),Lt(),Pe(It(),nr(Lt(),-1),"authority")])},S0=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function I0(r){const t=r.match(S0);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${r}\``);const[e,n,s,i]=t,o=r.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${n}${c}${i}`}const Zt=oi(wa(lt),J(),r=>new lt(r)),Qu=ya([J(),qt("base64")]),Ea=oi(wa(mt.Buffer),Qu,r=>mt.Buffer.from(r[0],"base64")),x0=30*1e3;function B0(r){if(/^https?:/.test(r)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return r}function jt(r){let t,e;if(typeof r=="string")t=r;else if(r){const{commitment:n,...s}=r;t=n,e=s}return{commitment:t,config:e}}function fc(r){return r.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function Gu(r){return je([Y({jsonrpc:qt("2.0"),id:J(),result:r}),Y({jsonrpc:qt("2.0"),id:J(),error:Y({code:jr(),message:J(),data:ht(ud())})})])}const _0=Gu(jr());function vt(r){return oi(Gu(r),_0,t=>"error"in t?t:{...t,result:tt(t.result,r)})}function $t(r){return vt(Y({context:Y({slot:F()}),value:r}))}function is(r){return Y({context:Y({slot:F()}),value:r})}function Zs(r,t){return r===0?new Xr({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new lt(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ne.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new _n(t)}const T0=Y({foundation:F(),foundationTerm:F(),initial:F(),taper:F(),terminal:F()}),C0=vt(nt(it(Y({epoch:F(),effectiveSlot:F(),amount:F(),postBalance:F(),commission:ht(it(F()))})))),N0=nt(Y({slot:F(),prioritizationFee:F()})),L0=Y({total:F(),validator:F(),foundation:F(),epoch:F()}),D0=Y({epoch:F(),slotIndex:F(),slotsInEpoch:F(),absoluteSlot:F(),blockHeight:ht(F()),transactionCount:ht(F())}),k0=Y({slotsPerEpoch:F(),leaderScheduleSlotOffset:F(),warmup:wn(),firstNormalEpoch:F(),firstNormalSlot:F()}),R0=Bu(J(),nt(F())),ur=it(je([Y({}),J()])),O0=Y({err:ur}),P0=qt("receivedSignature"),U0=Y({"solana-core":J(),"feature-set":ht(F())}),j0=Y({program:J(),programId:Zt,parsed:jr()}),z0=Y({programId:Zt,accounts:nt(Zt),data:J()}),hc=$t(Y({err:it(je([Y({}),J()])),logs:it(nt(J())),accounts:ht(it(nt(it(Y({executable:wn(),owner:J(),lamports:F(),data:nt(J()),rentEpoch:ht(F())}))))),unitsConsumed:ht(F()),returnData:ht(it(Y({programId:J(),data:ya([J(),qt("base64")])}))),innerInstructions:ht(it(nt(Y({index:F(),instructions:nt(je([j0,z0]))}))))})),F0=$t(Y({byIdentity:Bu(J(),nt(F())),range:Y({firstSlot:F(),lastSlot:F()})}));function W0(r,t,e,n,s,i){const o=e||b0;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(p,m)=>{const I=await new Promise((b,B)=>{try{n(p,m,(T,v)=>b([T,v]))}catch(T){B(T)}});return await o(...I)}),new Od(async(p,m)=>{const I={method:"POST",body:p,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},Hg)};try{let b=5,B,T=500;for(;c?B=await c(r,I):B=await o(r,I),!(B.status!==429||s===!0||(b-=1,b===0));)console.error(`Server responded with ${B.status} ${B.statusText}.  Retrying after ${T}ms delay...`),await mr(T),T*=2;const v=await B.text();B.ok?m(null,v):m(new Error(`${B.status} ${B.statusText}: ${v}`))}catch(b){b instanceof Error&&m(b)}},{})}function H0(r){return(t,e)=>new Promise((n,s)=>{r.request(t,e,(i,o)=>{if(i){s(i);return}n(o)})})}function Q0(r){return t=>new Promise((e,n)=>{t.length===0&&e([]);const s=t.map(i=>r.request(i.methodName,i.args));r.request(s,(i,o)=>{if(i){n(i);return}e(o)})})}const G0=vt(T0),K0=vt(L0),Y0=vt(N0),q0=vt(D0),V0=vt(k0),Z0=vt(R0),J0=vt(F()),X0=$t(Y({total:F(),circulating:F(),nonCirculating:F(),nonCirculatingAccounts:nt(Zt)})),So=Y({amount:J(),uiAmount:it(F()),decimals:F(),uiAmountString:ht(J())}),$0=$t(nt(Y({address:Zt,amount:J(),uiAmount:it(F()),decimals:F(),uiAmountString:ht(J())}))),tg=$t(nt(Y({pubkey:Zt,account:Y({executable:wn(),owner:Zt,lamports:F(),data:Ea,rentEpoch:F()})}))),Io=Y({program:J(),parsed:jr(),space:F()}),eg=$t(nt(Y({pubkey:Zt,account:Y({executable:wn(),owner:Zt,lamports:F(),data:Io,rentEpoch:F()})}))),ng=$t(nt(Y({lamports:F(),address:Zt}))),ti=Y({executable:wn(),owner:Zt,lamports:F(),data:Ea,rentEpoch:F()}),rg=Y({pubkey:Zt,account:ti}),ig=oi(je([wa(mt.Buffer),Io]),je([Qu,Io]),r=>Array.isArray(r)?tt(r,Ea):r),xo=Y({executable:wn(),owner:Zt,lamports:F(),data:ig,rentEpoch:F()}),sg=Y({pubkey:Zt,account:xo}),og=Y({state:je([qt("active"),qt("inactive"),qt("activating"),qt("deactivating")]),active:F(),inactive:F()}),ag=vt(nt(Y({signature:J(),slot:F(),err:ur,memo:it(J()),blockTime:ht(it(F()))}))),cg=vt(nt(Y({signature:J(),slot:F(),err:ur,memo:it(J()),blockTime:ht(it(F()))}))),ug=Y({subscription:F(),result:is(ti)}),lg=Y({pubkey:Zt,account:ti}),fg=Y({subscription:F(),result:is(lg)}),hg=Y({parent:F(),slot:F(),root:F()}),dg=Y({subscription:F(),result:hg}),gg=je([Y({type:je([qt("firstShredReceived"),qt("completed"),qt("optimisticConfirmation"),qt("root")]),slot:F(),timestamp:F()}),Y({type:qt("createdBank"),parent:F(),slot:F(),timestamp:F()}),Y({type:qt("frozen"),slot:F(),timestamp:F(),stats:Y({numTransactionEntries:F(),numSuccessfulTransactions:F(),numFailedTransactions:F(),maxTransactionsPerEntry:F()})}),Y({type:qt("dead"),slot:F(),timestamp:F(),err:J()})]),pg=Y({subscription:F(),result:gg}),wg=Y({subscription:F(),result:is(je([O0,P0]))}),yg=Y({subscription:F(),result:F()}),mg=Y({pubkey:J(),gossip:it(J()),tpu:it(J()),rpc:it(J()),version:it(J())}),dc=Y({votePubkey:J(),nodePubkey:J(),activatedStake:F(),epochVoteAccount:wn(),epochCredits:nt(ya([F(),F(),F()])),commission:F(),lastVote:F(),rootSlot:it(F())}),Ag=vt(Y({current:nt(dc),delinquent:nt(dc)})),bg=je([qt("processed"),qt("confirmed"),qt("finalized")]),vg=Y({slot:F(),confirmations:it(F()),err:ur,confirmationStatus:ht(bg)}),Eg=$t(nt(it(vg))),Mg=vt(F()),Ku=Y({accountKey:Zt,writableIndexes:nt(F()),readonlyIndexes:nt(F())}),Ma=Y({signatures:nt(J()),message:Y({accountKeys:nt(J()),header:Y({numRequiredSignatures:F(),numReadonlySignedAccounts:F(),numReadonlyUnsignedAccounts:F()}),instructions:nt(Y({accounts:nt(F()),data:J(),programIdIndex:F()})),recentBlockhash:J(),addressTableLookups:ht(nt(Ku))})}),Yu=Y({pubkey:Zt,signer:wn(),writable:wn(),source:ht(je([qt("transaction"),qt("lookupTable")]))}),qu=Y({accountKeys:nt(Yu),signatures:nt(J())}),Vu=Y({parsed:jr(),program:J(),programId:Zt}),Zu=Y({accounts:nt(Zt),data:J(),programId:Zt}),Sg=je([Zu,Vu]),Ig=je([Y({parsed:jr(),program:J(),programId:J()}),Y({accounts:nt(J()),data:J(),programId:J()})]),Ju=oi(Sg,Ig,r=>"accounts"in r?tt(r,Zu):tt(r,Vu)),Xu=Y({signatures:nt(J()),message:Y({accountKeys:nt(Yu),instructions:nt(Ju),recentBlockhash:J(),addressTableLookups:ht(it(nt(Ku)))})}),ji=Y({accountIndex:F(),mint:J(),owner:ht(J()),programId:ht(J()),uiTokenAmount:So}),$u=Y({writable:nt(Zt),readonly:nt(Zt)}),ss=Y({err:ur,fee:F(),innerInstructions:ht(it(nt(Y({index:F(),instructions:nt(Y({accounts:nt(F()),data:J(),programIdIndex:F()}))})))),preBalances:nt(F()),postBalances:nt(F()),logMessages:ht(it(nt(J()))),preTokenBalances:ht(it(nt(ji))),postTokenBalances:ht(it(nt(ji))),loadedAddresses:ht($u),computeUnitsConsumed:ht(F())}),Sa=Y({err:ur,fee:F(),innerInstructions:ht(it(nt(Y({index:F(),instructions:nt(Ju)})))),preBalances:nt(F()),postBalances:nt(F()),logMessages:ht(it(nt(J()))),preTokenBalances:ht(it(nt(ji))),postTokenBalances:ht(it(nt(ji))),loadedAddresses:ht($u),computeUnitsConsumed:ht(F())}),zr=je([qt(0),qt("legacy")]),lr=Y({pubkey:J(),lamports:F(),postBalance:it(F()),rewardType:it(J()),commission:ht(it(F()))}),xg=vt(it(Y({blockhash:J(),previousBlockhash:J(),parentSlot:F(),transactions:nt(Y({transaction:Ma,meta:it(ss),version:ht(zr)})),rewards:ht(nt(lr)),blockTime:it(F()),blockHeight:it(F())}))),Bg=vt(it(Y({blockhash:J(),previousBlockhash:J(),parentSlot:F(),rewards:ht(nt(lr)),blockTime:it(F()),blockHeight:it(F())}))),_g=vt(it(Y({blockhash:J(),previousBlockhash:J(),parentSlot:F(),transactions:nt(Y({transaction:qu,meta:it(ss),version:ht(zr)})),rewards:ht(nt(lr)),blockTime:it(F()),blockHeight:it(F())}))),Tg=vt(it(Y({blockhash:J(),previousBlockhash:J(),parentSlot:F(),transactions:nt(Y({transaction:Xu,meta:it(Sa),version:ht(zr)})),rewards:ht(nt(lr)),blockTime:it(F()),blockHeight:it(F())}))),Cg=vt(it(Y({blockhash:J(),previousBlockhash:J(),parentSlot:F(),transactions:nt(Y({transaction:qu,meta:it(Sa),version:ht(zr)})),rewards:ht(nt(lr)),blockTime:it(F()),blockHeight:it(F())}))),Ng=vt(it(Y({blockhash:J(),previousBlockhash:J(),parentSlot:F(),rewards:ht(nt(lr)),blockTime:it(F()),blockHeight:it(F())}))),Lg=vt(it(Y({blockhash:J(),previousBlockhash:J(),parentSlot:F(),transactions:nt(Y({transaction:Ma,meta:it(ss)})),rewards:ht(nt(lr)),blockTime:it(F())}))),gc=vt(it(Y({blockhash:J(),previousBlockhash:J(),parentSlot:F(),signatures:nt(J()),blockTime:it(F())}))),Js=vt(it(Y({slot:F(),meta:it(ss),blockTime:ht(it(F())),transaction:Ma,version:ht(zr)}))),wi=vt(it(Y({slot:F(),transaction:Xu,meta:it(Sa),blockTime:ht(it(F())),version:ht(zr)}))),Dg=$t(Y({blockhash:J(),feeCalculator:Y({lamportsPerSignature:F()})})),kg=$t(Y({blockhash:J(),lastValidBlockHeight:F()})),Rg=$t(wn()),Og=Y({slot:F(),numTransactions:F(),numSlots:F(),samplePeriodSecs:F()}),Pg=vt(nt(Og)),Ug=$t(it(Y({feeCalculator:Y({lamportsPerSignature:F()})}))),jg=vt(J()),zg=vt(J()),Fg=Y({err:ur,logs:nt(J()),signature:J()}),Wg=Y({result:is(Fg),subscription:F()}),Hg={"solana-client":"js/1.95.8"};class Qg{constructor(t,e){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const d={};return async p=>{const{commitment:m,config:I}=jt(p),b=this._buildArgs([],m,void 0,I),B=cc(b);return d[B]=d[B]??(async()=>{try{const T=await this._rpcRequest("getBlockHeight",b),v=tt(T,vt(F()));if("error"in v)throw new ut(v.error,"failed to get block height information");return v.result}finally{delete d[B]}})(),await d[B]}})();let n,s,i,o,a,c;e&&typeof e=="string"?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,n=e.wsEndpoint,s=e.httpHeaders,i=e.fetch,o=e.fetchMiddleware,a=e.disableRetryOnRateLimit,c=e.httpAgent),this._rpcEndpoint=B0(t),this._rpcWsEndpoint=n||I0(t),this._rpcClient=W0(t,s,i,o,a,c),this._rpcRequest=H0(this._rpcClient),this._rpcBatchRequest=Q0(this._rpcClient),this._rpcWebSocket=new v0(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:n,config:s}=jt(e),i=this._buildArgs([t.toBase58()],n,void 0,s),o=await this._rpcRequest("getBalance",i),a=tt(o,$t(F()));if("error"in a)throw new ut(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+n)})}async getBlockTime(t){const e=await this._rpcRequest("getBlockTime",[t]),n=tt(e,vt(it(F())));if("error"in n)throw new ut(n.error,`failed to get block time for slot ${t}`);return n.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),e=tt(t,vt(F()));if("error"in e)throw new ut(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),e=tt(t,J0);if("error"in e)throw new ut(e.error,"failed to get first available block");return e.result}async getSupply(t){let e={};typeof t=="string"?e={commitment:t}:t?e={...t,commitment:t&&t.commitment||this.commitment}:e={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[e]),s=tt(n,X0);if("error"in s)throw new ut(s.error,"failed to get supply");return s.result}async getTokenSupply(t,e){const n=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenSupply",n),i=tt(s,$t(So));if("error"in i)throw new ut(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(t,e){const n=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenAccountBalance",n),i=tt(s,$t(So));if("error"in i)throw new ut(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(t,e,n){const{commitment:s,config:i}=jt(n);let o=[t.toBase58()];"mint"in e?o.push({mint:e.mint.toBase58()}):o.push({programId:e.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),d=tt(c,tg);if("error"in d)throw new ut(d.error,`failed to get token accounts owned by account ${t.toBase58()}`);return d.result}async getParsedTokenAccountsByOwner(t,e,n){let s=[t.toBase58()];"mint"in e?s.push({mint:e.mint.toBase58()}):s.push({programId:e.programId.toBase58()});const i=this._buildArgs(s,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=tt(o,eg);if("error"in a)throw new ut(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},n=e.filter||e.commitment?[e]:[],s=await this._rpcRequest("getLargestAccounts",n),i=tt(s,ng);if("error"in i)throw new ut(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(t,e){const n=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenLargestAccounts",n),i=tt(s,$0);if("error"in i)throw new ut(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(t,e){const{commitment:n,config:s}=jt(e),i=this._buildArgs([t.toBase58()],n,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=tt(o,$t(it(ti)));if("error"in a)throw new ut(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,e){const{commitment:n,config:s}=jt(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=tt(o,$t(it(xo)));if("error"in a)throw new ut(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(n){throw new Error("failed to get info about account "+t.toBase58()+": "+n)}}async getMultipleParsedAccounts(t,e){const{commitment:n,config:s}=jt(e),i=t.map(d=>d.toBase58()),o=this._buildArgs([i],n,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=tt(a,$t(nt(it(xo))));if("error"in c)throw new ut(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:n,config:s}=jt(e),i=t.map(d=>d.toBase58()),o=this._buildArgs([i],n,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=tt(a,$t(nt(it(ti))));if("error"in c)throw new ut(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,n){const{commitment:s,config:i}=jt(e),o=this._buildArgs([t.toBase58()],s,void 0,{...i,epoch:n??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=tt(a,vt(og));if("error"in c)throw new ut(c.error,`failed to get Stake Activation ${t.toBase58()}`);return c.result}async getProgramAccounts(t,e){const{commitment:n,config:s}=jt(e),{encoding:i,...o}=s||{},a=this._buildArgs([t.toBase58()],n,i||"base64",{...o,...o.filters?{filters:fc(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),d=nt(rg),p=o.withContext===!0?tt(c,$t(d)):tt(c,vt(d));if("error"in p)throw new ut(p.error,`failed to get accounts owned by program ${t.toBase58()}`);return p.result}async getParsedProgramAccounts(t,e){const{commitment:n,config:s}=jt(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=tt(o,vt(nt(sg)));if("error"in a)throw new ut(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,e){var i;let n;if(typeof t=="string")n=t;else{const o=t;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let s;try{s=Ne.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Gt(s.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((e,n)=>{t!=null&&(t.aborted?n(t.reason):t.addEventListener("abort",()=>{n(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){let n,s,i=!1;const o=new Promise((c,d)=>{try{n=this.onSignature(e,(m,I)=>{n=void 0;const b={context:I,value:m};c({__type:Rn.PROCESSED,response:b})},t);const p=new Promise(m=>{n==null?m():s=this._onSubscriptionStateChange(n,I=>{I==="subscribed"&&m()})});(async()=>{if(await p,i)return;const m=await this.getSignatureStatus(e);if(i||m==null)return;const{context:I,value:b}=m;if(b!=null)if(b!=null&&b.err)d(b.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(b.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(b.confirmationStatus==="processed"||b.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:Rn.PROCESSED,response:{context:I,value:b}})}})()}catch(p){d(p)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:n,signature:s}}){let i=!1;const o=new Promise(m=>{const I=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let b=await I();if(!i){for(;b<=n;)if(await mr(1e3),i||(b=await I(),i))return;m({__type:Rn.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),d=this.getCancellationPromise(e);let p;try{const m=await Promise.race([d,c,o]);if(m.__type===Rn.PROCESSED)p=m.response;else throw new zu(s)}finally{i=!0,a()}return p}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:n,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(b=>{let B=i,T=null;const v=async()=>{try{const{context:k,value:O}=await this.getNonceAndContext(s,{commitment:t,minContextSlot:n});return T=k.slot,O==null?void 0:O.nonce}catch{return B}};(async()=>{if(B=await v(),!a)for(;;){if(i!==B){b({__type:Rn.NONCE_INVALID,slotInWhichNonceDidAdvance:T});return}if(await mr(2e3),a||(B=await v(),a))return}})()}),{abortConfirmation:d,confirmationPromise:p}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),m=this.getCancellationPromise(e);let I;try{const b=await Promise.race([m,p,c]);if(b.__type===Rn.PROCESSED)I=b.response;else{let B;for(;;){const T=await this.getSignatureStatus(o);if(T==null)break;if(T.context.slot<(b.slotInWhichNonceDidAdvance??n)){await mr(400);continue}B=T;break}if(B!=null&&B.value){const T=t||"finalized",{confirmationStatus:v}=B.value;switch(T){case"processed":case"recent":if(v!=="processed"&&v!=="confirmed"&&v!=="finalized")throw new Hr(o);break;case"confirmed":case"single":case"singleGossip":if(v!=="confirmed"&&v!=="finalized")throw new Hr(o);break;case"finalized":case"max":case"root":if(v!=="finalized")throw new Hr(o);break;default:}I={context:B.context,value:{err:B.value.err}}}else throw new Hr(o)}}finally{a=!0,d()}return I}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let n;const s=new Promise(c=>{let d=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{d=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:Rn.TIMED_OUT,timeoutMs:d}),d)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let a;try{const c=await Promise.race([o,s]);if(c.__type===Rn.PROCESSED)a=c.response;else throw new Fu(e,c.timeoutMs/1e3)}finally{clearTimeout(n),i()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),e=tt(t,vt(nt(mg)));if("error"in e)throw new ut(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(t){const e=this._buildArgs([],t),n=await this._rpcRequest("getVoteAccounts",e),s=tt(n,Ag);if("error"in s)throw new ut(s.error,"failed to get vote accounts");return s.result}async getSlot(t){const{commitment:e,config:n}=jt(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getSlot",s),o=tt(i,vt(F()));if("error"in o)throw new ut(o.error,"failed to get slot");return o.result}async getSlotLeader(t){const{commitment:e,config:n}=jt(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getSlotLeader",s),o=tt(i,vt(J()));if("error"in o)throw new ut(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(t,e){const n=[t,e],s=await this._rpcRequest("getSlotLeaders",n),i=tt(s,vt(nt(Zt)));if("error"in i)throw new ut(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(t,e){const{context:n,value:s}=await this.getSignatureStatuses([t],e);Gt(s.length===1);const i=s[0];return{context:n,value:i}}async getSignatureStatuses(t,e){const n=[t];e&&n.push(e);const s=await this._rpcRequest("getSignatureStatuses",n),i=tt(s,Eg);if("error"in i)throw new ut(i.error,"failed to get signature status");return i.result}async getTransactionCount(t){const{commitment:e,config:n}=jt(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getTransactionCount",s),o=tt(i,vt(F()));if("error"in o)throw new ut(o.error,"failed to get transaction count");return o.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),n=await this._rpcRequest("getInflationGovernor",e),s=tt(n,G0);if("error"in s)throw new ut(s.error,"failed to get inflation");return s.result}async getInflationReward(t,e,n){const{commitment:s,config:i}=jt(n),o=this._buildArgs([t.map(d=>d.toBase58())],s,void 0,{...i,epoch:e??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=tt(a,C0);if("error"in c)throw new ut(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),e=tt(t,K0);if("error"in e)throw new ut(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(t){const{commitment:e,config:n}=jt(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getEpochInfo",s),o=tt(i,q0);if("error"in o)throw new ut(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),e=tt(t,V0);if("error"in e)throw new ut(e.error,"failed to get epoch schedule");const n=e.result;return new A0(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),e=tt(t,Z0);if("error"in e)throw new ut(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(t,e){const n=this._buildArgs([t],e),s=await this._rpcRequest("getMinimumBalanceForRentExemption",n),i=tt(s,Mg);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(t){const e=this._buildArgs([],t),n=await this._rpcRequest("getRecentBlockhash",e),s=tt(n,Dg);if("error"in s)throw new ut(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(t){const e=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),n=tt(e,Pg);if("error"in n)throw new ut(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(t,e){const n=this._buildArgs([t],e),s=await this._rpcRequest("getFeeCalculatorForBlockhash",n),i=tt(s,Ug);if("error"in i)throw new ut(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,e){const n=Cr(t.serialize()).toString("base64"),s=this._buildArgs([n],e),i=await this._rpcRequest("getFeeForMessage",s),o=tt(i,$t(it(F())));if("error"in o)throw new ut(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(t){var o;const e=(o=t==null?void 0:t.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),n=e!=null&&e.length?[e]:[],s=await this._rpcRequest("getRecentPrioritizationFees",n),i=tt(s,Y0);if("error"in i)throw new ut(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:n}=jt(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getLatestBlockhash",s),o=tt(i,kg);if("error"in o)throw new ut(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(t,e){const{commitment:n,config:s}=jt(e),i=this._buildArgs([t],n,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=tt(o,Rg);if("error"in a)throw new ut(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),e=tt(t,vt(U0));if("error"in e)throw new ut(e.error,"failed to get version");return e.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),e=tt(t,vt(J()));if("error"in e)throw new ut(e.error,"failed to get genesis hash");return e.result}async getBlock(t,e){const{commitment:n,config:s}=jt(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=tt(o,_g);if("error"in a)throw a.error;return a.result}case"none":{const a=tt(o,Bg);if("error"in a)throw a.error;return a.result}default:{const a=tt(o,xg);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:d,meta:p,version:m})=>({meta:p,transaction:{...d,message:Zs(m,d.message)},version:m}))}:null}}}catch(a){throw new ut(a,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:n,config:s}=jt(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=tt(o,Cg);if("error"in a)throw a.error;return a.result}case"none":{const a=tt(o,Ng);if("error"in a)throw a.error;return a.result}default:{const a=tt(o,Tg);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ut(a,"failed to get block")}}async getBlockProduction(t){let e,n;if(typeof t=="string")n=t;else if(t){const{commitment:a,...c}=t;n=a,e=c}const s=this._buildArgs([],n,"base64",e),i=await this._rpcRequest("getBlockProduction",s),o=tt(i,F0);if("error"in o)throw new ut(o.error,"failed to get block production information");return o.result}async getTransaction(t,e){const{commitment:n,config:s}=jt(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,s),o=await this._rpcRequest("getTransaction",i),a=tt(o,Js);if("error"in a)throw new ut(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:Zs(c.version,c.transaction.message)}}}async getParsedTransaction(t,e){const{commitment:n,config:s}=jt(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=tt(o,wi);if("error"in a)throw new ut(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,e){const{commitment:n,config:s}=jt(e),i=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(c=>{const d=tt(c,wi);if("error"in d)throw new ut(d.error,"failed to get transactions");return d.result})}async getTransactions(t,e){const{commitment:n,config:s}=jt(e),i=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,s)}));return(await this._rpcBatchRequest(i)).map(c=>{const d=tt(c,Js);if("error"in d)throw new ut(d.error,"failed to get transactions");const p=d.result;return p&&{...p,transaction:{...p.transaction,message:Zs(p.version,p.transaction.message)}}})}async getConfirmedBlock(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),s=await this._rpcRequest("getConfirmedBlock",n),i=tt(s,Lg);if("error"in i)throw new ut(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:d})=>{const p=new _n(c.message);return{meta:d,transaction:{...c,message:p}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:d})=>({meta:d,transaction:an.populate(c.message,c.signatures)}))}}async getBlocks(t,e,n){const s=this._buildArgsAtLeastConfirmed(e!==void 0?[t,e]:[t],n),i=await this._rpcRequest("getBlocks",s),o=tt(i,vt(nt(F())));if("error"in o)throw new ut(o.error,"failed to get blocks");return o.result}async getBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",n),i=tt(s,gc);if("error"in i)throw new ut(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+t+" not found");return o}async getConfirmedBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",n),i=tt(s,gc);if("error"in i)throw new ut(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");return o}async getConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),s=await this._rpcRequest("getConfirmedTransaction",n),i=tt(s,Js);if("error"in i)throw new ut(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new _n(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:an.populate(a,c)}}async getParsedConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",n),i=tt(s,wi);if("error"in i)throw new ut(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(t,e){const n=t.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],e,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const a=tt(o,wi);if("error"in a)throw new ut(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,e,n){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(e--,!(e<=0||e<i));)try{const c=await this.getConfirmedBlockSignatures(e,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(n++,!(n>o));)try{const c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(t,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(t,e,n){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=tt(i,ag);if("error"in o)throw new ut(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(t,e,n){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=await this._rpcRequest("getSignaturesForAddress",s),o=tt(i,cg);if("error"in o)throw new ut(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(t,e){const{context:n,value:s}=await this.getAccountInfoAndContext(t,e);let i=null;return s!==null&&(i=new lc({key:t,state:lc.deserialize(s.data)})),{context:n,value:i}}async getNonceAndContext(t,e){const{context:n,value:s}=await this.getAccountInfoAndContext(t,e);let i=null;return s!==null&&(i=va.fromAccountData(s.data)),{context:n,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+n)})}async requestAirdrop(t,e){const n=await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),s=tt(n,jg);if("error"in s)throw new ut(s.error,`airdrop to ${t.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await mr(100);const n=Date.now()-this._blockhashInfo.lastFetch>=x0;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,n=e?e.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(n!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await mr(f0/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:n}=jt(t),s=this._buildArgs([],e,"base64",n),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=tt(i,$t(F()));if("error"in o)throw new ut(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(t,e,n){if("message"in t){const T=t.serialize(),v=mt.Buffer.from(T).toString("base64");if(Array.isArray(e)||n!==void 0)throw new Error("Invalid arguments");const k=e||{};k.encoding="base64","commitment"in k||(k.commitment=this.commitment),e&&typeof e=="object"&&"innerInstructions"in e&&(k.innerInstructions=e.innerInstructions);const O=[v,k],S=await this._rpcRequest("simulateTransaction",O),L=tt(S,hc);if("error"in L)throw new Error("failed to simulate transaction: "+L.error.message);return L.result}let s;if(t instanceof an){let B=t;s=new an,s.feePayer=B.feePayer,s.instructions=t.instructions,s.nonceInfo=B.nonceInfo,s.signatures=B.signatures}else s=an.populate(t),s._message=s._json=void 0;if(e!==void 0&&!Array.isArray(e))throw new Error("Invalid arguments");const i=e;if(s.nonceInfo&&i)s.sign(...i);else{let B=this._disableBlockhashCaching;for(;;){const T=await this._blockhashWithExpiryBlockHeight(B);if(s.lastValidBlockHeight=T.lastValidBlockHeight,s.recentBlockhash=T.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const v=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(v)&&!this._blockhashInfo.transactionSignatures.includes(v)){this._blockhashInfo.simulatedSignatures.push(v);break}else B=!0}}const o=s._compile(),a=o.serialize(),d=s._serialize(a).toString("base64"),p={encoding:"base64",commitment:this.commitment};if(n){const B=(Array.isArray(n)?n:o.nonProgramIds()).map(T=>T.toBase58());p.accounts={encoding:"base64",addresses:B}}i&&(p.sigVerify=!0),e&&typeof e=="object"&&"innerInstructions"in e&&(p.innerInstructions=e.innerInstructions);const m=[d,p],I=await this._rpcRequest("simulateTransaction",m),b=tt(I,hc);if("error"in b){let B;if("data"in b.error&&(B=b.error.data.logs,B&&Array.isArray(B))){const T=`
    `,v=T+B.join(T);console.error(b.error.message,v)}throw new oc({action:"simulate",signature:"",transactionMessage:b.error.message,logs:B})}return b.result}async sendTransaction(t,e,n){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const o=t.serialize();return await this.sendRawTransaction(o,e)}if(e===void 0||!Array.isArray(e))throw new Error("Invalid arguments");const s=e;if(t.nonceInfo)t.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...s),!t.signature)throw new Error("!signature");const c=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=t.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(t,e){const n=Cr(t).toString("base64");return await this.sendEncodedTransaction(n,e)}async sendEncodedTransaction(t,e){const n={encoding:"base64"},s=e&&e.skipPreflight,i=s===!0?"processed":e&&e.preflightCommitment||this.commitment;e&&e.maxRetries!=null&&(n.maxRetries=e.maxRetries),e&&e.minContextSlot!=null&&(n.minContextSlot=e.minContextSlot),s&&(n.skipPreflight=s),i&&(n.preflightCommitment=i);const o=[t,n],a=await this._rpcRequest("sendTransaction",o),c=tt(a,zg);if("error"in c){let d;throw"data"in c.error&&(d=c.error.data.logs),new oc({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:d})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,n])=>{this._setSubscription(e,{...n,state:"pending"})})}_setSubscription(t,e){var s;const n=(s=this._subscriptionsByHash[t])==null?void 0:s.state;if(this._subscriptionsByHash[t]=e,n!==e.state){const i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(o=>{try{o(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){var i;const n=this._subscriptionHashByClientSubscriptionId[t];if(n==null)return()=>{};const s=(i=this._subscriptionStateChangeCallbacksByHash)[n]||(i[n]=new Set);return s.add(e),()=>{s.delete(e),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const s=this._subscriptionsByHash[n];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[n],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(n,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(n,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!e())return;this._setSubscription(n,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(n,{...s,state:"unsubscribing"}),this._setSubscription(n,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!e())return;this._setSubscription(n,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,e){const n=this._subscriptionCallbacksByServerSubscriptionId[t];n!==void 0&&n.forEach(s=>{try{s(...e)}catch(i){console.error(i)}})}_wsOnAccountNotification(t){const{result:e,subscription:n}=tt(t,ug);this._handleServerNotification(n,[e.value,e.context])}_makeSubscription(t,e){const n=this._nextClientSubscriptionId++,s=cc([t.method,e]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[s];Gt(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,e,n){const{commitment:s,config:i}=jt(n),o=this._buildArgs([t.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:n}=tt(t,fg);this._handleServerNotification(n,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,n,s){const{commitment:i,config:o}=jt(n),a=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:fc(s)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,n){const s=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:n}=tt(t,Wg);this._handleServerNotification(n,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:n}=tt(t,dg);this._handleServerNotification(n,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:n}=tt(t,pg);this._handleServerNotification(n,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,n,s){const i=e||this._commitment;if(i||n||s){let o={};n&&(o.encoding=n),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),t.push(o)}return t}_buildArgsAtLeastConfirmed(t,e,n,s){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,n,s)}_wsOnSignatureNotification(t){const{result:e,subscription:n}=tt(t,wg);e.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,e.value==="receivedSignature"?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,n){const s=this._buildArgs([t],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){e(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(t,e,n){const{commitment:s,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([t],s,void 0,i),a=this._makeSubscription({callback:(c,d)=>{e(c,d);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:n}=tt(t,yg);this._handleServerNotification(n,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:at([ft("instruction"),Nr("recentSlot"),Lt("bumpSeed")])},FreezeLookupTable:{index:1,layout:at([ft("instruction")])},ExtendLookupTable:{index:2,layout:at([ft("instruction"),Nr(),Pe(It(),nr(ft(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:at([ft("instruction")])},CloseLookupTable:{index:4,layout:at([ft("instruction")])}});new lt("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:at([Lt("instruction"),ft("units"),ft("additionalFee")])},RequestHeapFrame:{index:1,layout:at([Lt("instruction"),ft("bytes")])},SetComputeUnitLimit:{index:2,layout:at([Lt("instruction"),ft("units")])},SetComputeUnitPrice:{index:3,layout:at([Lt("instruction"),Nr("microLamports")])}});new lt("ComputeBudget111111111111111111111111111111");at([Lt("numSignatures"),Lt("padding"),tn("signatureOffset"),tn("signatureInstructionIndex"),tn("publicKeyOffset"),tn("publicKeyInstructionIndex"),tn("messageDataOffset"),tn("messageDataSize"),tn("messageInstructionIndex")]);new lt("Ed25519SigVerify111111111111111111111111111");ma.utils.isValidPrivateKey;ma.getPublicKey;at([Lt("numSignatures"),tn("signatureOffset"),Lt("signatureInstructionIndex"),tn("ethAddressOffset"),Lt("ethAddressInstructionIndex"),tn("messageDataOffset"),tn("messageDataSize"),Lt("messageInstructionIndex"),Ht(20,"ethAddress"),Ht(64,"signature"),Lt("recoveryId")]);new lt("KeccakSecp256k11111111111111111111111111111");var tl;new lt("StakeConfig11111111111111111111111111111111");class el{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}tl=el;el.default=new tl(0,0,lt.default);Object.freeze({Initialize:{index:0,layout:at([ft("instruction"),r0(),i0()])},Authorize:{index:1,layout:at([ft("instruction"),It("newAuthorized"),ft("stakeAuthorizationType")])},Delegate:{index:2,layout:at([ft("instruction")])},Split:{index:3,layout:at([ft("instruction"),Ge("lamports")])},Withdraw:{index:4,layout:at([ft("instruction"),Ge("lamports")])},Deactivate:{index:5,layout:at([ft("instruction")])},Merge:{index:7,layout:at([ft("instruction")])},AuthorizeWithSeed:{index:8,layout:at([ft("instruction"),It("newAuthorized"),ft("stakeAuthorizationType"),vr("authoritySeed"),It("authorityOwner")])}});new lt("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:at([ft("instruction"),s0()])},Authorize:{index:1,layout:at([ft("instruction"),It("newAuthorized"),ft("voteAuthorizationType")])},Withdraw:{index:3,layout:at([ft("instruction"),Ge("lamports")])},UpdateValidatorIdentity:{index:4,layout:at([ft("instruction")])},AuthorizeWithSeed:{index:10,layout:at([ft("instruction"),o0()])}});new lt("Vote111111111111111111111111111111111111111");new lt("Va1idator1nfo111111111111111111111111111111");Y({name:J(),website:ht(J()),details:ht(J()),iconUrl:ht(J()),keybaseUsername:ht(J())});new lt("Vote111111111111111111111111111111111111111");at([It("nodePubkey"),It("authorizedWithdrawer"),Lt("commission"),_e(),Pe(at([_e("slot"),ft("confirmationCount")]),nr(ft(),-8),"votes"),Lt("rootSlotValid"),_e("rootSlot"),_e(),Pe(at([_e("epoch"),It("authorizedVoter")]),nr(ft(),-8),"authorizedVoters"),at([Pe(at([It("authorizedPubkey"),_e("epochOfLastAuthorizedSwitch"),_e("targetEpoch")]),32,"buf"),_e("idx"),Lt("isEmpty")],"priorVoters"),_e(),Pe(at([_e("epoch"),_e("credits"),_e("prevCredits")]),nr(ft(),-8),"epochCredits"),at([_e("slot"),_e("timestamp")],"lastTimestamp")]);const EA=1e9,nl=et.createContext({});function Gg(){return et.useContext(nl)}const MA=({children:r,endpoint:t,config:e={commitment:"confirmed"}})=>{const n=et.useMemo(()=>new Qg(t,e),[t,e]);return q.createElement(nl.Provider,{value:{connection:n}},r)};var rl={exports:{}};(function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(c,d,p){this.fn=c,this.context=d,this.once=p||!1}function i(c,d,p,m,I){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new s(p,m||c,I),B=e?e+d:d;return c._events[B]?c._events[B].fn?c._events[B]=[c._events[B],b]:c._events[B].push(b):(c._events[B]=b,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var d=[],p,m;if(this._eventsCount===0)return d;for(m in p=this._events)t.call(p,m)&&d.push(e?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},a.prototype.listeners=function(d){var p=e?e+d:d,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var I=0,b=m.length,B=new Array(b);I<b;I++)B[I]=m[I].fn;return B},a.prototype.listenerCount=function(d){var p=e?e+d:d,m=this._events[p];return m?m.fn?1:m.length:0},a.prototype.emit=function(d,p,m,I,b,B){var T=e?e+d:d;if(!this._events[T])return!1;var v=this._events[T],k=arguments.length,O,S;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),k){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,p),!0;case 3:return v.fn.call(v.context,p,m),!0;case 4:return v.fn.call(v.context,p,m,I),!0;case 5:return v.fn.call(v.context,p,m,I,b),!0;case 6:return v.fn.call(v.context,p,m,I,b,B),!0}for(S=1,O=new Array(k-1);S<k;S++)O[S-1]=arguments[S];v.fn.apply(v.context,O)}else{var L=v.length,D;for(S=0;S<L;S++)switch(v[S].once&&this.removeListener(d,v[S].fn,void 0,!0),k){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,p);break;case 3:v[S].fn.call(v[S].context,p,m);break;case 4:v[S].fn.call(v[S].context,p,m,I);break;default:if(!O)for(D=1,O=new Array(k-1);D<k;D++)O[D-1]=arguments[D];v[S].fn.apply(v[S].context,O)}}return!0},a.prototype.on=function(d,p,m){return i(this,d,p,m,!1)},a.prototype.once=function(d,p,m){return i(this,d,p,m,!0)},a.prototype.removeListener=function(d,p,m,I){var b=e?e+d:d;if(!this._events[b])return this;if(!p)return o(this,b),this;var B=this._events[b];if(B.fn)B.fn===p&&(!I||B.once)&&(!m||B.context===m)&&o(this,b);else{for(var T=0,v=[],k=B.length;T<k;T++)(B[T].fn!==p||I&&!B[T].once||m&&B[T].context!==m)&&v.push(B[T]);v.length?this._events[b]=v.length===1?v[0]:v:o(this,b)}return this},a.prototype.removeAllListeners=function(d){var p;return d?(p=e?e+d:d,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,r.exports=a})(rl);var Kg=rl.exports;const Yg=Wn(Kg);class Yt extends Error{constructor(t,e){super(t),this.error=e}}class Ze extends Yt{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class os extends Yt{constructor(){super(...arguments),this.name="WalletLoadError"}}class jn extends Yt{constructor(){super(...arguments),this.name="WalletConfigError"}}class Ve extends Yt{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Hn extends Yt{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Qn extends Yt{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class cn extends Yt{constructor(){super(...arguments),this.name="WalletAccountError"}}class hn extends Yt{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class xt extends Yt{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class nn extends Yt{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class ve extends Yt{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Gn extends Yt{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class pc extends Yt{constructor(){super(...arguments),this.name="WalletSignInError"}}class qg extends Yt{constructor(){super(...arguments),this.name="WalletTimeoutError"}}class Vg extends Yt{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}class wc extends Yt{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}var st;(function(r){r.Installed="Installed",r.NotDetected="NotDetected",r.Loadable="Loadable",r.Unsupported="Unsupported"})(st||(st={}));class il extends Yg{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,n={}){const s=this.publicKey;if(!s)throw new xt;return t.feePayer=t.feePayer||s,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,t}}function ai(r){if(typeof window>"u"||typeof document>"u")return;const t=[];function e(){if(r())for(const i of t)i()}const n=setInterval(e,1e3);t.push(()=>clearInterval(n)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",e,{once:!0}),t.push(()=>document.removeEventListener("DOMContentLoaded",e))),document.readyState!=="complete"&&(window.addEventListener("load",e,{once:!0}),t.push(()=>window.removeEventListener("load",e))),e()}function Bo(){if(!navigator)return!1;const r=navigator.userAgent.toLowerCase(),t=r.includes("iphone")||r.includes("ipad"),e=r.includes("safari");return t&&e}function pn(r){return"version"in r}class sl extends il{async sendTransaction(t,e,n={}){let s=!0;try{if(pn(t)){if(!this.supportedTransactionVersions)throw new nn("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new nn(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);const i=t.serialize();return await e.sendRawTransaction(i,n)}catch(i){throw i instanceof ve?(s=!1,i):new nn(i==null?void 0:i.message,i)}}else try{const{signers:i,...o}=n;t=await this.prepareTransaction(t,e,o),i!=null&&i.length&&t.partialSign(...i),t=await this.signTransaction(t);const a=t.serialize();return await e.sendRawTransaction(a,o)}catch(i){throw i instanceof ve?(s=!1,i):new nn(i==null?void 0:i.message,i)}}catch(i){throw s&&this.emit("error",i),i}}async signAllTransactions(t){for(const n of t)if(pn(n)){if(!this.supportedTransactionVersions)throw new ve("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new ve(`Signing transaction version ${n.version} isn't supported by this wallet`)}const e=[];for(const n of t)e.push(await this.signTransaction(n));return e}}class fr extends sl{}class Zg extends fr{}const xn="solana:signAndSendTransaction",Xs="solana:signIn",Ar="solana:signMessage",Se="solana:signTransaction",Ia="standard:connect",_o="standard:disconnect",xa="standard:events";function Jg(r){return Ia in r.features&&xa in r.features&&(xn in r.features||Se in r.features)}var To;(function(r){r.Mainnet="mainnet-beta",r.Testnet="testnet",r.Devnet="devnet"})(To||(To={}));class yc extends Yt{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const Xg=[],as={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){on("call","select")},connect(){return Promise.reject(on("call","connect"))},disconnect(){return Promise.reject(on("call","disconnect"))},sendTransaction(){return Promise.reject(on("call","sendTransaction"))},signTransaction(){return Promise.reject(on("call","signTransaction"))},signAllTransactions(){return Promise.reject(on("call","signAllTransactions"))},signMessage(){return Promise.reject(on("call","signMessage"))},signIn(){return Promise.reject(on("call","signIn"))}};Object.defineProperty(as,"wallets",{get(){return on("read","wallets"),Xg}});Object.defineProperty(as,"wallet",{get(){return on("read","wallet"),null}});Object.defineProperty(as,"publicKey",{get(){return on("read","publicKey"),null}});function on(r,t){const e=new Error(`You have tried to ${r} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(e),e}const ol=et.createContext(as);function al(){return et.useContext(ol)}function $g(r,t){const e=et.useState(()=>{try{const i=localStorage.getItem(r);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return t}),n=e[0],s=et.useRef(!0);return et.useEffect(()=>{if(s.current){s.current=!1;return}try{n===null?localStorage.removeItem(r):localStorage.setItem(r,JSON.stringify(n))}catch(i){typeof window<"u"&&console.error(i)}},[n,r]),e}function $s(r){switch(r){case"processed":case"confirmed":case"finalized":case void 0:return r;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Co="solana:mainnet",cl="solana:devnet",ul="solana:testnet",tp="solana:localnet",ep="https://api.mainnet-beta.solana.com";function np(r){return r.includes(ep)?Co:/\bdevnet\b/i.test(r)?cl:/\btestnet\b/i.test(r)?ul:/\blocalhost\b/i.test(r)||/\b127\.0\.0\.1\b/.test(r)?tp:Co}function rp(r){let t=`${r.domain} wants you to sign in with your Solana account:
`;t+=`${r.address}`,r.statement&&(t+=`

${r.statement}`);const e=[];if(r.uri&&e.push(`URI: ${r.uri}`),r.version&&e.push(`Version: ${r.version}`),r.chainId&&e.push(`Chain ID: ${r.chainId}`),r.nonce&&e.push(`Nonce: ${r.nonce}`),r.issuedAt&&e.push(`Issued At: ${r.issuedAt}`),r.expirationTime&&e.push(`Expiration Time: ${r.expirationTime}`),r.notBefore&&e.push(`Not Before: ${r.notBefore}`),r.requestId&&e.push(`Request ID: ${r.requestId}`),r.resources){e.push("Resources:");for(const n of r.resources)e.push(`- ${n}`)}return e.length&&(t+=`

${e.join(`
`)}`),t}const Tn={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class Cn extends Error{constructor(...t){const[e,n,s]=t;super(n),this.code=e,this.data=s,this.name="SolanaMobileWalletAdapterError"}}class ll extends Error{constructor(...t){const[e,n,s,i]=t;super(s),this.code=n,this.data=i,this.jsonRpcMessageId=e,this.name="SolanaMobileWalletAdapterProtocolError"}}function be(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(p){try{d(n.next(p))}catch(m){o(m)}}function c(p){try{d(n.throw(p))}catch(m){o(m)}}function d(p){p.done?i(p.value):s(p.value).then(a,c)}d((n=n.apply(r,[])).next())})}function to(r,t){return be(this,void 0,void 0,function*(){const e=yield crypto.subtle.exportKey("raw",r),n=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,e),s=new Uint8Array(e.byteLength+n.byteLength);return s.set(new Uint8Array(e),0),s.set(new Uint8Array(n),e.byteLength),s})}function ip(r){return window.btoa(r)}function sp(r){return rp(r)}function op(r){return ip(sp(r))}const ap="solana:signTransactions",mc="solana:cloneAuthorization";function cp(r,t){return new Proxy({},{get(e,n){return e[n]==null&&(e[n]=function(s){return be(this,void 0,void 0,function*(){const{method:i,params:o}=up(n,s,r),a=yield t(i,o);return i==="authorize"&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield fp(o.sign_in_payload,a,t)),lp(n,a,r)})}),e[n]},defineProperty(){return!1},deleteProperty(){return!1}})}function up(r,t,e){let n=t,s=r.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(r){case"authorize":{let{chain:i}=n;if(e==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=n.cluster}n.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}n.chain=i}}case"reauthorize":{const{auth_token:i,identity:o}=n;if(i)switch(e){case"legacy":{s="reauthorize",n={auth_token:i,identity:o};break}default:{s="authorize";break}}break}}return{method:s,params:n}}function lp(r,t,e){switch(r){case"getCapabilities":{const n=t;switch(e){case"legacy":{const s=[ap];return n.supports_clone_authorization===!0&&s.push(mc),Object.assign(Object.assign({},n),{features:s})}case"v1":return Object.assign(Object.assign({},n),{supports_sign_and_send_transactions:!0,supports_clone_authorization:n.features.includes(mc)})}}}return t}function fp(r,t,e){var n;return be(this,void 0,void 0,function*(){const s=(n=r.domain)!==null&&n!==void 0?n:window.location.host,i=t.accounts[0].address,o=op(Object.assign(Object.assign({},r),{domain:s,address:i})),a=yield e("sign_messages",{addresses:[i],payloads:[o]});return{address:i,signed_message:o,signature:a.signed_payloads[0].slice(o.length)}})}const Jn=4;function hp(r){if(r>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(Jn);return new DataView(t).setUint32(0,r,!1),new Uint8Array(t)}const No=12,fl=65;function dp(r,t,e){return be(this,void 0,void 0,function*(){const n=hp(t),s=new Uint8Array(No);crypto.getRandomValues(s);const i=yield crypto.subtle.encrypt(dl(n,s),e,new TextEncoder().encode(r)),o=new Uint8Array(n.byteLength+s.byteLength+i.byteLength);return o.set(new Uint8Array(n),0),o.set(new Uint8Array(s),n.byteLength),o.set(new Uint8Array(i),n.byteLength+s.byteLength),o})}function hl(r,t){return be(this,void 0,void 0,function*(){const e=r.slice(0,Jn),n=r.slice(Jn,Jn+No),s=r.slice(Jn+No),i=yield crypto.subtle.decrypt(dl(e,n),t,s);return gp().decode(i)})}function dl(r,t){return{additionalData:r,iv:t,name:"AES-GCM",tagLength:128}}let eo;function gp(){return eo===void 0&&(eo=new TextDecoder("utf-8")),eo}function pp(){return be(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function no(){return be(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function wp(r,t){return be(this,void 0,void 0,function*(){const e=JSON.stringify(r),n=r.id;return dp(e,n,t)})}function yp(r,t){return be(this,void 0,void 0,function*(){const e=yield hl(r,t),n=JSON.parse(e);if(Object.hasOwnProperty.call(n,"error"))throw new ll(n.id,n.error.code,n.error.message);return n})}function mp(r,t,e){return be(this,void 0,void 0,function*(){const[n,s]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",r.slice(0,fl),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:s},e,256),o=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(n),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function Ap(r,t){return be(this,void 0,void 0,function*(){const e=yield hl(r,t),n=JSON.parse(e);let s="legacy";if(Object.hasOwnProperty.call(n,"v"))switch(n.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new Cn(Tn.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${n.v}`)}return{protocol_version:s}})}function bp(){return gl(49152+Math.floor(Math.random()*16384))}function gl(r){if(r<49152||r>65535)throw new Cn(Tn.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${r} given.`,{port:r});return r}function vp(r){let t="";const e=new Uint8Array(r),n=e.byteLength;for(let s=0;s<n;s++)t+=String.fromCharCode(e[s]);return window.btoa(t)}function Ep(r){return r.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."})[t])}const Mp="solana-wallet";function Ac(r){return r.replace(/(^\/+|\/+$)/g,"").split("/")}function Sp(r,t){let e=null;if(t){try{e=new URL(t)}catch{}if((e==null?void 0:e.protocol)!=="https:")throw new Cn(Tn.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}e||(e=new URL(`${Mp}:/`));const n=r.startsWith("/")?r:[...Ac(e.pathname),...Ac(r)].join("/");return new URL(n,e)}function Ip(r,t,e,n=["v1"]){return be(this,void 0,void 0,function*(){const s=gl(t),i=yield crypto.subtle.exportKey("raw",r),o=vp(i),a=Sp("v1/associate/local",e);return a.searchParams.set("association",Ep(o)),a.searchParams.set("port",`${s}`),n.forEach(c=>{a.searchParams.set("v",c)}),a})}const zi={Firefox:0,Other:1};function xp(){return navigator.userAgent.indexOf("Firefox/")!==-1?zi.Firefox:zi.Other}function Bp(){return new Promise((r,t)=>{function e(){clearTimeout(s),window.removeEventListener("blur",n)}function n(){e(),r()}window.addEventListener("blur",n);const s=setTimeout(()=>{e(),t()},2e3)})}let Wr=null;function _p(r){Wr==null&&(Wr=document.createElement("iframe"),Wr.style.display="none",document.body.appendChild(Wr)),Wr.contentWindow.location.href=r.toString()}function Tp(r){return be(this,void 0,void 0,function*(){if(r.protocol==="https:")window.location.assign(r);else try{const t=xp();switch(t){case zi.Firefox:_p(r);break;case zi.Other:{const e=Bp();window.location.assign(r),yield e;break}default:}}catch{throw new Cn(Tn.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function Cp(r,t){return be(this,void 0,void 0,function*(){const e=bp(),n=yield Ip(r,e,t);return yield Tp(n),e})}const bc={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},Np="com.solana.mobilewalletadapter.v1";function Lp(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Cn(Tn.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function Dp(r){let t;try{t=new URL(r)}catch{throw new Cn(Tn.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(t.protocol!=="https:")throw new Cn(Tn.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function vc(r){return new DataView(r).getUint32(0,!1)}function kp(r,t){return be(this,void 0,void 0,function*(){Lp();const e=yield pp(),s=`ws://localhost:${yield Cp(e.publicKey,t==null?void 0:t.baseUri)}/solana-wallet`;let i;const o=(()=>{const p=[...bc.retryDelayScheduleMs];return()=>p.length>1?p.shift():p[0]})();let a=1,c=0,d={__type:"disconnected"};return new Promise((p,m)=>{let I;const b={},B=()=>be(this,void 0,void 0,function*(){if(d.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${d.__type}\`.`);return}I.removeEventListener("open",B);const{associationKeypair:D}=d,R=yield no();I.send(yield to(R.publicKey,D.privateKey)),d={__type:"hello_req_sent",associationPublicKey:D.publicKey,ecdhPrivateKey:R.privateKey}}),T=D=>{D.wasClean?d={__type:"disconnected"}:m(new Cn(Tn.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${D.code}: ${D.reason}).`,{closeEvent:D})),O()},v=D=>be(this,void 0,void 0,function*(){O(),Date.now()-i>=bc.timeoutMs?m(new Cn(Tn.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise(R=>{const j=o();S=window.setTimeout(R,j)}),L())}),k=D=>be(this,void 0,void 0,function*(){const R=yield D.data.arrayBuffer();switch(d.__type){case"connecting":if(R.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const j=yield no();I.send(yield to(j.publicKey,e.privateKey)),d={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:j.privateKey};break;case"connected":try{const H=R.slice(0,Jn),K=vc(H);if(K!==c+1)throw new Error("Encrypted message has invalid sequence number");c=K;const Z=yield yp(R,d.sharedSecret),X=b[Z.id];delete b[Z.id],X.resolve(Z.result)}catch(H){if(H instanceof ll){const K=b[H.jsonRpcMessageId];delete b[H.jsonRpcMessageId],K.reject(H)}else throw H}break;case"hello_req_sent":{if(R.byteLength===0){const ot=yield no();I.send(yield to(ot.publicKey,e.privateKey)),d={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:ot.privateKey};break}const H=yield mp(R,d.associationPublicKey,d.ecdhPrivateKey),K=R.slice(fl),Z=K.byteLength!==0?yield be(this,void 0,void 0,function*(){const ot=K.slice(0,Jn),C=vc(ot);if(C!==c+1)throw new Error("Encrypted message has invalid sequence number");return c=C,Ap(K,H)}):{protocol_version:"legacy"};d={__type:"connected",sharedSecret:H,sessionProperties:Z};const X=cp(Z.protocol_version,(ot,C)=>be(this,void 0,void 0,function*(){const u=a++;return I.send(yield wp({id:u,jsonrpc:"2.0",method:ot,params:C??{}},H)),new Promise((g,w)=>{b[u]={resolve(y){switch(ot){case"authorize":case"reauthorize":{const{wallet_uri_base:E}=y;if(E!=null)try{Dp(E)}catch(N){w(N);return}break}}g(y)},reject:w}})}));try{p(yield r(X))}catch(ot){m(ot)}finally{O(),I.close()}break}}});let O,S;const L=()=>{O&&O(),d={__type:"connecting",associationKeypair:e},i===void 0&&(i=Date.now()),I=new WebSocket(s,[Np]),I.addEventListener("open",B),I.addEventListener("close",T),I.addEventListener("error",v),I.addEventListener("message",k),O=()=>{window.clearTimeout(S),I.removeEventListener("open",B),I.removeEventListener("close",T),I.removeEventListener("error",v),I.removeEventListener("message",k)}};L()})})}function Rp(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var o=r.length,a=r.charAt(0),c=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function p(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var B=0,T=0,v=0,k=b.length;v!==k&&b[v]===0;)v++,B++;for(var O=(k-v)*d+1>>>0,S=new Uint8Array(O);v!==k;){for(var L=b[v],D=0,R=O-1;(L!==0||D<T)&&R!==-1;R--,D++)L+=256*S[R]>>>0,S[R]=L%o>>>0,L=L/o>>>0;if(L!==0)throw new Error("Non-zero carry");T=D,v++}for(var j=O-T;j!==O&&S[j]===0;)j++;for(var H=a.repeat(B);j<O;++j)H+=r.charAt(S[j]);return H}function m(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;for(var B=0,T=0,v=0;b[B]===a;)T++,B++;for(var k=(b.length-B)*c+1>>>0,O=new Uint8Array(k);b[B];){var S=t[b.charCodeAt(B)];if(S===255)return;for(var L=0,D=k-1;(S!==0||L<v)&&D!==-1;D--,L++)S+=o*O[D]>>>0,O[D]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");v=L,B++}for(var R=k-v;R!==k&&O[R]===0;)R++;for(var j=new Uint8Array(T+(k-R)),H=T;R!==k;)j[H++]=O[R++];return j}function I(b){var B=m(b);if(B)return B;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:m,decode:I}}var Op=Rp;const Pp=Op,Up="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var jp=Pp(Up);const zp=Wn(jp);function ro(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(e[n[s]]=r[n[s]]);return e}function yi(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(p){try{d(n.next(p))}catch(m){o(m)}}function c(p){try{d(n.throw(p))}catch(m){o(m)}}function d(p){p.done?i(p.value):s(p.value).then(a,c)}d((n=n.apply(r,[])).next())})}function pl(r){return window.btoa(String.fromCharCode.call(null,...r))}function io(r){return new Uint8Array(window.atob(r).split("").map(t=>t.charCodeAt(0)))}function Ec(r){const t="version"in r?r.serialize():r.serialize({requireAllSignatures:!1,verifySignatures:!1});return pl(t)}function Fp(r){const e=r[0]*Jr+1;return ba.deserializeMessageVersion(r.slice(e,r.length))==="legacy"?an.from(r):$r.deserialize(r)}function Wp(r,t){return yi(this,void 0,void 0,function*(){return yield kp(n=>{const s=new Proxy({},{get(i,o){if(i[o]==null)switch(o){case"signAndSendTransactions":i[o]=function(a){var{minContextSlot:c,commitment:d,skipPreflight:p,maxRetries:m,waitForCommitmentToSendNextTransaction:I,transactions:b}=a,B=ro(a,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return yi(this,void 0,void 0,function*(){const T=b.map(Ec),v={min_context_slot:c,commitment:d,skip_preflight:p,max_retries:m,wait_for_commitment_to_send_next_transaction:I},{signatures:k}=yield n.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},B),Object.values(v).some(S=>S!=null)?{options:v}:null),{payloads:T}));return k.map(io).map(zp.encode)})};break;case"signMessages":i[o]=function(a){var{payloads:c}=a,d=ro(a,["payloads"]);return yi(this,void 0,void 0,function*(){const p=c.map(pl),{signed_payloads:m}=yield n.signMessages(Object.assign(Object.assign({},d),{payloads:p}));return m.map(io)})};break;case"signTransactions":i[o]=function(a){var{transactions:c}=a,d=ro(a,["transactions"]);return yi(this,void 0,void 0,function*(){const p=c.map(Ec),{signed_payloads:m}=yield n.signTransactions(Object.assign(Object.assign({},d),{payloads:p}));return m.map(io).map(Fp)})};break;default:{i[o]=n[o];break}}return i[o]},defineProperty(){return!1},deleteProperty(){return!1}});return r(s)},t)})}var Hp=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},wl={},Xe={};let Ba;const Qp=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Xe.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Xe.getSymbolTotalCodewords=function(t){return Qp[t]};Xe.getBCHDigit=function(r){let t=0;for(;r!==0;)t++,r>>>=1;return t};Xe.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Ba=t};Xe.isKanjiModeEnabled=function(){return typeof Ba<"u"};Xe.toSJIS=function(t){return Ba(t)};var cs={};(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function t(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+e)}}r.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},r.from=function(n,s){if(r.isValid(n))return n;try{return t(n)}catch{return s}}})(cs);function yl(){this.buffer=[],this.length=0}yl.prototype={get:function(r){const t=Math.floor(r/8);return(this.buffer[t]>>>7-r%8&1)===1},put:function(r,t){for(let e=0;e<t;e++)this.putBit((r>>>t-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),r&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Gp=yl;function ci(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}ci.prototype.set=function(r,t,e,n){const s=r*this.size+t;this.data[s]=e,n&&(this.reservedBit[s]=!0)};ci.prototype.get=function(r,t){return this.data[r*this.size+t]};ci.prototype.xor=function(r,t,e){this.data[r*this.size+t]^=e};ci.prototype.isReserved=function(r,t){return this.reservedBit[r*this.size+t]};var Kp=ci,ml={};(function(r){const t=Xe.getSymbolSize;r.getRowColCoords=function(n){if(n===1)return[];const s=Math.floor(n/7)+2,i=t(n),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let c=1;c<s-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},r.getPositions=function(n){const s=[],i=r.getRowColCoords(n),o=i.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||s.push([i[a],i[c]]);return s}})(ml);var Al={};const Yp=Xe.getSymbolSize,Mc=7;Al.getPositions=function(t){const e=Yp(t);return[[0,0],[e-Mc,0],[0,e-Mc]]};var bl={};(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};r.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},r.from=function(s){return r.isValid(s)?parseInt(s,10):void 0},r.getPenaltyN1=function(s){const i=s.size;let o=0,a=0,c=0,d=null,p=null;for(let m=0;m<i;m++){a=c=0,d=p=null;for(let I=0;I<i;I++){let b=s.get(m,I);b===d?a++:(a>=5&&(o+=t.N1+(a-5)),d=b,a=1),b=s.get(I,m),b===p?c++:(c>=5&&(o+=t.N1+(c-5)),p=b,c=1)}a>=5&&(o+=t.N1+(a-5)),c>=5&&(o+=t.N1+(c-5))}return o},r.getPenaltyN2=function(s){const i=s.size;let o=0;for(let a=0;a<i-1;a++)for(let c=0;c<i-1;c++){const d=s.get(a,c)+s.get(a,c+1)+s.get(a+1,c)+s.get(a+1,c+1);(d===4||d===0)&&o++}return o*t.N2},r.getPenaltyN3=function(s){const i=s.size;let o=0,a=0,c=0;for(let d=0;d<i;d++){a=c=0;for(let p=0;p<i;p++)a=a<<1&2047|s.get(d,p),p>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|s.get(p,d),p>=10&&(c===1488||c===93)&&o++}return o*t.N3},r.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let c=0;c<o;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*t.N4};function e(n,s,i){switch(n){case r.Patterns.PATTERN000:return(s+i)%2===0;case r.Patterns.PATTERN001:return s%2===0;case r.Patterns.PATTERN010:return i%3===0;case r.Patterns.PATTERN011:return(s+i)%3===0;case r.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case r.Patterns.PATTERN101:return s*i%2+s*i%3===0;case r.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case r.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}r.applyMask=function(s,i){const o=i.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)i.isReserved(c,a)||i.xor(c,a,e(s,c,a))},r.getBestMask=function(s,i){const o=Object.keys(r.Patterns).length;let a=0,c=1/0;for(let d=0;d<o;d++){i(d),r.applyMask(d,s);const p=r.getPenaltyN1(s)+r.getPenaltyN2(s)+r.getPenaltyN3(s)+r.getPenaltyN4(s);r.applyMask(d,s),p<c&&(c=p,a=d)}return a}})(bl);var us={};const zn=cs,mi=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ai=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];us.getBlocksCount=function(t,e){switch(e){case zn.L:return mi[(t-1)*4+0];case zn.M:return mi[(t-1)*4+1];case zn.Q:return mi[(t-1)*4+2];case zn.H:return mi[(t-1)*4+3];default:return}};us.getTotalCodewordsCount=function(t,e){switch(e){case zn.L:return Ai[(t-1)*4+0];case zn.M:return Ai[(t-1)*4+1];case zn.Q:return Ai[(t-1)*4+2];case zn.H:return Ai[(t-1)*4+3];default:return}};var vl={},ls={};const Gr=new Uint8Array(512),Fi=new Uint8Array(256);(function(){let t=1;for(let e=0;e<255;e++)Gr[e]=t,Fi[t]=e,t<<=1,t&256&&(t^=285);for(let e=255;e<512;e++)Gr[e]=Gr[e-255]})();ls.log=function(t){if(t<1)throw new Error("log("+t+")");return Fi[t]};ls.exp=function(t){return Gr[t]};ls.mul=function(t,e){return t===0||e===0?0:Gr[Fi[t]+Fi[e]]};(function(r){const t=ls;r.mul=function(n,s){const i=new Uint8Array(n.length+s.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<s.length;a++)i[o+a]^=t.mul(n[o],s[a]);return i},r.mod=function(n,s){let i=new Uint8Array(n);for(;i.length-s.length>=0;){const o=i[0];for(let c=0;c<s.length;c++)i[c]^=t.mul(s[c],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},r.generateECPolynomial=function(n){let s=new Uint8Array([1]);for(let i=0;i<n;i++)s=r.mul(s,new Uint8Array([1,t.exp(i)]));return s}})(vl);const El=vl;function _a(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}_a.prototype.initialize=function(t){this.degree=t,this.genPoly=El.generateECPolynomial(this.degree)};_a.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const n=El.mod(e,this.genPoly),s=this.degree-n.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(n,s),i}return n};var qp=_a,Ml={},Kn={},Ta={};Ta.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var bn={};const Sl="[0-9]+",Vp="[A-Z $%*+\\-./:]+";let ei="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ei=ei.replace(/u/g,"\\u");const Zp="(?:(?![A-Z0-9 $%*+\\-./:]|"+ei+`)(?:.|[\r
]))+`;bn.KANJI=new RegExp(ei,"g");bn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");bn.BYTE=new RegExp(Zp,"g");bn.NUMERIC=new RegExp(Sl,"g");bn.ALPHANUMERIC=new RegExp(Vp,"g");const Jp=new RegExp("^"+ei+"$"),Xp=new RegExp("^"+Sl+"$"),$p=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");bn.testKanji=function(t){return Jp.test(t)};bn.testNumeric=function(t){return Xp.test(t)};bn.testAlphanumeric=function(t){return $p.test(t)};(function(r){const t=Ta,e=bn;r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},r.getBestModeForData=function(i){return e.testNumeric(i)?r.NUMERIC:e.testAlphanumeric(i)?r.ALPHANUMERIC:e.testKanji(i)?r.KANJI:r.BYTE},r.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},r.isValid=function(i){return i&&i.bit&&i.ccBits};function n(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+s)}}r.from=function(i,o){if(r.isValid(i))return i;try{return n(i)}catch{return o}}})(Kn);(function(r){const t=Xe,e=us,n=cs,s=Kn,i=Ta,o=7973,a=t.getBCHDigit(o);function c(I,b,B){for(let T=1;T<=40;T++)if(b<=r.getCapacity(T,B,I))return T}function d(I,b){return s.getCharCountIndicator(I,b)+4}function p(I,b){let B=0;return I.forEach(function(T){const v=d(T.mode,b);B+=v+T.getBitsLength()}),B}function m(I,b){for(let B=1;B<=40;B++)if(p(I,B)<=r.getCapacity(B,b,s.MIXED))return B}r.from=function(b,B){return i.isValid(b)?parseInt(b,10):B},r.getCapacity=function(b,B,T){if(!i.isValid(b))throw new Error("Invalid QR Code version");typeof T>"u"&&(T=s.BYTE);const v=t.getSymbolTotalCodewords(b),k=e.getTotalCodewordsCount(b,B),O=(v-k)*8;if(T===s.MIXED)return O;const S=O-d(T,b);switch(T){case s.NUMERIC:return Math.floor(S/10*3);case s.ALPHANUMERIC:return Math.floor(S/11*2);case s.KANJI:return Math.floor(S/13);case s.BYTE:default:return Math.floor(S/8)}},r.getBestVersionForData=function(b,B){let T;const v=n.from(B,n.M);if(Array.isArray(b)){if(b.length>1)return m(b,v);if(b.length===0)return 1;T=b[0]}else T=b;return c(T.mode,T.getLength(),v)},r.getEncodedBits=function(b){if(!i.isValid(b)||b<7)throw new Error("Invalid QR Code version");let B=b<<12;for(;t.getBCHDigit(B)-a>=0;)B^=o<<t.getBCHDigit(B)-a;return b<<12|B}})(Ml);var Il={};const Lo=Xe,xl=1335,tw=21522,Sc=Lo.getBCHDigit(xl);Il.getEncodedBits=function(t,e){const n=t.bit<<3|e;let s=n<<10;for(;Lo.getBCHDigit(s)-Sc>=0;)s^=xl<<Lo.getBCHDigit(s)-Sc;return(n<<10|s)^tw};var Bl={};const ew=Kn;function Lr(r){this.mode=ew.NUMERIC,this.data=r.toString()}Lr.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Lr.prototype.getLength=function(){return this.data.length};Lr.prototype.getBitsLength=function(){return Lr.getBitsLength(this.data.length)};Lr.prototype.write=function(t){let e,n,s;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),s=parseInt(n,10),t.put(s,10);const i=this.data.length-e;i>0&&(n=this.data.substr(e),s=parseInt(n,10),t.put(s,i*3+1))};var nw=Lr;const rw=Kn,so=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Dr(r){this.mode=rw.ALPHANUMERIC,this.data=r}Dr.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Dr.prototype.getLength=function(){return this.data.length};Dr.prototype.getBitsLength=function(){return Dr.getBitsLength(this.data.length)};Dr.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let n=so.indexOf(this.data[e])*45;n+=so.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(so.indexOf(this.data[e]),6)};var iw=Dr;const sw=Kn;function kr(r){this.mode=sw.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}kr.getBitsLength=function(t){return t*8};kr.prototype.getLength=function(){return this.data.length};kr.prototype.getBitsLength=function(){return kr.getBitsLength(this.data.length)};kr.prototype.write=function(r){for(let t=0,e=this.data.length;t<e;t++)r.put(this.data[t],8)};var ow=kr;const aw=Kn,cw=Xe;function Rr(r){this.mode=aw.KANJI,this.data=r}Rr.getBitsLength=function(t){return t*13};Rr.prototype.getLength=function(){return this.data.length};Rr.prototype.getBitsLength=function(){return Rr.getBitsLength(this.data.length)};Rr.prototype.write=function(r){let t;for(t=0;t<this.data.length;t++){let e=cw.toSJIS(this.data[t]);if(e>=33088&&e<=40956)e-=33088;else if(e>=57408&&e<=60351)e-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);e=(e>>>8&255)*192+(e&255),r.put(e,13)}};var uw=Rr,_l={exports:{}};(function(r){var t={single_source_shortest_paths:function(e,n,s){var i={},o={};o[n]=0;var a=t.PriorityQueue.make();a.push(n,0);for(var c,d,p,m,I,b,B,T,v;!a.empty();){c=a.pop(),d=c.value,m=c.cost,I=e[d]||{};for(p in I)I.hasOwnProperty(p)&&(b=I[p],B=m+b,T=o[p],v=typeof o[p]>"u",(v||T>B)&&(o[p]=B,a.push(p,B),i[p]=d))}if(typeof s<"u"&&typeof o[s]>"u"){var k=["Could not find a path from ",n," to ",s,"."].join("");throw new Error(k)}return i},extract_shortest_path_from_predecessor_list:function(e,n){for(var s=[],i=n;i;)s.push(i),e[i],i=e[i];return s.reverse(),s},find_path:function(e,n,s){var i=t.single_source_shortest_paths(e,n,s);return t.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(e){var n=t.PriorityQueue,s={},i;e=e||{};for(i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);return s.queue=[],s.sorter=e.sorter||n.default_sorter,s},default_sorter:function(e,n){return e.cost-n.cost},push:function(e,n){var s={value:e,cost:n};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=t})(_l);var lw=_l.exports;(function(r){const t=Kn,e=nw,n=iw,s=ow,i=uw,o=bn,a=Xe,c=lw;function d(k){return unescape(encodeURIComponent(k)).length}function p(k,O,S){const L=[];let D;for(;(D=k.exec(S))!==null;)L.push({data:D[0],index:D.index,mode:O,length:D[0].length});return L}function m(k){const O=p(o.NUMERIC,t.NUMERIC,k),S=p(o.ALPHANUMERIC,t.ALPHANUMERIC,k);let L,D;return a.isKanjiModeEnabled()?(L=p(o.BYTE,t.BYTE,k),D=p(o.KANJI,t.KANJI,k)):(L=p(o.BYTE_KANJI,t.BYTE,k),D=[]),O.concat(S,L,D).sort(function(j,H){return j.index-H.index}).map(function(j){return{data:j.data,mode:j.mode,length:j.length}})}function I(k,O){switch(O){case t.NUMERIC:return e.getBitsLength(k);case t.ALPHANUMERIC:return n.getBitsLength(k);case t.KANJI:return i.getBitsLength(k);case t.BYTE:return s.getBitsLength(k)}}function b(k){return k.reduce(function(O,S){const L=O.length-1>=0?O[O.length-1]:null;return L&&L.mode===S.mode?(O[O.length-1].data+=S.data,O):(O.push(S),O)},[])}function B(k){const O=[];for(let S=0;S<k.length;S++){const L=k[S];switch(L.mode){case t.NUMERIC:O.push([L,{data:L.data,mode:t.ALPHANUMERIC,length:L.length},{data:L.data,mode:t.BYTE,length:L.length}]);break;case t.ALPHANUMERIC:O.push([L,{data:L.data,mode:t.BYTE,length:L.length}]);break;case t.KANJI:O.push([L,{data:L.data,mode:t.BYTE,length:d(L.data)}]);break;case t.BYTE:O.push([{data:L.data,mode:t.BYTE,length:d(L.data)}])}}return O}function T(k,O){const S={},L={start:{}};let D=["start"];for(let R=0;R<k.length;R++){const j=k[R],H=[];for(let K=0;K<j.length;K++){const Z=j[K],X=""+R+K;H.push(X),S[X]={node:Z,lastCount:0},L[X]={};for(let ot=0;ot<D.length;ot++){const C=D[ot];S[C]&&S[C].node.mode===Z.mode?(L[C][X]=I(S[C].lastCount+Z.length,Z.mode)-I(S[C].lastCount,Z.mode),S[C].lastCount+=Z.length):(S[C]&&(S[C].lastCount=Z.length),L[C][X]=I(Z.length,Z.mode)+4+t.getCharCountIndicator(Z.mode,O))}}D=H}for(let R=0;R<D.length;R++)L[D[R]].end=0;return{map:L,table:S}}function v(k,O){let S;const L=t.getBestModeForData(k);if(S=t.from(O,L),S!==t.BYTE&&S.bit<L.bit)throw new Error('"'+k+'" cannot be encoded with mode '+t.toString(S)+`.
 Suggested mode is: `+t.toString(L));switch(S===t.KANJI&&!a.isKanjiModeEnabled()&&(S=t.BYTE),S){case t.NUMERIC:return new e(k);case t.ALPHANUMERIC:return new n(k);case t.KANJI:return new i(k);case t.BYTE:return new s(k)}}r.fromArray=function(O){return O.reduce(function(S,L){return typeof L=="string"?S.push(v(L,null)):L.data&&S.push(v(L.data,L.mode)),S},[])},r.fromString=function(O,S){const L=m(O,a.isKanjiModeEnabled()),D=B(L),R=T(D,S),j=c.find_path(R.map,"start","end"),H=[];for(let K=1;K<j.length-1;K++)H.push(R.table[j[K]].node);return r.fromArray(b(H))},r.rawSplit=function(O){return r.fromArray(m(O,a.isKanjiModeEnabled()))}})(Bl);const fs=Xe,oo=cs,fw=Gp,hw=Kp,dw=ml,gw=Al,Do=bl,ko=us,pw=qp,Wi=Ml,ww=Il,yw=Kn,ao=Bl;function mw(r,t){const e=r.size,n=gw.getPositions(t);for(let s=0;s<n.length;s++){const i=n[s][0],o=n[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||e<=i+a))for(let c=-1;c<=7;c++)o+c<=-1||e<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?r.set(i+a,o+c,!0,!0):r.set(i+a,o+c,!1,!0))}}function Aw(r){const t=r.size;for(let e=8;e<t-8;e++){const n=e%2===0;r.set(e,6,n,!0),r.set(6,e,n,!0)}}function bw(r,t){const e=dw.getPositions(t);for(let n=0;n<e.length;n++){const s=e[n][0],i=e[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?r.set(s+o,i+a,!0,!0):r.set(s+o,i+a,!1,!0)}}function vw(r,t){const e=r.size,n=Wi.getEncodedBits(t);let s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+e-8-3,o=(n>>a&1)===1,r.set(s,i,o,!0),r.set(i,s,o,!0)}function co(r,t,e){const n=r.size,s=ww.getEncodedBits(t,e);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?r.set(i,8,o,!0):i<8?r.set(i+1,8,o,!0):r.set(n-15+i,8,o,!0),i<8?r.set(8,n-i-1,o,!0):i<9?r.set(8,15-i-1+1,o,!0):r.set(8,15-i-1,o,!0);r.set(n-8,8,1,!0)}function Ew(r,t){const e=r.size;let n=-1,s=e-1,i=7,o=0;for(let a=e-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!r.isReserved(s,a-c)){let d=!1;o<t.length&&(d=(t[o]>>>i&1)===1),r.set(s,a-c,d),i--,i===-1&&(o++,i=7)}if(s+=n,s<0||e<=s){s-=n,n=-n;break}}}function Mw(r,t,e){const n=new fw;e.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),yw.getCharCountIndicator(c.mode,r)),c.write(n)});const s=fs.getSymbolTotalCodewords(r),i=ko.getTotalCodewordsCount(r,t),o=(s-i)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(o-n.getLengthInBits())/8;for(let c=0;c<a;c++)n.put(c%2?17:236,8);return Sw(n,r,t)}function Sw(r,t,e){const n=fs.getSymbolTotalCodewords(t),s=ko.getTotalCodewordsCount(t,e),i=n-s,o=ko.getBlocksCount(t,e),a=n%o,c=o-a,d=Math.floor(n/o),p=Math.floor(i/o),m=p+1,I=d-p,b=new pw(I);let B=0;const T=new Array(o),v=new Array(o);let k=0;const O=new Uint8Array(r.buffer);for(let j=0;j<o;j++){const H=j<c?p:m;T[j]=O.slice(B,B+H),v[j]=b.encode(T[j]),B+=H,k=Math.max(k,H)}const S=new Uint8Array(n);let L=0,D,R;for(D=0;D<k;D++)for(R=0;R<o;R++)D<T[R].length&&(S[L++]=T[R][D]);for(D=0;D<I;D++)for(R=0;R<o;R++)S[L++]=v[R][D];return S}function Iw(r,t,e,n){let s;if(Array.isArray(r))s=ao.fromArray(r);else if(typeof r=="string"){let d=t;if(!d){const p=ao.rawSplit(r);d=Wi.getBestVersionForData(p,e)}s=ao.fromString(r,d||40)}else throw new Error("Invalid data");const i=Wi.getBestVersionForData(s,e);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=Mw(t,e,s),a=fs.getSymbolSize(t),c=new hw(a);return mw(c,t),Aw(c),bw(c,t),co(c,e,0),t>=7&&vw(c,t),Ew(c,o),isNaN(n)&&(n=Do.getBestMask(c,co.bind(null,c,e))),Do.applyMask(n,c),co(c,e,n),{modules:c,version:t,errorCorrectionLevel:e,maskPattern:n,segments:s}}wl.create=function(t,e){if(typeof t>"u"||t==="")throw new Error("No input text");let n=oo.M,s,i;return typeof e<"u"&&(n=oo.from(e.errorCorrectionLevel,oo.M),s=Wi.from(e.version),i=Do.from(e.maskPattern),e.toSJISFunc&&fs.setToSJISFunction(e.toSJISFunc)),Iw(t,s,n,i)};var Tl={},Ca={};(function(r){function t(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let n=e.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+e);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const s=parseInt(n.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+n.slice(0,6).join("")}}r.getOptions=function(n){n||(n={}),n.color||(n.color={});const s=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},r.getScale=function(n,s){return s.width&&s.width>=n+s.margin*2?s.width/(n+s.margin*2):s.scale},r.getImageWidth=function(n,s){const i=r.getScale(n,s);return Math.floor((n+s.margin*2)*i)},r.qrToImageData=function(n,s,i){const o=s.modules.size,a=s.modules.data,c=r.getScale(o,i),d=Math.floor((o+i.margin*2)*c),p=i.margin*c,m=[i.color.light,i.color.dark];for(let I=0;I<d;I++)for(let b=0;b<d;b++){let B=(I*d+b)*4,T=i.color.light;if(I>=p&&b>=p&&I<d-p&&b<d-p){const v=Math.floor((I-p)/c),k=Math.floor((b-p)/c);T=m[a[v*o+k]?1:0]}n[B++]=T.r,n[B++]=T.g,n[B++]=T.b,n[B]=T.a}}})(Ca);(function(r){const t=Ca;function e(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(i,o,a){let c=a,d=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(d=n()),c=t.getOptions(c);const p=t.getImageWidth(i.modules.size,c),m=d.getContext("2d"),I=m.createImageData(p,p);return t.qrToImageData(I.data,i,c),e(m,d,p),m.putImageData(I,0,0),d},r.renderToDataURL=function(i,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const d=r.render(i,o,c),p=c.type||"image/png",m=c.rendererOpts||{};return d.toDataURL(p,m.quality)}})(Tl);var Cl={};const xw=Ca;function Ic(r,t){const e=r.a/255,n=t+'="'+r.hex+'"';return e<1?n+" "+t+'-opacity="'+e.toFixed(2).slice(1)+'"':n}function uo(r,t,e){let n=r+t;return typeof e<"u"&&(n+=" "+e),n}function Bw(r,t,e){let n="",s=0,i=!1,o=0;for(let a=0;a<r.length;a++){const c=Math.floor(a%t),d=Math.floor(a/t);!c&&!i&&(i=!0),r[a]?(o++,a>0&&c>0&&r[a-1]||(n+=i?uo("M",c+e,.5+d+e):uo("m",s,0),s=0,i=!1),c+1<t&&r[a+1]||(n+=uo("h",o),o=0)):s++}return n}Cl.render=function(t,e,n){const s=xw.getOptions(e),i=t.modules.size,o=t.modules.data,a=i+s.margin*2,c=s.color.light.a?"<path "+Ic(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",d="<path "+Ic(s.color.dark,"stroke")+' d="'+Bw(o,i,s.margin)+'"/>',p='viewBox="0 0 '+a+" "+a+'"',I='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+p+' shape-rendering="crispEdges">'+c+d+`</svg>
`;return typeof n=="function"&&n(null,I),I};const _w=Hp,Ro=wl,Nl=Tl,Tw=Cl;function Na(r,t,e,n,s){const i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!_w())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=e,e=t,t=n=void 0):o===3&&(t.getContext&&typeof s>"u"?(s=n,n=void 0):(s=n,n=e,e=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(e=t,t=n=void 0):o===2&&!t.getContext&&(n=e,e=t,t=void 0),new Promise(function(c,d){try{const p=Ro.create(e,n);c(r(p,t,n))}catch(p){d(p)}})}try{const c=Ro.create(e,n);s(null,r(c,t,n))}catch(c){s(c)}}Ro.create;Na.bind(null,Nl.render);Na.bind(null,Nl.renderToDataURL);Na.bind(null,function(r,t,e){return Tw.render(r,e)});function Tt(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(p){try{d(n.next(p))}catch(m){o(m)}}function c(p){try{d(n.throw(p))}catch(m){o(m)}}function d(p){p.done?i(p.value):s(p.value).then(a,c)}d((n=n.apply(r,[])).next())})}function xi(r){return new Uint8Array(window.atob(r).split("").map(t=>t.charCodeAt(0)))}function Cw(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}const On="Mobile Wallet Adapter",Nw=64;function Lw(r){const t=xi(r);return new lt(t)}function xc(r){return"version"in r}function Dw(r){switch(r){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet"}}class kw extends Zg{constructor(t){var e;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=On,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=Cw()?st.Loadable:st.Unsupported,this._authorizationResultCache=t.authorizationResultCache,this._addressSelector=t.addressSelector,this._appIdentity=t.appIdentity,this._chain=(e=t.chain)!==null&&e!==void 0?e:Dw(t.cluster),this._hostAuthority=t.remoteHostAuthority,this._onWalletNotFound=t.onWalletNotFound,this._readyState!==st.Unsupported&&this._authorizationResultCache.get().then(n=>{n&&this.declareWalletAsInstalled()})}get publicKey(){if(this._publicKey==null&&this._selectedAddress!=null)try{this._publicKey=Lw(this._selectedAddress)}catch(t){throw new hn(t instanceof Error&&(t==null?void 0:t.message)||"Unknown error",t)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==st.Installed&&this.emit("readyStateChange",this._readyState=st.Installed)}runWithGuard(t){return Tt(this,void 0,void 0,function*(){try{return yield t()}catch(e){throw this.emit("error",e),e}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return Tt(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return Tt(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>Tt(this,void 0,void 0,function*(){if(this._readyState!==st.Installed&&this._readyState!==st.Loadable)throw new Ze;this._connecting=!0;try{const t=yield this._authorizationResultCache.get();t&&this.handleAuthorizationResult(t)}catch(t){throw new Ve(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}connect(){return Tt(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>Tt(this,void 0,void 0,function*(){if(this._readyState!==st.Installed&&this._readyState!==st.Loadable)throw new Ze;this._connecting=!0;try{yield this.performAuthorization()}catch(t){throw new Ve(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}performAuthorization(t){return Tt(this,void 0,void 0,function*(){try{const e=yield this._authorizationResultCache.get();return e?(this.handleAuthorizationResult(e),e):yield this.transact(n=>Tt(this,void 0,void 0,function*(){const s=yield n.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:t});return Promise.all([this._authorizationResultCache.set(s),this.handleAuthorizationResult(s)]),s}))}catch(e){throw new Ve(e instanceof Error&&e.message||"Unknown error",e)}})}handleAuthorizationResult(t){var e;return Tt(this,void 0,void 0,function*(){const n=this._authorizationResult==null||((e=this._authorizationResult)===null||e===void 0?void 0:e.accounts.length)!==t.accounts.length||this._authorizationResult.accounts.some((s,i)=>s.address!==t.accounts[i].address);if(this._authorizationResult=t,this.declareWalletAsInstalled(),n){const s=yield this._addressSelector.select(t.accounts.map(({address:i})=>i));s!==this._selectedAddress&&(this._selectedAddress=s,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(t,e){return Tt(this,void 0,void 0,function*(){try{const n=yield t.authorize({auth_token:e,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)])}catch(n){throw this.disconnect(),new Hn(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}})}disconnect(){return Tt(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(t){var e;return Tt(this,void 0,void 0,function*(){const n=(e=this._authorizationResult)===null||e===void 0?void 0:e.wallet_uri_base,s=n?{baseUri:n}:void 0,i=this._hostAuthority?{remoteHostAuthority:this._hostAuthority}:void 0,o=this._connectionGeneration;try{return yield Wp(t,Object.assign(Object.assign({},s),i))}catch(a){throw this._connectionGeneration!==o&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield this._onWalletNotFound(this)),a}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new xt;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(t){return Tt(this,void 0,void 0,function*(){const{authToken:e}=this.assertIsAuthorized();try{return yield this.transact(n=>Tt(this,void 0,void 0,function*(){return yield this.performReauthorization(n,e),yield n.signTransactions({transactions:t})}))}catch(n){throw new ve(n==null?void 0:n.message,n)}})}sendTransaction(t,e,n){return Tt(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Tt(this,void 0,void 0,function*(){const{authToken:s}=this.assertIsAuthorized(),i=n==null?void 0:n.minContextSlot;try{return yield this.transact(o=>Tt(this,void 0,void 0,function*(){function a(){let m;switch(e.commitment){case"confirmed":case"finalized":case"processed":m=e.commitment;break;default:m="finalized"}let I;switch(n==null?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":I=n.preflightCommitment;break;case void 0:I=m;break;default:I="finalized"}return(I==="finalized"?2:I==="confirmed"?1:0)<(m==="finalized"?2:m==="confirmed"?1:0)?I:m}const[c,d,p]=yield Promise.all([o.getCapabilities(),this.performReauthorization(o,s),xc(t)?null:Tt(this,void 0,void 0,function*(){var m;if(t.feePayer||(t.feePayer=(m=this.publicKey)!==null&&m!==void 0?m:void 0),t.recentBlockhash==null){const{blockhash:I}=yield e.getLatestBlockhash({commitment:a()});t.recentBlockhash=I}})]);if(c.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions({minContextSlot:i,transactions:[t]}))[0];{const[m]=yield o.signTransactions({transactions:[t]});if(xc(m))return yield e.sendTransaction(m);{const I=m.serialize();return yield e.sendRawTransaction(I,Object.assign(Object.assign({},n),{preflightCommitment:a()}))}}}))}catch(o){throw new nn(o==null?void 0:o.message,o)}}))})}signTransaction(t){return Tt(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Tt(this,void 0,void 0,function*(){const[e]=yield this.performSignTransactions([t]);return e}))})}signAllTransactions(t){return Tt(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Tt(this,void 0,void 0,function*(){return yield this.performSignTransactions(t)}))})}signMessage(t){return Tt(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Tt(this,void 0,void 0,function*(){const{authToken:e,selectedAddress:n}=this.assertIsAuthorized();try{return yield this.transact(s=>Tt(this,void 0,void 0,function*(){yield this.performReauthorization(s,e);const[i]=yield s.signMessages({addresses:[n],payloads:[t]});return i.slice(-Nw)}))}catch(s){throw new Gn(s==null?void 0:s.message,s)}}))})}signIn(t){return Tt(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Tt(this,void 0,void 0,function*(){var e,n;if(this._readyState!==st.Installed&&this._readyState!==st.Loadable)throw new Ze;this._connecting=!0;try{const s=yield this.performAuthorization(Object.assign(Object.assign({},t),{domain:(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const i=s.sign_in_result.address;return{account:Object.assign(Object.assign({},(n=s.accounts.find(a=>a.address==i))!==null&&n!==void 0?n:{address:i}),{publicKey:xi(i)}),signedMessage:xi(s.sign_in_result.signed_message),signature:xi(s.sign_in_result.signature)}}catch(s){throw new Ve(s instanceof Error&&s.message||"Unknown error",s)}finally{this._connecting=!1}}))})}}function Rw(){return{select(r){return Tt(this,void 0,void 0,function*(){return r[0]})}}}const lo="SolanaMobileWalletAdapterDefaultAuthorizationCache";function Ow(){let r;try{r=window.localStorage}catch{}return{clear(){return Tt(this,void 0,void 0,function*(){if(r)try{r.removeItem(lo)}catch{}})},get(){return Tt(this,void 0,void 0,function*(){if(r)try{return JSON.parse(r.getItem(lo))||void 0}catch{}})},set(t){return Tt(this,void 0,void 0,function*(){if(r)try{r.setItem(lo,JSON.stringify(t))}catch{}})}}}function Pw(r){return Tt(this,void 0,void 0,function*(){typeof window<"u"&&window.location.assign(r.url)})}function Uw(){return Pw}var jw=function(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)},zw=function(r,t,e,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,e):s?s.value=e:t.set(r,e),e},Bi;function Fw(r){const t=({register:e})=>e(r);try{window.dispatchEvent(new Ww(t))}catch(e){console.error(`wallet-standard:register-wallet event could not be dispatched
`,e)}try{window.addEventListener("wallet-standard:app-ready",({detail:e})=>t(e))}catch(e){console.error(`wallet-standard:app-ready event listener could not be added
`,e)}}class Ww extends Event{get detail(){return jw(this,Bi,"f")}get type(){return"wallet-standard:register-wallet"}constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Bi.set(this,void 0),zw(this,Bi,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Bi=new WeakMap;function Hw(r,t){if(r===t)return!0;const e=r.length;if(e!==t.length)return!1;for(let n=0;n<e;n++)if(r[n]!==t[n])return!1;return!0}var bi=sa.Buffer;function Qw(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var o=r.length,a=r.charAt(0),c=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function p(b){if((Array.isArray(b)||b instanceof Uint8Array)&&(b=bi.from(b)),!bi.isBuffer(b))throw new TypeError("Expected Buffer");if(b.length===0)return"";for(var B=0,T=0,v=0,k=b.length;v!==k&&b[v]===0;)v++,B++;for(var O=(k-v)*d+1>>>0,S=new Uint8Array(O);v!==k;){for(var L=b[v],D=0,R=O-1;(L!==0||D<T)&&R!==-1;R--,D++)L+=256*S[R]>>>0,S[R]=L%o>>>0,L=L/o>>>0;if(L!==0)throw new Error("Non-zero carry");T=D,v++}for(var j=O-T;j!==O&&S[j]===0;)j++;for(var H=a.repeat(B);j<O;++j)H+=r.charAt(S[j]);return H}function m(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return bi.alloc(0);for(var B=0,T=0,v=0;b[B]===a;)T++,B++;for(var k=(b.length-B)*c+1>>>0,O=new Uint8Array(k);B<b.length;){var S=t[b.charCodeAt(B)];if(S===255)return;for(var L=0,D=k-1;(S!==0||L<v)&&D!==-1;D--,L++)S+=o*O[D]>>>0,O[D]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");v=L,B++}for(var R=k-v;R!==k&&O[R]===0;)R++;var j=bi.allocUnsafe(T+(k-R));j.fill(0,0,T);for(var H=T;R!==k;)j[H++]=O[R++];return j}function I(b){var B=m(b);if(B)return B;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:m,decode:I}}var Gw=Qw,Kw=Gw,Yw="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",qw=Kw(Yw);const Vw=Wn(qw);var me=function(r,t,e,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,e):s?s.value=e:t.set(r,e),e},ct=function(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)},Te,We,Xn,$n,Yn,Qr,Hi,Ct,Qi,Oo,_i,Po,Kr,Uo,Bc,_c,Tc,Cc;class Zw extends il{constructor({wallet:t}){super(),Te.add(this),We.set(this,void 0),Xn.set(this,void 0),$n.set(this,void 0),Yn.set(this,void 0),Qr.set(this,void 0),Hi.set(this,void 0),Ct.set(this,void 0),Qi.set(this,typeof window>"u"||typeof document>"u"?st.Unsupported:st.Installed),Uo.set(this,e=>{if("accounts"in e){const n=ct(this,Ct,"f").accounts[0];ct(this,We,"f")&&!ct(this,Yn,"f")&&n!==ct(this,We,"f")&&(n?ct(this,Te,"m",_i).call(this,n):(this.emit("error",new Hn),ct(this,Te,"m",Po).call(this)))}"features"in e&&ct(this,Te,"m",Kr).call(this)}),me(this,Ct,t,"f"),me(this,We,null,"f"),me(this,Xn,null,"f"),me(this,$n,!1,"f"),me(this,Yn,!1,"f"),me(this,Qr,ct(this,Ct,"f").features[xa].on("change",ct(this,Uo,"f")),"f"),ct(this,Te,"m",Kr).call(this)}get name(){return ct(this,Ct,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return ct(this,Ct,"f").icon}get readyState(){return ct(this,Qi,"f")}get publicKey(){return ct(this,Xn,"f")}get connecting(){return ct(this,$n,"f")}get supportedTransactionVersions(){return ct(this,Hi,"f")}get wallet(){return ct(this,Ct,"f")}get standard(){return!0}destroy(){me(this,We,null,"f"),me(this,Xn,null,"f"),me(this,$n,!1,"f"),me(this,Yn,!1,"f");const t=ct(this,Qr,"f");t&&(me(this,Qr,null,"f"),t())}async autoConnect(){return ct(this,Te,"m",Oo).call(this,{silent:!0})}async connect(){return ct(this,Te,"m",Oo).call(this)}async disconnect(){if(_o in ct(this,Ct,"f").features)try{me(this,Yn,!0,"f"),await ct(this,Ct,"f").features[_o].disconnect()}catch(t){this.emit("error",new Qn(t==null?void 0:t.message,t))}finally{me(this,Yn,!1,"f")}ct(this,Te,"m",Po).call(this)}async sendTransaction(t,e,n={}){try{const s=ct(this,We,"f");if(!s)throw new xt;let i;if(xn in ct(this,Ct,"f").features)if(s.features.includes(xn))i=xn;else if(Se in ct(this,Ct,"f").features&&s.features.includes(Se))i=Se;else throw new cn;else if(Se in ct(this,Ct,"f").features){if(!s.features.includes(Se))throw new cn;i=Se}else throw new jn;const o=np(e.rpcEndpoint);if(!s.chains.includes(o))throw new nn;try{const{signers:a,...c}=n;let d;if(pn(t)?(a!=null&&a.length&&t.sign(a),d=t.serialize()):(t=await this.prepareTransaction(t,e,c),a!=null&&a.length&&t.partialSign(...a),d=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===xn){const[p]=await ct(this,Ct,"f").features[xn].signAndSendTransaction({account:s,chain:o,transaction:d,options:{preflightCommitment:$s(c.preflightCommitment||e.commitment),skipPreflight:c.skipPreflight,maxRetries:c.maxRetries,minContextSlot:c.minContextSlot}});return Vw.encode(p.signature)}else{const[p]=await ct(this,Ct,"f").features[Se].signTransaction({account:s,chain:o,transaction:d,options:{preflightCommitment:$s(c.preflightCommitment||e.commitment),minContextSlot:c.minContextSlot}});return await e.sendRawTransaction(p.signedTransaction,{...c,preflightCommitment:$s(c.preflightCommitment||e.commitment)})}}catch(a){throw a instanceof Yt?a:new nn(a==null?void 0:a.message,a)}}catch(s){throw this.emit("error",s),s}}}We=new WeakMap,Xn=new WeakMap,$n=new WeakMap,Yn=new WeakMap,Qr=new WeakMap,Hi=new WeakMap,Ct=new WeakMap,Qi=new WeakMap,Uo=new WeakMap,Te=new WeakSet,Oo=async function(t){try{if(this.connected||this.connecting)return;if(ct(this,Qi,"f")!==st.Installed)throw new Ze;if(me(this,$n,!0,"f"),!ct(this,Ct,"f").accounts.length)try{await ct(this,Ct,"f").features[Ia].connect(t)}catch(n){throw new Ve(n==null?void 0:n.message,n)}const e=ct(this,Ct,"f").accounts[0];if(!e)throw new cn;ct(this,Te,"m",_i).call(this,e)}catch(e){throw this.emit("error",e),e}finally{me(this,$n,!1,"f")}},_i=function(t){let e;try{e=new lt(t.address)}catch(n){throw new hn(n==null?void 0:n.message,n)}me(this,We,t,"f"),me(this,Xn,e,"f"),ct(this,Te,"m",Kr).call(this),this.emit("connect",e)},Po=function(){me(this,We,null,"f"),me(this,Xn,null,"f"),ct(this,Te,"m",Kr).call(this),this.emit("disconnect")},Kr=function(){var e,n;const t=xn in ct(this,Ct,"f").features?ct(this,Ct,"f").features[xn].supportedTransactionVersions:ct(this,Ct,"f").features[Se].supportedTransactionVersions;me(this,Hi,Hw(t,["legacy"])?null:new Set(t),"f"),Se in ct(this,Ct,"f").features&&((e=ct(this,We,"f"))!=null&&e.features.includes(Se))?(this.signTransaction=ct(this,Te,"m",Bc),this.signAllTransactions=ct(this,Te,"m",_c)):(delete this.signTransaction,delete this.signAllTransactions),Ar in ct(this,Ct,"f").features&&((n=ct(this,We,"f"))!=null&&n.features.includes(Ar))?this.signMessage=ct(this,Te,"m",Tc):delete this.signMessage,Xs in ct(this,Ct,"f").features?this.signIn=ct(this,Te,"m",Cc):delete this.signIn},Bc=async function(t){try{const e=ct(this,We,"f");if(!e)throw new xt;if(!(Se in ct(this,Ct,"f").features))throw new jn;if(!e.features.includes(Se))throw new cn;try{const s=(await ct(this,Ct,"f").features[Se].signTransaction({account:e,transaction:pn(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return pn(t)?$r.deserialize(s):an.from(s)}catch(n){throw n instanceof Yt?n:new ve(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}},_c=async function(t){try{const e=ct(this,We,"f");if(!e)throw new xt;if(!(Se in ct(this,Ct,"f").features))throw new jn;if(!e.features.includes(Se))throw new cn;try{const n=await ct(this,Ct,"f").features[Se].signTransaction(...t.map(s=>({account:e,transaction:pn(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((s,i)=>{const o=n[i].signedTransaction;return pn(s)?$r.deserialize(o):an.from(o)})}catch(n){throw new ve(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}},Tc=async function(t){try{const e=ct(this,We,"f");if(!e)throw new xt;if(!(Ar in ct(this,Ct,"f").features))throw new jn;if(!e.features.includes(Ar))throw new cn;try{return(await ct(this,Ct,"f").features[Ar].signMessage({account:e,message:t}))[0].signature}catch(n){throw new Gn(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}},Cc=async function(t={}){try{if(!(Xs in ct(this,Ct,"f").features))throw new jn;let e;try{[e]=await ct(this,Ct,"f").features[Xs].signIn(t)}catch(n){throw new pc(n==null?void 0:n.message,n)}if(!e)throw new pc;return ct(this,Te,"m",_i).call(this,e.account),e}catch(e){throw this.emit("error",e),e}};const Jw=Jg;var Xw=function(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)},$w=function(r,t,e,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,e):s?s.value=e:t.set(r,e),e},Ti;let Qe;const hs=new Set;function ty(r){Yr=void 0,hs.add(r)}function ey(r){Yr=void 0,hs.delete(r)}const Er={};function ny(){if(Qe||(Qe=Object.freeze({register:Nc,get:ry,on:iy}),typeof window>"u"))return Qe;const r=Object.freeze({register:Nc});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(r))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new sy(r))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return Qe}function Nc(...r){var t;return r=r.filter(e=>!hs.has(e)),r.length?(r.forEach(e=>ty(e)),(t=Er.register)==null||t.forEach(e=>jo(()=>e(...r))),function(){var n;r.forEach(s=>ey(s)),(n=Er.unregister)==null||n.forEach(s=>jo(()=>s(...r)))}):()=>{}}let Yr;function ry(){return Yr||(Yr=[...hs]),Yr}function iy(r,t){var e;return(e=Er[r])!=null&&e.push(t)||(Er[r]=[t]),function(){var s;Er[r]=(s=Er[r])==null?void 0:s.filter(i=>t!==i)}}function jo(r){try{r()}catch(t){console.error(t)}}class sy extends Event{get detail(){return Xw(this,Ti,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Ti.set(this,void 0),$w(this,Ti,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Ti=new WeakMap;function oy(){if(Qe||(Qe=ny(),typeof window>"u"))return Qe;const r=window.navigator.wallets||[];if(!Array.isArray(r))return console.error("window.navigator.wallets is not an array"),Qe;const{register:t}=Qe,e=(...n)=>n.forEach(s=>jo(()=>s({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:e})})}catch{return console.error("window.navigator.wallets could not be set"),Qe}return e(...r),Qe}function ay(r){const t=Lc(()=>new Set),{get:e,on:n}=Lc(()=>oy()),[s,i]=et.useState(()=>Dc(e()));et.useEffect(()=>{const a=[n("register",(...c)=>i(d=>[...d,...Dc(c)])),n("unregister",(...c)=>i(d=>d.filter(p=>c.some(m=>m===p.wallet))))];return()=>a.forEach(c=>c())},[n]);const o=cy(s);return et.useEffect(()=>{if(!o)return;const a=new Set(s);new Set(o.filter(d=>!a.has(d))).forEach(d=>d.destroy())},[o,s]),et.useEffect(()=>()=>s.forEach(a=>a.destroy()),[]),et.useMemo(()=>[...s,...r.filter(({name:a})=>s.some(c=>c.name===a)?(t.has(a)||(t.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[s,r,t])}function Lc(r){const t=et.useRef();return t.current||(t.current={value:r()}),t.current.value}function cy(r){const t=et.useRef();return et.useEffect(()=>{t.current=r}),t.current}function Dc(r){return r.filter(Jw).map(t=>new Zw({wallet:t}))}var xr;(function(r){r[r.DESKTOP_WEB=0]="DESKTOP_WEB",r[r.MOBILE_WEB=1]="MOBILE_WEB"})(xr||(xr={}));function uy(r){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(r)}function ly({adapters:r,userAgentString:t}){return r.some(e=>e.name!==On&&e.readyState===st.Installed)?xr.DESKTOP_WEB:t&&/android/i.test(t)&&!uy(t)?xr.MOBILE_WEB:xr.DESKTOP_WEB}function fy(r){return r?/devnet/i.test(r)?"devnet":/testnet/i.test(r)?"testnet":"mainnet-beta":"mainnet-beta"}function hy({children:r,wallets:t,adapter:e,isUnloadingRef:n,onAutoConnectRequest:s,onConnectError:i,onError:o,onSelectWallet:a}){const c=et.useRef(!1),[d,p]=et.useState(!1),m=et.useRef(!1),[I,b]=et.useState(!1),[B,T]=et.useState(()=>(e==null?void 0:e.publicKey)??null),[v,k]=et.useState(()=>(e==null?void 0:e.connected)??!1),O=et.useRef(o);et.useEffect(()=>(O.current=o,()=>{O.current=void 0}),[o]);const S=et.useRef((g,w)=>(n.current||(O.current?O.current(g,w):(console.error(g,w),g instanceof Ze&&typeof window<"u"&&w&&window.open(w.url,"_blank"))),g)),[L,D]=et.useState(()=>t.map(g=>({adapter:g,readyState:g.readyState})).filter(({readyState:g})=>g!==st.Unsupported));et.useEffect(()=>{D(w=>t.map((y,E)=>{const N=w[E];return N&&N.adapter===y&&N.readyState===y.readyState?N:{adapter:y,readyState:y.readyState}}).filter(({readyState:y})=>y!==st.Unsupported));function g(w){D(y=>{const E=y.findIndex(({adapter:P})=>P===this);if(E===-1)return y;const{adapter:N}=y[E];return[...y.slice(0,E),{adapter:N,readyState:w},...y.slice(E+1)].filter(({readyState:P})=>P!==st.Unsupported)})}return t.forEach(w=>w.on("readyStateChange",g,w)),()=>{t.forEach(w=>w.off("readyStateChange",g,w))}},[e,t]);const R=et.useMemo(()=>L.find(g=>g.adapter===e)??null,[e,L]);et.useEffect(()=>{if(!e)return;const g=E=>{T(E),c.current=!1,p(!1),k(!0),m.current=!1,b(!1)},w=()=>{n.current||(T(null),c.current=!1,p(!1),k(!1),m.current=!1,b(!1))},y=E=>{S.current(E,e)};return e.on("connect",g),e.on("disconnect",w),e.on("error",y),()=>{e.off("connect",g),e.off("disconnect",w),e.off("error",y),w()}},[e,n]);const j=et.useRef(!1);et.useEffect(()=>()=>{j.current=!1},[e]),et.useEffect(()=>{j.current||c.current||v||!s||!((R==null?void 0:R.readyState)===st.Installed||(R==null?void 0:R.readyState)===st.Loadable)||(c.current=!0,p(!0),j.current=!0,async function(){try{await s()}catch{i()}finally{p(!1),c.current=!1}}())},[v,s,i,R]);const H=et.useCallback(async(g,w,y)=>{if(!e)throw S.current(new yc);if(!v)throw S.current(new xt,e);return await e.sendTransaction(g,w,y)},[e,v]),K=et.useMemo(()=>e&&"signTransaction"in e?async g=>{if(!v)throw S.current(new xt,e);return await e.signTransaction(g)}:void 0,[e,v]),Z=et.useMemo(()=>e&&"signAllTransactions"in e?async g=>{if(!v)throw S.current(new xt,e);return await e.signAllTransactions(g)}:void 0,[e,v]),X=et.useMemo(()=>e&&"signMessage"in e?async g=>{if(!v)throw S.current(new xt,e);return await e.signMessage(g)}:void 0,[e,v]),ot=et.useMemo(()=>e&&"signIn"in e?async g=>await e.signIn(g):void 0,[e]),C=et.useCallback(async()=>{if(c.current||m.current||R!=null&&R.adapter.connected)return;if(!R)throw S.current(new yc);const{adapter:g,readyState:w}=R;if(!(w===st.Installed||w===st.Loadable))throw S.current(new Ze,g);c.current=!0,p(!0);try{await g.connect()}catch(y){throw i(),y}finally{p(!1),c.current=!1}},[i,R]),u=et.useCallback(async()=>{if(!m.current&&e){m.current=!0,b(!0);try{await e.disconnect()}finally{b(!1),m.current=!1}}},[e]);return q.createElement(ol.Provider,{value:{autoConnect:!!s,wallets:L,wallet:R,publicKey:B,connected:v,connecting:d,disconnecting:I,select:a,connect:C,disconnect:u,sendTransaction:H,signTransaction:K,signAllTransactions:Z,signMessage:X,signIn:ot}},r)}let fo;function dy(){var r;return fo===void 0&&(fo=((r=globalThis.navigator)==null?void 0:r.userAgent)??null),fo}function vi(r){const t=dy();return ly({adapters:r,userAgentString:t})===xr.MOBILE_WEB}function gy(){const r=globalThis.location;if(r)return`${r.protocol}//${r.host}`}function SA({children:r,wallets:t,autoConnect:e,localStorageKey:n="walletName",onError:s}){const{connection:i}=Gg(),o=ay(t),a=et.useMemo(()=>{if(!vi(o))return null;const O=o.find(S=>S.name===On);return O||new kw({addressSelector:Rw(),appIdentity:{uri:gy()},authorizationResultCache:Ow(),cluster:fy(i==null?void 0:i.rpcEndpoint),onWalletNotFound:Uw()})},[o,i==null?void 0:i.rpcEndpoint]),c=et.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[d,p]=$g(n,vi(o)?On:null),m=et.useMemo(()=>c.find(O=>O.name===d)??null,[c,d]),I=et.useCallback(O=>{d!==O&&(m&&m.name!==On&&m.disconnect(),p(O))},[m,p,d]);et.useEffect(()=>{if(!m)return;function O(){T.current||d===On&&vi(o)||p(null)}return m.on("disconnect",O),()=>{m.off("disconnect",O)}},[m,o,p,d]);const b=et.useRef(!1),B=et.useMemo(()=>{if(!(!e||!m))return async()=>{(e===!0||await e(m))&&(b.current?await m.connect():await m.autoConnect())}},[e,m]),T=et.useRef(!1);et.useEffect(()=>{if(d===On&&vi(o)){T.current=!1;return}function O(){T.current=!0}return window.addEventListener("beforeunload",O),()=>{window.removeEventListener("beforeunload",O)}},[o,d]);const v=et.useCallback(()=>{m&&m.name!==On&&I(null)},[m,I]),k=et.useCallback(O=>{b.current=!0,I(O)},[I]);return q.createElement(hy,{wallets:c,adapter:m,isUnloadingRef:T,onAutoConnectRequest:B,onConnectError:v,onError:s,onSelectWallet:k},r)}const Ll={setVisible(r){console.error(Dl("call","setVisible"))},visible:!1};Object.defineProperty(Ll,"visible",{get(){return console.error(Dl("read","visible")),!1}});function Dl(r,t){return`You have tried to  ${r} "${t}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const kl=et.createContext(Ll);function Rl(){return et.useContext(kl)}function py({onSelectWallet:r}){const{connect:t,connected:e,connecting:n,disconnect:s,disconnecting:i,publicKey:o,select:a,wallet:c,wallets:d}=al();let p;n?p="connecting":e?p="connected":i?p="disconnecting":c?p="has-wallet":p="no-wallet";const m=et.useCallback(()=>{t().catch(()=>{})},[t]),I=et.useCallback(()=>{s().catch(()=>{})},[s]),b=et.useCallback(()=>{r({onSelectWallet:a,wallets:d})},[r,a,d]);return{buttonState:p,onConnect:p==="has-wallet"?m:void 0,onDisconnect:p!=="disconnecting"&&p!=="no-wallet"?I:void 0,onSelectWallet:b,publicKey:o??void 0,walletIcon:c==null?void 0:c.adapter.icon,walletName:c==null?void 0:c.adapter.name}}const Ol=r=>q.createElement("button",{className:`wallet-adapter-button ${r.className||""}`,disabled:r.disabled,style:r.style,onClick:r.onClick,tabIndex:r.tabIndex||0,type:"button"},r.startIcon&&q.createElement("i",{className:"wallet-adapter-button-start-icon"},r.startIcon),r.children,r.endIcon&&q.createElement("i",{className:"wallet-adapter-button-end-icon"},r.endIcon)),Pl=({wallet:r,...t})=>r&&q.createElement("img",{src:r.adapter.icon,alt:`${r.adapter.name} icon`,...t});function wy({walletIcon:r,walletName:t,...e}){return q.createElement(Ol,{...e,className:"wallet-adapter-button-trigger",startIcon:r&&t?q.createElement(Pl,{wallet:{adapter:{icon:r,name:t}}}):void 0})}function yy({children:r,labels:t,...e}){const{setVisible:n}=Rl(),{buttonState:s,onConnect:i,onDisconnect:o,publicKey:a,walletIcon:c,walletName:d}=py({onSelectWallet(){n(!0)}}),[p,m]=et.useState(!1),[I,b]=et.useState(!1),B=et.useRef(null);et.useEffect(()=>{const v=k=>{const O=B.current;!O||O.contains(k.target)||b(!1)};return document.addEventListener("mousedown",v),document.addEventListener("touchstart",v),()=>{document.removeEventListener("mousedown",v),document.removeEventListener("touchstart",v)}},[]);const T=et.useMemo(()=>{if(r)return r;if(a){const v=a.toBase58();return v.slice(0,4)+".."+v.slice(-4)}else return s==="connecting"||s==="has-wallet"?t[s]:t["no-wallet"]},[s,r,t,a]);return q.createElement("div",{className:"wallet-adapter-dropdown"},q.createElement(wy,{...e,"aria-expanded":I,style:{pointerEvents:I?"none":"auto",...e.style},onClick:()=>{switch(s){case"no-wallet":n(!0);break;case"has-wallet":i&&i();break;case"connected":b(!0);break}},walletIcon:c,walletName:d},T),q.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${I&&"wallet-adapter-dropdown-list-active"}`,ref:B,role:"menu"},a?q.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),m(!0),setTimeout(()=>m(!1),400)},role:"menuitem"},p?t.copied:t["copy-address"]):null,q.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{n(!0),b(!1)},role:"menuitem"},t["change-wallet"]),o?q.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(),b(!1)},role:"menuitem"},t.disconnect):null))}const kc=({id:r,children:t,expanded:e=!1})=>{const n=et.useRef(null),s=et.useRef(!0),i="height 250ms ease-out",o=()=>{const c=n.current;c&&requestAnimationFrame(()=>{c.style.height=c.scrollHeight+"px"})},a=()=>{const c=n.current;c&&requestAnimationFrame(()=>{c.style.height=c.offsetHeight+"px",c.style.overflow="hidden",requestAnimationFrame(()=>{c.style.height="0"})})};return et.useLayoutEffect(()=>{e?o():a()},[e]),et.useLayoutEffect(()=>{const c=n.current;if(!c)return;function d(){c&&(c.style.overflow=e?"initial":"hidden",e&&(c.style.height="auto"))}function p(m){c&&m.target===c&&m.propertyName==="height"&&d()}return s.current&&(d(),s.current=!1),c.addEventListener("transitionend",p),()=>c.removeEventListener("transitionend",p)},[e]),q.createElement("div",{className:"wallet-adapter-collapse",id:r,ref:n,role:"region",style:{height:0,transition:s.current?void 0:i}},t)},ho=({handleClick:r,tabIndex:t,wallet:e})=>q.createElement("li",null,q.createElement(Ol,{onClick:r,startIcon:q.createElement(Pl,{wallet:e}),tabIndex:t},e.adapter.name,e.readyState===st.Installed&&q.createElement("span",null,"Detected"))),my=()=>q.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},q.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),q.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),q.createElement("g",{clipPath:"url(#clip0_880_5115)"},q.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),q.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),q.createElement("defs",null,q.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#9945FF"}),q.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),q.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),q.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),q.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),q.createElement("stop",{offset:"1",stopColor:"#00D18C"})),q.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#9945FF"}),q.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),q.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),q.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),q.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),q.createElement("stop",{offset:"1",stopColor:"#00D18C"})),q.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#9945FF"}),q.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),q.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),q.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),q.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),q.createElement("stop",{offset:"1",stopColor:"#00D18C"})),q.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},q.createElement("stop",{stopColor:"#9945FF"}),q.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),q.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),q.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),q.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),q.createElement("stop",{offset:"1",stopColor:"#00D18C"})),q.createElement("clipPath",{id:"clip0_880_5115"},q.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),Ay=({className:r="",container:t="body"})=>{const e=et.useRef(null),{wallets:n,select:s}=al(),{setVisible:i}=Rl(),[o,a]=et.useState(!1),[c,d]=et.useState(!1),[p,m]=et.useState(null),[I,b]=et.useMemo(()=>{const S=[],L=[];for(const D of n)D.readyState===st.Installed?S.push(D):L.push(D);return S.length?[S,L]:[L,[]]},[n]),B=et.useCallback(()=>{d(!1),setTimeout(()=>i(!1),150)},[i]),T=et.useCallback(S=>{S.preventDefault(),B()},[B]),v=et.useCallback((S,L)=>{s(L),T(S)},[s,T]),k=et.useCallback(()=>a(!o),[o]),O=et.useCallback(S=>{const L=e.current;if(!L)return;const D=L.querySelectorAll("button"),R=D[0],j=D[D.length-1];S.shiftKey?document.activeElement===R&&(j.focus(),S.preventDefault()):document.activeElement===j&&(R.focus(),S.preventDefault())},[e]);return et.useLayoutEffect(()=>{const S=D=>{D.key==="Escape"?B():D.key==="Tab"&&O(D)},{overflow:L}=window.getComputedStyle(document.body);return setTimeout(()=>d(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",S,!1),()=>{document.body.style.overflow=L,window.removeEventListener("keydown",S,!1)}},[B,O]),et.useLayoutEffect(()=>m(document.querySelector(t)),[t]),p&&Vl.createPortal(q.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${c&&"wallet-adapter-modal-fade-in"} ${r}`,ref:e,role:"dialog"},q.createElement("div",{className:"wallet-adapter-modal-container"},q.createElement("div",{className:"wallet-adapter-modal-wrapper"},q.createElement("button",{onClick:T,className:"wallet-adapter-modal-button-close"},q.createElement("svg",{width:"14",height:"14"},q.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),I.length?q.createElement(q.Fragment,null,q.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),q.createElement("ul",{className:"wallet-adapter-modal-list"},I.map(S=>q.createElement(ho,{key:S.adapter.name,handleClick:L=>v(L,S.adapter.name),wallet:S})),b.length?q.createElement(kc,{expanded:o,id:"wallet-adapter-modal-collapse"},b.map(S=>q.createElement(ho,{key:S.adapter.name,handleClick:L=>v(L,S.adapter.name),tabIndex:o?0:-1,wallet:S}))):null),b.length?q.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:k,tabIndex:0},q.createElement("span",null,o?"Less ":"More ","options"),q.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},q.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):q.createElement(q.Fragment,null,q.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),q.createElement("div",{className:"wallet-adapter-modal-middle"},q.createElement(my,null)),b.length?q.createElement(q.Fragment,null,q.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:k,tabIndex:0},q.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),q.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},q.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),q.createElement(kc,{expanded:o,id:"wallet-adapter-modal-collapse"},q.createElement("ul",{className:"wallet-adapter-modal-list"},b.map(S=>q.createElement(ho,{key:S.adapter.name,handleClick:L=>v(L,S.adapter.name),tabIndex:o?0:-1,wallet:S}))))):null))),q.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:T})),p)},IA=({children:r,...t})=>{const[e,n]=et.useState(!1);return q.createElement(kl.Provider,{value:{visible:e,setVisible:n}},r,e&&q.createElement(Ay,{...t}))},by={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function xA(r){return q.createElement(yy,{...r,labels:by})}const vy="Backpack";class BA extends fr{constructor(t={}){super(),this.name=vy,this.url="https://backpack.app",this.icon="data:image/png;base64,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",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?st.Unsupported:st.NotDetected,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Hn),this.emit("disconnect"))},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==st.Unsupported&&ai(()=>{var e;return(e=window.backpack)!=null&&e.isBackpack?(this._readyState=st.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var t;return!!((t=this._wallet)!=null&&t.isConnected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==st.Installed)throw new Ze;this._connecting=!0;const t=window.backpack;try{await t.connect()}catch(n){throw new Ve(n==null?void 0:n.message,n)}if(!t.publicKey)throw new cn;let e;try{e=new lt(t.publicKey.toBytes())}catch(n){throw new hn(n==null?void 0:n.message,n)}t.on("disconnect",this._disconnected),this._wallet=t,this._publicKey=e,this.emit("connect",e)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new Qn(e==null?void 0:e.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,n={}){try{const s=this._wallet;if(!s)throw new xt;const{signers:i,...o}=n;try{return await s.send(t,i,o,e,this.publicKey)}catch(a){throw new nn(a==null?void 0:a.message,a)}}catch(s){throw this.emit("error",s),s}}async signTransaction(t){try{const e=this._wallet;if(!e)throw new xt;try{return await e.signTransaction(t,this.publicKey)}catch(n){throw new ve(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const e=this._wallet;if(!e)throw new xt;try{return await e.signAllTransactions(t,this.publicKey)}catch(n){throw new ve(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const e=this._wallet;if(!e)throw new xt;try{return await e.signMessage(t,this.publicKey)}catch(n){throw new Gn(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}}const Ey="modulepreload",My=function(r){return"/"+r},Rc={},ui=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(e.map(c=>{if(c=My(c),c in Rc)return;Rc[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Ey,d||(m.as="script"),m.crossOrigin="",m.href=c,a&&m.setAttribute("nonce",a),document.head.appendChild(m),d)return new Promise((I,b)=>{m.addEventListener("load",I),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Sy="Glow";class _A extends fr{constructor(t={}){if(super(),this.name=Sy,this.url="https://glow.app",this.icon="data:image/png;base64,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",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?st.Unsupported:st.NotDetected,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Hn),this.emit("disconnect"))},this._connecting=!1,this._wallet=null,this._publicKey=null,this._network=t.network||null,this._readyState!==st.Unsupported){const e=n=>{typeof n.data=="object"&&n.data.__glow_loaded&&(this._readyState!==st.Installed&&(this._readyState=st.Installed,this.emit("readyStateChange",this._readyState)),window.removeEventListener("message",e))};window.addEventListener("message",e),ai(()=>{var n;return(n=window.glowSolana)!=null&&n.isGlow?(window.removeEventListener("message",e),this._readyState!==st.Installed&&(this._readyState=st.Installed,this.emit("readyStateChange",this._readyState)),!0):!1})}}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var t;return!!((t=this._wallet)!=null&&t.isConnected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==st.Installed)throw new Ze;this._connecting=!0;const t=window.glowSolana;try{await t.connect()}catch(n){throw new Ve(n==null?void 0:n.message,n)}if(!t.publicKey)throw new cn;let e;try{e=new lt(t.publicKey.toBytes())}catch(n){throw new hn(n==null?void 0:n.message,n)}t.on("disconnect",this._disconnected),this._wallet=t,this._publicKey=e,this.emit("connect",e)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new Qn(e==null?void 0:e.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,n={}){try{const s=this._wallet;if(!s)throw new xt;try{const{signers:i,...o}=n;t=await this.prepareTransaction(t,e,o),i!=null&&i.length&&t.partialSign(...i),o.preflightCommitment=o.preflightCommitment||e.commitment;const{signature:a}=await s.signAndSendTransaction(t,{...o,network:this._network});return a}catch(i){throw i instanceof Yt?i:new nn(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(t){try{const e=this._wallet;if(!e)throw new xt;try{return await e.signTransaction(t,this._network)||t}catch(n){throw new ve(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const e=this._wallet;if(!e)throw new xt;try{return await e.signAllTransactions(t,this._network)||t}catch(n){throw new ve(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const e=this._wallet;if(!e)throw new xt;try{const{signature:n}=await e.signMessage(t);return n}catch(n){throw new Gn(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}}var Ei={exports:{}},Oc;function Iy(){if(Oc)return Ei.exports;Oc=1;var r=typeof Reflect=="object"?Reflect:null,t=r&&typeof r.apply=="function"?r.apply:function(D,R,j){return Function.prototype.apply.call(D,R,j)},e;r&&typeof r.ownKeys=="function"?e=r.ownKeys:Object.getOwnPropertySymbols?e=function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:e=function(D){return Object.getOwnPropertyNames(D)};function n(L){console&&console.warn&&console.warn(L)}var s=Number.isNaN||function(D){return D!==D};function i(){i.init.call(this)}Ei.exports=i,Ei.exports.once=k,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function a(L){if(typeof L!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof L)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(L){if(typeof L!="number"||L<0||s(L))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+L+".");o=L}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||s(D))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+D+".");return this._maxListeners=D,this};function c(L){return L._maxListeners===void 0?i.defaultMaxListeners:L._maxListeners}i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(D){for(var R=[],j=1;j<arguments.length;j++)R.push(arguments[j]);var H=D==="error",K=this._events;if(K!==void 0)H=H&&K.error===void 0;else if(!H)return!1;if(H){var Z;if(R.length>0&&(Z=R[0]),Z instanceof Error)throw Z;var X=new Error("Unhandled error."+(Z?" ("+Z.message+")":""));throw X.context=Z,X}var ot=K[D];if(ot===void 0)return!1;if(typeof ot=="function")t(ot,this,R);else for(var C=ot.length,u=B(ot,C),j=0;j<C;++j)t(u[j],this,R);return!0};function d(L,D,R,j){var H,K,Z;if(a(R),K=L._events,K===void 0?(K=L._events=Object.create(null),L._eventsCount=0):(K.newListener!==void 0&&(L.emit("newListener",D,R.listener?R.listener:R),K=L._events),Z=K[D]),Z===void 0)Z=K[D]=R,++L._eventsCount;else if(typeof Z=="function"?Z=K[D]=j?[R,Z]:[Z,R]:j?Z.unshift(R):Z.push(R),H=c(L),H>0&&Z.length>H&&!Z.warned){Z.warned=!0;var X=new Error("Possible EventEmitter memory leak detected. "+Z.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");X.name="MaxListenersExceededWarning",X.emitter=L,X.type=D,X.count=Z.length,n(X)}return L}i.prototype.addListener=function(D,R){return d(this,D,R,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(D,R){return d(this,D,R,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(L,D,R){var j={fired:!1,wrapFn:void 0,target:L,type:D,listener:R},H=p.bind(j);return H.listener=R,j.wrapFn=H,H}i.prototype.once=function(D,R){return a(R),this.on(D,m(this,D,R)),this},i.prototype.prependOnceListener=function(D,R){return a(R),this.prependListener(D,m(this,D,R)),this},i.prototype.removeListener=function(D,R){var j,H,K,Z,X;if(a(R),H=this._events,H===void 0)return this;if(j=H[D],j===void 0)return this;if(j===R||j.listener===R)--this._eventsCount===0?this._events=Object.create(null):(delete H[D],H.removeListener&&this.emit("removeListener",D,j.listener||R));else if(typeof j!="function"){for(K=-1,Z=j.length-1;Z>=0;Z--)if(j[Z]===R||j[Z].listener===R){X=j[Z].listener,K=Z;break}if(K<0)return this;K===0?j.shift():T(j,K),j.length===1&&(H[D]=j[0]),H.removeListener!==void 0&&this.emit("removeListener",D,X||R)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(D){var R,j,H;if(j=this._events,j===void 0)return this;if(j.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):j[D]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete j[D]),this;if(arguments.length===0){var K=Object.keys(j),Z;for(H=0;H<K.length;++H)Z=K[H],Z!=="removeListener"&&this.removeAllListeners(Z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(R=j[D],typeof R=="function")this.removeListener(D,R);else if(R!==void 0)for(H=R.length-1;H>=0;H--)this.removeListener(D,R[H]);return this};function I(L,D,R){var j=L._events;if(j===void 0)return[];var H=j[D];return H===void 0?[]:typeof H=="function"?R?[H.listener||H]:[H]:R?v(H):B(H,H.length)}i.prototype.listeners=function(D){return I(this,D,!0)},i.prototype.rawListeners=function(D){return I(this,D,!1)},i.listenerCount=function(L,D){return typeof L.listenerCount=="function"?L.listenerCount(D):b.call(L,D)},i.prototype.listenerCount=b;function b(L){var D=this._events;if(D!==void 0){var R=D[L];if(typeof R=="function")return 1;if(R!==void 0)return R.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]};function B(L,D){for(var R=new Array(D),j=0;j<D;++j)R[j]=L[j];return R}function T(L,D){for(;D+1<L.length;D++)L[D]=L[D+1];L.pop()}function v(L){for(var D=new Array(L.length),R=0;R<D.length;++R)D[R]=L[R].listener||L[R];return D}function k(L,D){return new Promise(function(R,j){function H(Z){L.removeListener(D,K),j(Z)}function K(){typeof L.removeListener=="function"&&L.removeListener("error",H),R([].slice.call(arguments))}S(L,D,K,{once:!0}),D!=="error"&&O(L,H,{once:!0})})}function O(L,D,R){typeof L.on=="function"&&S(L,"error",D,R)}function S(L,D,R,j){if(typeof L.on=="function")j.once?L.once(D,R):L.on(D,R);else if(typeof L.addEventListener=="function")L.addEventListener(D,function H(K){j.once&&L.removeEventListener(D,H),R(K)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof L)}return Ei.exports}var xy=Iy();const By=Wn(xy),Ul={},jl={},La=(r,t)=>{jl[r]=t},G=r=>{class t extends Error{constructor(n,s,i){if(super(n||r,i),Object.setPrototypeOf(this,t.prototype),this.name=r,s)for(const o in s)this[o]=s[o];if(i&&_y(i)&&"cause"in i&&!("cause"in this)){const o=i.cause;this.cause=o,"stack"in o&&(this.stack=this.stack+`
CAUSE: `+o.stack)}}}return Ul[r]=t,t};function _y(r){return typeof r=="object"}const zl=r=>{if(r&&typeof r=="object"){try{if(typeof r.message=="string"){const e=JSON.parse(r.message);e.message&&e.name&&(r=e)}}catch{}let t;if(typeof r.name=="string"){const{name:e}=r,n=jl[e];if(n)t=n(r);else{let s=e==="Error"?Error:Ul[e];s||(console.warn("deserializing an unknown class '"+e+"'"),s=G(e)),t=Object.create(s.prototype);try{for(const i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}catch{}}}else typeof r.message=="string"&&(t=new Error(r.message));return t&&!t.stack&&Error.captureStackTrace&&Error.captureStackTrace(t,zl),t}return new Error(String(r))},Ty=r=>r&&(typeof r=="object"?Fl(r,[]):typeof r=="function"?`[Function: ${r.name||"anonymous"}]`:r);function Fl(r,t){const e={};t.push(r);for(const n of Object.keys(r)){const s=r[n];if(typeof s!="function"){if(!s||typeof s!="object"){e[n]=s;continue}if(t.indexOf(r[n])===-1){e[n]=Fl(r[n],t.slice(0));continue}e[n]="[Circular]"}}return typeof r.name=="string"&&(e.name=r.name),typeof r.message=="string"&&(e.message=r.message),typeof r.stack=="string"&&(e.stack=r.stack),e}const Cy=G("AccountNameRequired"),Ny=G("AccountNotSupported"),Ly=G("AccountAwaitingSendPendingOperations"),Dy=G("AmountRequired"),ky=G("BluetoothRequired"),Ry=G("BtcUnmatchedApp"),Oy=G("CantOpenDevice"),Py=G("CashAddrNotSupported"),Uy=G("ClaimRewardsFeesWarning"),jy=G("CurrencyNotSupported"),zy=G("DeviceAppVerifyNotSupported"),Fy=G("DeviceGenuineSocketEarlyClose"),Wy=G("DeviceNotGenuine"),Hy=G("DeviceOnDashboardExpected"),Qy=G("DeviceOnDashboardUnexpected"),Gy=G("DeviceInOSUExpected"),Ky=G("DeviceHalted"),Yy=G("DeviceNameInvalid"),qy=G("DeviceSocketFail"),Vy=G("DeviceSocketNoBulkStatus"),Zy=G("DeviceSocketNoBulkStatus"),Jy=G("UnresponsiveDeviceError"),Xy=G("DisconnectedDevice"),$y=G("DisconnectedDeviceDuringOperation"),tm=G("DeviceExtractOnboardingStateError"),em=G("DeviceOnboardingStatePollingError"),nm=G("EnpointConfig"),rm=G("EthAppPleaseEnableContractData"),im=G("FeeEstimationFailed"),sm=G("FirmwareNotRecognized"),om=G("HardResetFail"),am=G("InvalidXRPTag"),cm=G("InvalidAddress"),um=G("InvalidNonce"),lm=G("InvalidAddressBecauseDestinationIsAlsoSource"),fm=G("LatestMCUInstalledError"),hm=G("UnknownMCU"),dm=G("LedgerAPIError"),gm=G("LedgerAPIErrorWithMessage"),pm=G("LedgerAPINotAvailable"),wm=G("ManagerAppAlreadyInstalled"),ym=G("ManagerAppRelyOnBTC"),mm=G("ManagerAppDepInstallRequired"),Am=G("ManagerAppDepUninstallRequired"),bm=G("ManagerDeviceLocked"),vm=G("ManagerFirmwareNotEnoughSpace"),Em=G("ManagerNotEnoughSpace"),Mm=G("ManagerUninstallBTCDep"),Sm=G("NetworkDown"),Im=G("NetworkError"),xm=G("NoAddressesFound"),Bm=G("NotEnoughBalance"),_m=G("NotEnoughBalanceSwap"),Tm=G("NotEnoughBalanceToDelegate"),Cm=G("NotEnoughBalanceInParentAccount"),Nm=G("NotEnoughSpendableBalance"),Lm=G("NotEnoughBalanceBecauseDestinationNotCreated"),Dm=G("NoAccessToCamera"),km=G("NotEnoughGas"),Rm=G("NotEnoughGasSwap"),Om=G("TronEmptyAccount"),Pm=G("MaybeKeepTronAccountAlive"),Um=G("NotSupportedLegacyAddress"),jm=G("GasLessThanEstimate"),zm=G("PriorityFeeTooLow"),Fm=G("PriorityFeeTooHigh"),Wm=G("PriorityFeeHigherThanMaxFee"),Hm=G("MaxFeeTooLow"),Qm=G("PasswordsDontMatch"),Gm=G("PasswordIncorrect"),Km=G("RecommendSubAccountsToEmpty"),Ym=G("RecommendUndelegation"),qm=G("TimeoutTagged"),Vm=G("UnexpectedBootloader"),Zm=G("MCUNotGenuineToDashboard"),Jm=G("RecipientRequired"),Xm=G("UnavailableTezosOriginatedAccountReceive"),$m=G("UnavailableTezosOriginatedAccountSend"),t1=G("UpdateFetchFileFail"),e1=G("UpdateIncorrectHash"),n1=G("UpdateIncorrectSig"),r1=G("UpdateYourApp"),i1=G("UserRefusedDeviceNameChange"),s1=G("UserRefusedAddress"),o1=G("UserRefusedFirmwareUpdate"),a1=G("UserRefusedAllowManager"),c1=G("UserRefusedOnDevice"),u1=G("PinNotSet"),l1=G("ExpertModeRequired"),f1=G("TransportOpenUserCancelled"),h1=G("TransportInterfaceNotAvailable"),Wl=G("TransportRaceCondition"),d1=G("TransportWebUSBGestureRequired"),g1=G("TransactionHasBeenValidatedError"),p1=G("TransportExchangeTimeoutError"),w1=G("DeviceShouldStayInApp"),y1=G("WebsocketConnectionError"),m1=G("WebsocketConnectionFailed"),A1=G("WrongDeviceForAccount"),b1=G("WrongDeviceForAccountPayout"),v1=G("WrongDeviceForAccountRefund"),E1=G("WrongAppForCurrency"),M1=G("ETHAddressNonEIP"),S1=G("CantScanQRCode"),I1=G("FeeNotLoaded"),x1=G("FeeNotLoadedSwap"),B1=G("FeeRequired"),_1=G("FeeTooHigh"),T1=G("PendingOperation"),C1=G("SyncError"),N1=G("PairingFailed"),L1=G("PeerRemovedPairing"),D1=G("GenuineCheckFailed"),k1=G("LedgerAPI4xx"),R1=G("LedgerAPI5xx"),O1=G("FirmwareOrAppUpdateRequired"),P1=G("ReplacementTransactionUnderpriced"),U1=G("OpReturnSizeLimit"),j1=G("DustLimit"),z1=G("LanguageNotFound"),F1=G("NoDBPathGiven"),W1=G("DBWrongPassword"),H1=G("DBNotReset"),Q1=G("SequenceNumberError"),G1=G("DisabledTransactionBroadcastError");var zo;(function(r){r.Unknown="Unknown",r.LocationServicesDisabled="LocationServicesDisabled",r.LocationServicesUnauthorized="LocationServicesUnauthorized",r.BluetoothScanStartFailed="BluetoothScanStartFailed"})(zo||(zo={}));class Da extends Error{constructor(t,e){super(e),this.name="HwTransportError",this.type=t,Object.setPrototypeOf(this,Da.prototype)}}class Mr extends Error{constructor(t,e){const n="TransportError";super(t||n),this.name=n,this.message=t,this.stack=new Error(t).stack,this.id=e}}La("TransportError",r=>new Mr(r.message,r.id));const rr={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698,TRUSTCHAIN_WRONG_SEED:45063};function Hl(r){switch(r){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=r&&r<=28671)return"Internal error, please report"}class hr extends Error{constructor(t,{canBeMappedToChildError:e=!0}={}){const n=Object.keys(rr).find(a=>rr[a]===t)||"UNKNOWN_ERROR",s=Hl(t)||n,i=t.toString(16),o=`Ledger device: ${s} (0x${i})`;if(super(o),this.name="TransportStatusError",this.statusCode=t,this.statusText=n,Object.setPrototypeOf(this,hr.prototype),e&&t===rr.LOCKED_DEVICE)return new ds(o)}}class ds extends hr{constructor(t){super(rr.LOCKED_DEVICE,{canBeMappedToChildError:!1}),t&&(this.message=t),this.name="LockedDeviceError",Object.setPrototypeOf(this,ds.prototype)}}La("TransportStatusError",r=>new hr(r.statusCode));const TA=Object.freeze(Object.defineProperty({__proto__:null,AccountAwaitingSendPendingOperations:Ly,AccountNameRequiredError:Cy,AccountNotSupported:Ny,AmountRequired:Dy,BluetoothRequired:ky,BtcUnmatchedApp:Ry,CantOpenDevice:Oy,CantScanQRCode:S1,CashAddrNotSupported:Py,ClaimRewardsFeesWarning:Uy,CurrencyNotSupported:jy,DBNotReset:H1,DBWrongPassword:W1,DeviceAppVerifyNotSupported:zy,DeviceExtractOnboardingStateError:tm,DeviceGenuineSocketEarlyClose:Fy,DeviceHalted:Ky,DeviceInOSUExpected:Gy,DeviceNameInvalid:Yy,DeviceNeedsRestart:Zy,DeviceNotGenuineError:Wy,DeviceOnDashboardExpected:Hy,DeviceOnDashboardUnexpected:Qy,DeviceOnboardingStatePollingError:em,DeviceShouldStayInApp:w1,DeviceSocketFail:qy,DeviceSocketNoBulkStatus:Vy,DisabledTransactionBroadcastError:G1,DisconnectedDevice:Xy,DisconnectedDeviceDuringOperation:$y,DustLimit:j1,ETHAddressNonEIP:M1,EnpointConfigError:nm,EthAppPleaseEnableContractData:rm,ExpertModeRequired:l1,FeeEstimationFailed:im,FeeNotLoaded:I1,FeeNotLoadedSwap:x1,FeeRequired:B1,FeeTooHigh:_1,FirmwareNotRecognized:sm,FirmwareOrAppUpdateRequired:O1,GasLessThanEstimate:jm,GenuineCheckFailed:D1,HardResetFail:om,HwTransportError:Da,get HwTransportErrorType(){return zo},InvalidAddress:cm,InvalidAddressBecauseDestinationIsAlsoSource:lm,InvalidNonce:um,InvalidXRPTag:am,LanguageNotFound:z1,LatestMCUInstalledError:fm,LedgerAPI4xx:k1,LedgerAPI5xx:R1,LedgerAPIError:dm,LedgerAPIErrorWithMessage:gm,LedgerAPINotAvailable:pm,LockedDeviceError:ds,MCUNotGenuineToDashboard:Zm,ManagerAppAlreadyInstalledError:wm,ManagerAppDepInstallRequired:mm,ManagerAppDepUninstallRequired:Am,ManagerAppRelyOnBTCError:ym,ManagerDeviceLockedError:bm,ManagerFirmwareNotEnoughSpaceError:vm,ManagerNotEnoughSpaceError:Em,ManagerUninstallBTCDep:Mm,MaxFeeTooLow:Hm,MaybeKeepTronAccountAlive:Pm,NetworkDown:Sm,NetworkError:Im,NoAccessToCamera:Dm,NoAddressesFound:xm,NoDBPathGiven:F1,NotEnoughBalance:Bm,NotEnoughBalanceBecauseDestinationNotCreated:Lm,NotEnoughBalanceInParentAccount:Cm,NotEnoughBalanceSwap:_m,NotEnoughBalanceToDelegate:Tm,NotEnoughGas:km,NotEnoughGasSwap:Rm,NotEnoughSpendableBalance:Nm,NotSupportedLegacyAddress:Um,OpReturnDataSizeLimit:U1,PairingFailed:N1,PasswordIncorrectError:Gm,PasswordsDontMatchError:Qm,PeerRemovedPairing:L1,PendingOperation:T1,PinNotSet:u1,PriorityFeeHigherThanMaxFee:Wm,PriorityFeeTooHigh:Fm,PriorityFeeTooLow:zm,RecipientRequired:Jm,RecommendSubAccountsToEmpty:Km,RecommendUndelegation:Ym,ReplacementTransactionUnderpriced:P1,SequenceNumberError:Q1,StatusCodes:rr,SyncError:C1,TimeoutTagged:qm,TransactionHasBeenValidatedError:g1,TransportError:Mr,TransportExchangeTimeoutError:p1,TransportInterfaceNotAvailable:h1,TransportOpenUserCancelled:f1,TransportRaceCondition:Wl,TransportStatusError:hr,TransportWebUSBGestureRequired:d1,TronEmptyAccount:Om,UnavailableTezosOriginatedAccountReceive:Xm,UnavailableTezosOriginatedAccountSend:$m,UnexpectedBootloader:Vm,UnknownMCU:hm,UnresponsiveDeviceError:Jy,UpdateFetchFileFail:t1,UpdateIncorrectHash:e1,UpdateIncorrectSig:n1,UpdateYourApp:r1,UserRefusedAddress:s1,UserRefusedAllowManager:a1,UserRefusedDeviceNameChange:i1,UserRefusedFirmwareUpdate:o1,UserRefusedOnDevice:c1,WebsocketConnectionError:y1,WebsocketConnectionFailed:m1,WrongAppForCurrency:E1,WrongDeviceForAccount:A1,WrongDeviceForAccountPayout:b1,WrongDeviceForAccountRefund:v1,addCustomErrorDeserializer:La,createCustomErrorClass:G,deserializeError:zl,getAltStatusMessage:Hl,serializeError:Ty},Symbol.toStringTag,{value:"Module"}));var go=function(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(p){try{d(n.next(p))}catch(m){o(m)}}function c(p){try{d(n.throw(p))}catch(m){o(m)}}function d(p){p.done?i(p.value):s(p.value).then(a,c)}d((n=n.apply(r,t||[])).next())})},po=function(r,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(d){return function(p){return c([d,p])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,s=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){e.label=d[1];break}if(d[0]===6&&e.label<i[1]){e.label=i[1],i=d;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(d);break}i[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(r,e)}catch(p){d=[6,p],s=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},K1=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(o)throw o.error}}return i},Y1=function(r,t,e){if(e||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return r.concat(i||Array.prototype.slice.call(t))},q1=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},CA=function(){function r(){var t=this;this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new By,this.send=function(e,n,s,i,o,a){return o===void 0&&(o=Buffer.alloc(0)),a===void 0&&(a=[rr.OK]),go(t,void 0,void 0,function(){var c,d;return po(this,function(p){switch(p.label){case 0:if(o.length>=256)throw new Mr("data.length exceed 256 bytes limit. Got: "+o.length,"DataLengthTooBig");return[4,this.exchange(Buffer.concat([Buffer.from([e,n,s,i]),Buffer.from([o.length]),o]))];case 1:if(c=p.sent(),d=c.readUInt16BE(c.length-2),!a.some(function(m){return m===d}))throw new hr(d);return[2,c]}})})},this.exchangeAtomicImpl=function(e){return go(t,void 0,void 0,function(){var n,s,i,o,a,c=this;return po(this,function(d){switch(d.label){case 0:if(this.exchangeBusyPromise)throw new Wl("An action was already pending on the Ledger device. Please deny or reconnect.");s=new Promise(function(p){n=p}),this.exchangeBusyPromise=s,i=!1,o=setTimeout(function(){i=!0,c.emit("unresponsive")},this.unresponsiveTimeout),d.label=1;case 1:return d.trys.push([1,,3,4]),[4,e()];case 2:return a=d.sent(),i&&this.emit("responsive"),[2,a];case 3:return clearTimeout(o),n&&n(),this.exchangeBusyPromise=null,[7];case 4:return[2]}})})},this._appAPIlock=null}return r.prototype.exchange=function(t){throw new Error("exchange not implemented")},r.prototype.setScrambleKey=function(t){},r.prototype.close=function(){return Promise.resolve()},r.prototype.on=function(t,e){this._events.on(t,e)},r.prototype.off=function(t,e){this._events.removeListener(t,e)},r.prototype.emit=function(t){for(var e,n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];(e=this._events).emit.apply(e,Y1([t],K1(n),!1))},r.prototype.setDebugMode=function(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")},r.prototype.setExchangeTimeout=function(t){this.exchangeTimeout=t},r.prototype.setExchangeUnresponsiveTimeout=function(t){this.unresponsiveTimeout=t},r.create=function(t,e){var n=this;return t===void 0&&(t=3e3),new Promise(function(s,i){var o=!1,a=n.listen({next:function(d){o=!0,a&&a.unsubscribe(),c&&clearTimeout(c),n.open(d.descriptor,t).then(s,i)},error:function(d){c&&clearTimeout(c),i(d)},complete:function(){c&&clearTimeout(c),o||i(new Mr(n.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),c=e?setTimeout(function(){a.unsubscribe(),i(new Mr(n.ErrorMessage_ListenTimeout,"ListenTimeout"))},e):null})},r.prototype.decorateAppAPIMethods=function(t,e,n){var s,i;try{for(var o=q1(e),a=o.next();!a.done;a=o.next()){var c=a.value;t[c]=this.decorateAppAPIMethod(c,t[c],t,n)}}catch(d){s={error:d}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}},r.prototype.decorateAppAPIMethod=function(t,e,n,s){var i=this;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return go(i,void 0,void 0,function(){var c;return po(this,function(d){switch(d.label){case 0:if(c=this._appAPIlock,c)return[2,Promise.reject(new Mr("Ledger Device is busy (lock "+c+")","TransportLocked"))];d.label=1;case 1:return d.trys.push([1,,3,4]),this._appAPIlock=t,this.setScrambleKey(s),[4,e.apply(n,o)];case 2:return[2,d.sent()];case 3:return this._appAPIlock=null,[7];case 4:return[2]}})})}},r.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",r.ErrorMessage_NoDeviceFound="No Ledger device found",r}();function V1(r,t){const n=Buffer.alloc(17);let s=n.writeUInt8(4,0);return s=n.writeUInt32BE(Mi(44),s),s=n.writeUInt32BE(Mi(501),s),s=n.writeUInt32BE(Mi(r),s),n.writeUInt32BE(Mi(t),s),n}const Z1=1<<31>>>0;function Mi(r){return(r|Z1)>>>0}const J1=5,X1=6,$1=0,tA=1,eA=1,nA=2,Si=255,Pc=224;async function rA(r,t){const e=await Ql(r,J1,$1,t);return new lt(e)}async function iA(r,t,e){const n=Buffer.alloc(1);n.writeUInt8(1,0);const s=pn(t)?t.message.serialize():t.serializeMessage(),i=Buffer.concat([n,e,s]);return await Ql(r,X1,tA,i)}async function Ql(r,t,e,n){let s=0,i=0;if(n.length>Si)for(;n.length-i>Si;){const c=n.slice(i,i+Si);if((await r.send(Pc,t,e,s|nA,c)).length!==2)throw new hr(rr.INCORRECT_DATA);s|=eA,i+=Si}const o=n.slice(i),a=await r.send(Pc,t,e,s,o);return a.slice(0,a.length-2)}const sA="Ledger";class NA extends sl{constructor(t={}){super(),this.name=sA,this.url="https://ledger.com",this.icon="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMzUgMzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0ibTIzLjU4OCAwaC0xNnYyMS41ODNoMjEuNnYtMTZhNS41ODUgNS41ODUgMCAwIDAgLTUuNi01LjU4M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5KSIvPjxwYXRoIGQ9Im04LjM0MiAwaC0yLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCAtNS41ODUgNS41ODV2Mi43NTdoOC4zNDJ6Ii8+PHBhdGggZD0ibTAgNy41OWg4LjM0MnY4LjM0MmgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUuNzM5KSIvPjxwYXRoIGQ9Im0xNS4xOCAyMy40NTFoMi43NTdhNS41ODUgNS41ODUgMCAwIDAgNS41ODUtNS42di0yLjY3MWgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMS40NzggMTEuNDc4KSIvPjxwYXRoIGQ9Im03LjU5IDE1LjE4aDguMzQydjguMzQyaC04LjM0MnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5IDExLjQ3OCkiLz48cGF0aCBkPSJtMCAxNS4xOHYyLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCA1LjU4NSA1LjU4NWgyLjc1N3YtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDExLjQ3OCkiLz48L2c+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"||typeof navigator>"u"||!navigator.hid?st.Unsupported:st.Loadable,this._disconnected=()=>{const e=this._transport;e&&(e.off("disconnect",this._disconnected),this._transport=null,this._publicKey=null,this.emit("error",new Hn),this.emit("disconnect"))},this._derivationPath=t.derivationPath||V1(0,0),this._connecting=!1,this._transport=null,this._publicKey=null}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==st.Loadable)throw new Ze;this._connecting=!0;let t;try{t=(await ui(async()=>{const{default:s}=await import("./TransportWebHID-DeX-8cEK.js");return{default:s}},__vite__mapDeps([0,1,2]))).default}catch(s){throw new os(s==null?void 0:s.message,s)}let e;try{e=await t.create()}catch(s){throw new Ve(s==null?void 0:s.message,s)}let n;try{n=await rA(e,this._derivationPath)}catch(s){throw new hn(s==null?void 0:s.message,s)}e.on("disconnect",this._disconnected),this._transport=e,this._publicKey=n,this.emit("connect",n)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._transport;if(t){t.off("disconnect",this._disconnected),this._transport=null,this._publicKey=null;try{await t.close()}catch(e){this.emit("error",new Qn(e==null?void 0:e.message,e))}}this.emit("disconnect")}async signTransaction(t){try{const e=this._transport,n=this._publicKey;if(!e||!n)throw new xt;try{const s=await iA(e,t,this._derivationPath);t.addSignature(n,s)}catch(s){throw new ve(s==null?void 0:s.message,s)}return t}catch(e){throw this.emit("error",e),e}}}const oA="Phantom";class LA extends fr{constructor(t={}){super(),this.name=oA,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?st.Unsupported:st.NotDetected,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Hn),this.emit("disconnect"))},this._accountChanged=e=>{const n=this._publicKey;if(n){try{e=new lt(e.toBytes())}catch(s){this.emit("error",new hn(s==null?void 0:s.message,s));return}n.equals(e)||(this._publicKey=e,this.emit("connect",e))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==st.Unsupported&&(Bo()?(this._readyState=st.Loadable,this.emit("readyStateChange",this._readyState)):ai(()=>{var e,n,s;return(n=(e=window.phantom)==null?void 0:e.solana)!=null&&n.isPhantom||(s=window.solana)!=null&&s.isPhantom?(this._readyState=st.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===st.Installed&&await this.connect()}async connect(){var t;try{if(this.connected||this.connecting)return;if(this.readyState===st.Loadable){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${s}?ref=${i}`;return}if(this.readyState!==st.Installed)throw new Ze;this._connecting=!0;const e=((t=window.phantom)==null?void 0:t.solana)||window.solana;if(!e.isConnected)try{await e.connect()}catch(s){throw new Ve(s==null?void 0:s.message,s)}if(!e.publicKey)throw new cn;let n;try{n=new lt(e.publicKey.toBytes())}catch(s){throw new hn(s==null?void 0:s.message,s)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new Qn(e==null?void 0:e.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,n={}){try{const s=this._wallet;if(!s)throw new xt;try{const{signers:i,...o}=n;pn(t)?i!=null&&i.length&&t.sign(i):(t=await this.prepareTransaction(t,e,o),i!=null&&i.length&&t.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||e.commitment;const{signature:a}=await s.signAndSendTransaction(t,o);return a}catch(i){throw i instanceof Yt?i:new nn(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(t){try{const e=this._wallet;if(!e)throw new xt;try{return await e.signTransaction(t)||t}catch(n){throw new ve(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const e=this._wallet;if(!e)throw new xt;try{return await e.signAllTransactions(t)||t}catch(n){throw new ve(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const e=this._wallet;if(!e)throw new xt;try{const{signature:n}=await e.signMessage(t);return n}catch(n){throw new Gn(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}}const aA="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var Dt=function(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)},cA=function(r,t,e,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,e):s?s.value=e:t.set(r,e),e},Ci,tr,Fo,Wo,Ho,Oe,Qo,Gl,Kl,Go,Ko,Yo,qo,Vo;class uA{constructor(){Ci.add(this),tr.set(this,{}),Fo.set(this,"1.0.0"),Wo.set(this,"MetaMask"),Ho.set(this,aA),Oe.set(this,null),Qo.set(this,(t,e)=>{var n;return(n=Dt(this,tr,"f")[t])!=null&&n.push(e)||(Dt(this,tr,"f")[t]=[e]),()=>Dt(this,Ci,"m",Kl).call(this,t,e)}),Go.set(this,async()=>{if(!Dt(this,Oe,"f")){let t;try{t=(await ui(async()=>{const{default:e}=await import("./index-DHpxlpob.js");return{default:e}},__vite__mapDeps([3,1]))).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}cA(this,Oe,new t,"f"),Dt(this,Oe,"f").on("standard_change",e=>Dt(this,Ci,"m",Gl).call(this,"change",e))}return this.accounts.length||await Dt(this,Oe,"f").connect(),{accounts:this.accounts}}),Ko.set(this,async()=>{Dt(this,Oe,"f")&&await Dt(this,Oe,"f").disconnect()}),Yo.set(this,async(...t)=>{if(!Dt(this,Oe,"f"))throw new xt;return await Dt(this,Oe,"f").standardSignAndSendTransaction(...t)}),qo.set(this,async(...t)=>{if(!Dt(this,Oe,"f"))throw new xt;return await Dt(this,Oe,"f").standardSignTransaction(...t)}),Vo.set(this,async(...t)=>{if(!Dt(this,Oe,"f"))throw new xt;return await Dt(this,Oe,"f").standardSignMessage(...t)})}get version(){return Dt(this,Fo,"f")}get name(){return Dt(this,Wo,"f")}get icon(){return Dt(this,Ho,"f")}get chains(){return[Co,cl,ul]}get features(){return{[Ia]:{version:"1.0.0",connect:Dt(this,Go,"f")},[_o]:{version:"1.0.0",disconnect:Dt(this,Ko,"f")},[xa]:{version:"1.0.0",on:Dt(this,Qo,"f")},[xn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Dt(this,Yo,"f")},[Se]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Dt(this,qo,"f")},[Ar]:{version:"1.0.0",signMessage:Dt(this,Vo,"f")}}}get accounts(){return Dt(this,Oe,"f")?Dt(this,Oe,"f").standardAccounts:[]}}tr=new WeakMap,Fo=new WeakMap,Wo=new WeakMap,Ho=new WeakMap,Oe=new WeakMap,Qo=new WeakMap,Go=new WeakMap,Ko=new WeakMap,Yo=new WeakMap,qo=new WeakMap,Vo=new WeakMap,Ci=new WeakSet,Gl=function(t,...e){var n;(n=Dt(this,tr,"f")[t])==null||n.forEach(s=>s.apply(null,e))},Kl=function(t,e){var n;Dt(this,tr,"f")[t]=(n=Dt(this,tr,"f")[t])==null?void 0:n.filter(s=>e!==s)};let Uc=!1;function lA(){Uc||(Fw(new uA),Uc=!0)}async function fA(){const r="solflare-detect-metamask";function t(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:r,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function e(n){var i,o;const s=n.data;(s==null?void 0:s.target)==="metamask-inpage"&&((i=s.data)==null?void 0:i.name)==="metamask-provider"&&(((o=s.data.data)==null?void 0:o.id)===r?(window.removeEventListener("message",e),s.data.data.error||lA()):t())}window.addEventListener("message",e),window.setTimeout(()=>window.removeEventListener("message",e),5e3),t()}const hA="Solflare";class DA extends fr{constructor(t={}){super(),this.name=hA,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?st.Unsupported:st.Loadable,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Hn),this.emit("disconnect"))},this._accountChanged=e=>{if(!e)return;const n=this._publicKey;if(n){try{e=new lt(e.toBytes())}catch(s){this.emit("error",new hn(s==null?void 0:s.message,s));return}n.equals(e)||(this._publicKey=e,this.emit("connect",e))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=t,this._readyState!==st.Unsupported&&(ai(()=>{var e;return(e=window.solflare)!=null&&e.isSolflare||window.SolflareApp?(this._readyState=st.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),fA())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var t;return!!((t=this._wallet)!=null&&t.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===st.Loadable&&Bo()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==st.Loadable&&this._readyState!==st.Installed)throw new Ze;if(this.readyState===st.Loadable&&Bo()){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${s}?ref=${i}`;return}let t;try{t=(await ui(async()=>{const{default:s}=await import("./index-oT5QDOPo.js");return{default:s}},__vite__mapDeps([4,1]))).default}catch(s){throw new os(s==null?void 0:s.message,s)}let e;try{e=new t({network:this._config.network})}catch(s){throw new jn(s==null?void 0:s.message,s)}if(this._connecting=!0,!e.connected)try{await e.connect()}catch(s){throw new Ve(s==null?void 0:s.message,s)}if(!e.publicKey)throw new Ve;let n;try{n=new lt(e.publicKey.toBytes())}catch(s){throw new hn(s==null?void 0:s.message,s)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new Qn(e==null?void 0:e.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,n={}){try{const s=this._wallet;if(!s)throw new xt;try{const{signers:i,...o}=n;return pn(t)?i!=null&&i.length&&t.sign(i):(t=await this.prepareTransaction(t,e,o),i!=null&&i.length&&t.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||e.commitment,await s.signAndSendTransaction(t,o)}catch(i){throw i instanceof Yt?i:new nn(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(t){try{const e=this._wallet;if(!e)throw new xt;try{return await e.signTransaction(t)||t}catch(n){throw new ve(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const e=this._wallet;if(!e)throw new xt;try{return await e.signAllTransactions(t)||t}catch(n){throw new ve(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const e=this._wallet;if(!e)throw new xt;try{return await e.signMessage(t,"utf8")}catch(n){throw new Gn(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}}class dA extends fr{constructor({provider:t,network:e=To.Mainnet,timeout:n=1e4}={}){super(),this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?st.Unsupported:st.NotDetected,this._disconnected=()=>{const s=this._wallet;s&&(s.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Hn),this.emit("disconnect"))},this._provider=t,this._network=e,this._timeout=n,this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==st.Unsupported&&(typeof this._provider=="string"?this._readyState=st.Loadable:ai(()=>{var s;return typeof((s=window.sollet)==null?void 0:s.postMessage)=="function"?(this._readyState=st.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var t;return!!((t=this._wallet)!=null&&t.connected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==st.Loadable&&this._readyState!==st.Installed)throw new Ze;this._connecting=!0;const t=this._provider||window.sollet;let e;try{e=(await ui(async()=>{const{default:i}=await import("./index-zh85Dgfm.js");return{default:i}},__vite__mapDeps([5,1]))).default}catch(i){throw new os(i==null?void 0:i.message,i)}let n;try{n=new e(t,this._network)}catch(i){throw new jn(i==null?void 0:i.message,i)}try{const i=n.handleDisconnect;let o,a;try{await new Promise((c,d)=>{const p=()=>{o&&clearTimeout(o),n.off("connect",p),c()};if(n.handleDisconnect=(...m)=>(n.off("connect",p),d(new wc),i.apply(n,m)),n.on("connect",p),n.connect().catch(m=>{n.off("connect",p),d(m)}),typeof t=="string"){let m=0;a=setInterval(()=>{const I=n._popup;I?I.closed&&d(new wc):m>50&&d(new Vg),m++},100)}else o=setTimeout(()=>d(new qg),this._timeout)})}finally{n.handleDisconnect=i,a&&clearInterval(a)}}catch(i){throw i instanceof Yt?i:new Ve(i==null?void 0:i.message,i)}if(!n.publicKey)throw new cn;let s;try{s=new lt(n.publicKey.toBytes())}catch(i){throw new hn(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),this._wallet=n,this._publicKey=s,this.emit("connect",s)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;const e=t.handleDisconnect;try{await new Promise((n,s)=>{const i=setTimeout(()=>n(),250);t.handleDisconnect=(...o)=>(clearTimeout(i),n(),t._responsePromises=new Map,e.apply(t,o)),t.disconnect().then(()=>{clearTimeout(i),n()},o=>{clearTimeout(i),(o==null?void 0:o.message)==="Wallet disconnected"?n():s(o)})})}catch(n){this.emit("error",new Qn(n==null?void 0:n.message,n))}finally{t.handleDisconnect=e}}this.emit("disconnect")}async signTransaction(t){try{const e=this._wallet;if(!e)throw new xt;try{return await e.signTransaction(t)||t}catch(n){throw new ve(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const e=this._wallet;if(!e)throw new xt;try{return await e.signAllTransactions(t)||t}catch(n){throw new ve(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const e=this._wallet;if(!e)throw new xt;try{const{signature:n}=await e.sign(t,"utf8");return Uint8Array.from(n)}catch(n){throw new Gn(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}}const gA="Sollet";class kA extends dA{constructor({provider:t="https://www.sollet.io",...e}={}){super({provider:t,...e}),this.name=gA,this.url="https://www.sollet.io",this.icon="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjUzMCIgd2lkdGg9IjUzMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtLTEtMWg1MzJ2NTMyaC01MzJ6IiBmaWxsPSJub25lIi8+PGcgZmlsbD0iIzAwZmZhMyI+PHBhdGggZD0ibTg4Ljg4OTM1IDM3Mi45ODIwMWMzLjE5My0zLjE5IDcuNTIyLTQuOTgyIDEyLjAzNS00Ljk4Mmg0MTYuNDYxYzcuNTg2IDAgMTEuMzg0IDkuMTc0IDYuMDE3IDE0LjUzNmwtODIuMjkxIDgyLjIyNmMtMy4xOTMgMy4xOTEtNy41MjIgNC45ODMtMTIuMDM2IDQuOTgzaC00MTYuNDYwMWMtNy41ODY2IDAtMTEuMzg0NS05LjE3NC02LjAxNzgtMTQuNTM3bDgyLjI5MTktODIuMjI2eiIvPjxwYXRoIGQ9Im04OC44ODkzNSA2NS45ODI1YzMuMTkzLTMuMTkwNCA3LjUyMi00Ljk4MjUgMTIuMDM1LTQuOTgyNWg0MTYuNDYxYzcuNTg2IDAgMTEuMzg0IDkuMTczOSA2LjAxNyAxNC41MzYzbC04Mi4yOTEgODIuMjI2N2MtMy4xOTMgMy4xOS03LjUyMiA0Ljk4Mi0xMi4wMzYgNC45ODJoLTQxNi40NjAxYy03LjU4NjYgMC0xMS4zODQ1LTkuMTc0LTYuMDE3OC0xNC41MzZsODIuMjkxOS04Mi4yMjY1eiIvPjxwYXRoIGQ9Im00NDEuMTExMzUgMjE5LjEwOTVjLTMuMTkzLTMuMTktNy41MjItNC45ODItMTIuMDM2LTQuOTgyaC00MTYuNDYwMWMtNy41ODY2IDAtMTEuMzg0NSA5LjE3My02LjAxNzggMTQuNTM2bDgyLjI5MTkgODIuMjI2YzMuMTkzIDMuMTkgNy41MjIgNC45ODMgMTIuMDM1IDQuOTgzaDQxNi40NjFjNy41ODYgMCAxMS4zODQtOS4xNzQgNi4wMTctMTQuNTM3eiIvPjwvZz48L3N2Zz4="}}const pA="Torus";class RA extends fr{constructor({params:t={showTorusButton:!1}}={params:{showTorusButton:!1}}){super(),this.name=pA,this.url="https://tor.us",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMyAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYuNSIgY3k9IjE2IiByPSIxNiIgZmlsbD0iIzAzNjRGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjIxODYgOS40OTIxOUMxMC40NTM5IDkuNDkyMTkgOS44MzM5OCAxMC4xMTIxIDkuODMzOTggMTAuODc2OFYxMi40ODk4QzkuODMzOTggMTMuMjU0NSAxMC40NTM5IDEzLjg3NDQgMTEuMjE4NiAxMy44NzQ0SDEzLjY2ODRWMjIuODk3NkMxMy42Njg0IDIzLjY2MjMgMTQuMjg4MyAyNC4yODIyIDE1LjA1MyAyNC4yODIySDE2LjY2NkMxNy40MzA3IDI0LjI4MjIgMTguMDUwNiAyMy42NjIzIDE4LjA1MDYgMjIuODk3NlYxMi41MDE1QzE4LjA1MDYgMTIuNDk3NiAxOC4wNTA2IDEyLjQ5MzcgMTguMDUwNiAxMi40ODk4VjEwLjg3NjhDMTguMDUwNiAxMC4xMTIxIDE3LjQzMDcgOS40OTIxOSAxNi42NjYgOS40OTIxOUgxNS4wNTNIMTEuMjE4NloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yMS4zMzc2IDEzLjg3NDRDMjIuNTQ3NyAxMy44NzQ0IDIzLjUyODcgMTIuODkzNCAyMy41Mjg3IDExLjY4MzNDMjMuNTI4NyAxMC40NzMyIDIyLjU0NzcgOS40OTIxOSAyMS4zMzc2IDkuNDkyMTlDMjAuMTI3NSA5LjQ5MjE5IDE5LjE0NjUgMTAuNDczMiAxOS4xNDY1IDExLjY4MzNDMTkuMTQ2NSAxMi44OTM0IDIwLjEyNzUgMTMuODc0NCAyMS4zMzc2IDEzLjg3NDRaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?st.Unsupported:st.Loadable,this._connecting=!1,this._wallet=null,this._publicKey=null,this._params=t}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var t;return!!((t=this._wallet)!=null&&t.isLoggedIn)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==st.Loadable)throw new Ze;this._connecting=!0;let t;try{t=(await ui(async()=>{const{default:i}=await import("./solanaEmbed.esm-Yya5o9Lh.js");return{default:i}},__vite__mapDeps([6,7,1,8,2]))).default}catch(i){throw new os(i==null?void 0:i.message,i)}let e;try{e=window.torus||new t}catch(i){throw new jn(i==null?void 0:i.message,i)}if(!e.isInitialized)try{await e.init(this._params)}catch(i){throw new Ve(i==null?void 0:i.message,i)}let n;try{n=await e.login()}catch(i){throw new cn(i==null?void 0:i.message,i)}let s;try{s=new lt(n[0])}catch(i){throw new hn(i==null?void 0:i.message,i)}this._wallet=e,this._publicKey=s,this.emit("connect",s)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){this._wallet=null,this._publicKey=null;try{t.isLoggedIn&&await t.cleanUp()}catch(e){this.emit("error",new Qn(e==null?void 0:e.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,n={}){try{const s=this._wallet;if(!s)throw new xt;try{const{signers:i,...o}=n;t=await this.prepareTransaction(t,e,o),i!=null&&i.length&&t.partialSign(...i),o.preflightCommitment=o.preflightCommitment||e.commitment;const{signature:a}=await s.signAndSendTransaction(t,o);return a}catch(i){throw i instanceof Yt?i:new nn(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(t){try{const e=this._wallet;if(!e)throw new xt;try{return await e.signTransaction(t)||t}catch(n){throw new ve(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const e=this._wallet;if(!e)throw new xt;try{return await e.signAllTransactions(t)||t}catch(n){throw new ve(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const e=this._wallet;if(!e)throw new xt;try{return await e.signMessage(t)}catch(n){throw new Gn(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}}export{BA as B,MA as C,$y as D,Yg as E,_A as G,NA as L,LA as P,DA as S,RA as T,$r as V,SA as W,kA as a,mt as b,IA as c,bh as d,lt as e,Qg as f,EA as g,xA as h,zp as i,an as j,f1 as k,TA as l,CA as m,Mr as n,Xy as o,xy as p,xn as q,Iy as r,sa as s,Se as t,al as u,Ar as v};
